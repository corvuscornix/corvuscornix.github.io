!function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=3)}([function(t,n,r){(function(t,r){var e;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},i=o._,u=Array.prototype,c=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,s=u.push,f=u.slice,l=c.toString,p=c.hasOwnProperty,h=Array.isArray,d=Object.keys,y=Object.create,v=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};n.nodeType?o._=b:(!r.nodeType&&r.exports&&(n=r.exports=b),n._=b),b.VERSION="1.9.1";var g,m=function(t,n,r){if(void 0===n)return t;switch(null==r?3:r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,o){return t.call(n,r,e,o)};case 4:return function(r,e,o,i){return t.call(n,r,e,o,i)}}return function(){return t.apply(n,arguments)}},_=function(t,n,r){return b.iteratee!==g?b.iteratee(t,n):null==t?b.identity:b.isFunction(t)?m(t,n,r):b.isObject(t)&&!b.isArray(t)?b.matcher(t):b.property(t)};b.iteratee=g=function(t,n){return _(t,n,1/0)};var w=function(t,n){return n=null==n?t.length-1:+n,function(){for(var r=Math.max(arguments.length-n,0),e=Array(r),o=0;o<r;o++)e[o]=arguments[o+n];switch(n){case 0:return t.call(this,e);case 1:return t.call(this,arguments[0],e);case 2:return t.call(this,arguments[0],arguments[1],e)}var i=Array(n+1);for(o=0;o<n;o++)i[o]=arguments[o];return i[n]=e,t.apply(this,i)}},x=function(t){if(!b.isObject(t))return{};if(y)return y(t);v.prototype=t;var n=new v;return v.prototype=null,n},S=function(t){return function(n){return null==n?void 0:n[t]}},E=function(t,n){return null!=t&&p.call(t,n)},j=function(t,n){for(var r=n.length,e=0;e<r;e++){if(null==t)return;t=t[n[e]]}return r?t:void 0},O=Math.pow(2,53)-1,T=S("length"),k=function(t){var n=T(t);return"number"==typeof n&&n>=0&&n<=O};b.each=b.forEach=function(t,n,r){var e,o;if(n=m(n,r),k(t))for(e=0,o=t.length;e<o;e++)n(t[e],e,t);else{var i=b.keys(t);for(e=0,o=i.length;e<o;e++)n(t[i[e]],i[e],t)}return t},b.map=b.collect=function(t,n,r){n=_(n,r);for(var e=!k(t)&&b.keys(t),o=(e||t).length,i=Array(o),u=0;u<o;u++){var c=e?e[u]:u;i[u]=n(t[c],c,t)}return i};var A=function(t){var n=function(n,r,e,o){var i=!k(n)&&b.keys(n),u=(i||n).length,c=t>0?0:u-1;for(o||(e=n[i?i[c]:c],c+=t);c>=0&&c<u;c+=t){var a=i?i[c]:c;e=r(e,n[a],a,n)}return e};return function(t,r,e,o){var i=arguments.length>=3;return n(t,m(r,o,4),e,i)}};b.reduce=b.foldl=b.inject=A(1),b.reduceRight=b.foldr=A(-1),b.find=b.detect=function(t,n,r){var e=(k(t)?b.findIndex:b.findKey)(t,n,r);if(void 0!==e&&-1!==e)return t[e]},b.filter=b.select=function(t,n,r){var e=[];return n=_(n,r),b.each(t,function(t,r,o){n(t,r,o)&&e.push(t)}),e},b.reject=function(t,n,r){return b.filter(t,b.negate(_(n)),r)},b.every=b.all=function(t,n,r){n=_(n,r);for(var e=!k(t)&&b.keys(t),o=(e||t).length,i=0;i<o;i++){var u=e?e[i]:i;if(!n(t[u],u,t))return!1}return!0},b.some=b.any=function(t,n,r){n=_(n,r);for(var e=!k(t)&&b.keys(t),o=(e||t).length,i=0;i<o;i++){var u=e?e[i]:i;if(n(t[u],u,t))return!0}return!1},b.contains=b.includes=b.include=function(t,n,r,e){return k(t)||(t=b.values(t)),("number"!=typeof r||e)&&(r=0),b.indexOf(t,n,r)>=0},b.invoke=w(function(t,n,r){var e,o;return b.isFunction(n)?o=n:b.isArray(n)&&(e=n.slice(0,-1),n=n[n.length-1]),b.map(t,function(t){var i=o;if(!i){if(e&&e.length&&(t=j(t,e)),null==t)return;i=t[n]}return null==i?i:i.apply(t,r)})}),b.pluck=function(t,n){return b.map(t,b.property(n))},b.where=function(t,n){return b.filter(t,b.matcher(n))},b.findWhere=function(t,n){return b.find(t,b.matcher(n))},b.max=function(t,n,r){var e,o,i=-1/0,u=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var c=0,a=(t=k(t)?t:b.values(t)).length;c<a;c++)null!=(e=t[c])&&e>i&&(i=e);else n=_(n,r),b.each(t,function(t,r,e){((o=n(t,r,e))>u||o===-1/0&&i===-1/0)&&(i=t,u=o)});return i},b.min=function(t,n,r){var e,o,i=1/0,u=1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var c=0,a=(t=k(t)?t:b.values(t)).length;c<a;c++)null!=(e=t[c])&&e<i&&(i=e);else n=_(n,r),b.each(t,function(t,r,e){((o=n(t,r,e))<u||o===1/0&&i===1/0)&&(i=t,u=o)});return i},b.shuffle=function(t){return b.sample(t,1/0)},b.sample=function(t,n,r){if(null==n||r)return k(t)||(t=b.values(t)),t[b.random(t.length-1)];var e=k(t)?b.clone(t):b.values(t),o=T(e);n=Math.max(Math.min(n,o),0);for(var i=o-1,u=0;u<n;u++){var c=b.random(u,i),a=e[u];e[u]=e[c],e[c]=a}return e.slice(0,n)},b.sortBy=function(t,n,r){var e=0;return n=_(n,r),b.pluck(b.map(t,function(t,r,o){return{value:t,index:e++,criteria:n(t,r,o)}}).sort(function(t,n){var r=t.criteria,e=n.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return t.index-n.index}),"value")};var I=function(t,n){return function(r,e,o){var i=n?[[],[]]:{};return e=_(e,o),b.each(r,function(n,o){var u=e(n,o,r);t(i,n,u)}),i}};b.groupBy=I(function(t,n,r){E(t,r)?t[r].push(n):t[r]=[n]}),b.indexBy=I(function(t,n,r){t[r]=n}),b.countBy=I(function(t,n,r){E(t,r)?t[r]++:t[r]=1});var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;b.toArray=function(t){return t?b.isArray(t)?f.call(t):b.isString(t)?t.match(P):k(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:k(t)?t.length:b.keys(t).length},b.partition=I(function(t,n,r){t[r?0:1].push(n)},!0),b.first=b.head=b.take=function(t,n,r){return null==t||t.length<1?null==n?void 0:[]:null==n||r?t[0]:b.initial(t,t.length-n)},b.initial=function(t,n,r){return f.call(t,0,Math.max(0,t.length-(null==n||r?1:n)))},b.last=function(t,n,r){return null==t||t.length<1?null==n?void 0:[]:null==n||r?t[t.length-1]:b.rest(t,Math.max(0,t.length-n))},b.rest=b.tail=b.drop=function(t,n,r){return f.call(t,null==n||r?1:n)},b.compact=function(t){return b.filter(t,Boolean)};var N=function(t,n,r,e){for(var o=(e=e||[]).length,i=0,u=T(t);i<u;i++){var c=t[i];if(k(c)&&(b.isArray(c)||b.isArguments(c)))if(n)for(var a=0,s=c.length;a<s;)e[o++]=c[a++];else N(c,n,r,e),o=e.length;else r||(e[o++]=c)}return e};b.flatten=function(t,n){return N(t,n,!1)},b.without=w(function(t,n){return b.difference(t,n)}),b.uniq=b.unique=function(t,n,r,e){b.isBoolean(n)||(e=r,r=n,n=!1),null!=r&&(r=_(r,e));for(var o=[],i=[],u=0,c=T(t);u<c;u++){var a=t[u],s=r?r(a,u,t):a;n&&!r?(u&&i===s||o.push(a),i=s):r?b.contains(i,s)||(i.push(s),o.push(a)):b.contains(o,a)||o.push(a)}return o},b.union=w(function(t){return b.uniq(N(t,!0,!0))}),b.intersection=function(t){for(var n=[],r=arguments.length,e=0,o=T(t);e<o;e++){var i=t[e];if(!b.contains(n,i)){var u;for(u=1;u<r&&b.contains(arguments[u],i);u++);u===r&&n.push(i)}}return n},b.difference=w(function(t,n){return n=N(n,!0,!0),b.filter(t,function(t){return!b.contains(n,t)})}),b.unzip=function(t){for(var n=t&&b.max(t,T).length||0,r=Array(n),e=0;e<n;e++)r[e]=b.pluck(t,e);return r},b.zip=w(b.unzip),b.object=function(t,n){for(var r={},e=0,o=T(t);e<o;e++)n?r[t[e]]=n[e]:r[t[e][0]]=t[e][1];return r};var M=function(t){return function(n,r,e){r=_(r,e);for(var o=T(n),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(r(n[i],i,n))return i;return-1}};b.findIndex=M(1),b.findLastIndex=M(-1),b.sortedIndex=function(t,n,r,e){for(var o=(r=_(r,e,1))(n),i=0,u=T(t);i<u;){var c=Math.floor((i+u)/2);r(t[c])<o?i=c+1:u=c}return i};var F=function(t,n,r){return function(e,o,i){var u=0,c=T(e);if("number"==typeof i)t>0?u=i>=0?i:Math.max(i+c,u):c=i>=0?Math.min(i+1,c):i+c+1;else if(r&&i&&c)return e[i=r(e,o)]===o?i:-1;if(o!=o)return(i=n(f.call(e,u,c),b.isNaN))>=0?i+u:-1;for(i=t>0?u:c-1;i>=0&&i<c;i+=t)if(e[i]===o)return i;return-1}};b.indexOf=F(1,b.findIndex,b.sortedIndex),b.lastIndexOf=F(-1,b.findLastIndex),b.range=function(t,n,r){null==n&&(n=t||0,t=0),r||(r=n<t?-1:1);for(var e=Math.max(Math.ceil((n-t)/r),0),o=Array(e),i=0;i<e;i++,t+=r)o[i]=t;return o},b.chunk=function(t,n){if(null==n||n<1)return[];for(var r=[],e=0,o=t.length;e<o;)r.push(f.call(t,e,e+=n));return r};var B=function(t,n,r,e,o){if(!(e instanceof n))return t.apply(r,o);var i=x(t.prototype),u=t.apply(i,o);return b.isObject(u)?u:i};b.bind=w(function(t,n,r){if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var e=w(function(o){return B(t,e,n,this,r.concat(o))});return e}),b.partial=w(function(t,n){var r=b.partial.placeholder,e=function(){for(var o=0,i=n.length,u=Array(i),c=0;c<i;c++)u[c]=n[c]===r?arguments[o++]:n[c];for(;o<arguments.length;)u.push(arguments[o++]);return B(t,e,this,this,u)};return e}),b.partial.placeholder=b,b.bindAll=w(function(t,n){var r=(n=N(n,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var e=n[r];t[e]=b.bind(t[e],t)}}),b.memoize=function(t,n){var r=function(e){var o=r.cache,i=""+(n?n.apply(this,arguments):e);return E(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return r.cache={},r},b.delay=w(function(t,n,r){return setTimeout(function(){return t.apply(null,r)},n)}),b.defer=b.partial(b.delay,b,1),b.throttle=function(t,n,r){var e,o,i,u,c=0;r||(r={});var a=function(){c=!1===r.leading?0:b.now(),e=null,u=t.apply(o,i),e||(o=i=null)},s=function(){var s=b.now();c||!1!==r.leading||(c=s);var f=n-(s-c);return o=this,i=arguments,f<=0||f>n?(e&&(clearTimeout(e),e=null),c=s,u=t.apply(o,i),e||(o=i=null)):e||!1===r.trailing||(e=setTimeout(a,f)),u};return s.cancel=function(){clearTimeout(e),c=0,e=o=i=null},s},b.debounce=function(t,n,r){var e,o,i=function(n,r){e=null,r&&(o=t.apply(n,r))},u=w(function(u){if(e&&clearTimeout(e),r){var c=!e;e=setTimeout(i,n),c&&(o=t.apply(this,u))}else e=b.delay(i,n,this,u);return o});return u.cancel=function(){clearTimeout(e),e=null},u},b.wrap=function(t,n){return b.partial(n,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,n=t.length-1;return function(){for(var r=n,e=t[n].apply(this,arguments);r--;)e=t[r].call(this,e);return e}},b.after=function(t,n){return function(){if(--t<1)return n.apply(this,arguments)}},b.before=function(t,n){var r;return function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=null),r}},b.once=b.partial(b.before,2),b.restArguments=w;var D=!{toString:null}.propertyIsEnumerable("toString"),H=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=function(t,n){var r=H.length,e=t.constructor,o=b.isFunction(e)&&e.prototype||c,i="constructor";for(E(t,i)&&!b.contains(n,i)&&n.push(i);r--;)(i=H[r])in t&&t[i]!==o[i]&&!b.contains(n,i)&&n.push(i)};b.keys=function(t){if(!b.isObject(t))return[];if(d)return d(t);var n=[];for(var r in t)E(t,r)&&n.push(r);return D&&C(t,n),n},b.allKeys=function(t){if(!b.isObject(t))return[];var n=[];for(var r in t)n.push(r);return D&&C(t,n),n},b.values=function(t){for(var n=b.keys(t),r=n.length,e=Array(r),o=0;o<r;o++)e[o]=t[n[o]];return e},b.mapObject=function(t,n,r){n=_(n,r);for(var e=b.keys(t),o=e.length,i={},u=0;u<o;u++){var c=e[u];i[c]=n(t[c],c,t)}return i},b.pairs=function(t){for(var n=b.keys(t),r=n.length,e=Array(r),o=0;o<r;o++)e[o]=[n[o],t[n[o]]];return e},b.invert=function(t){for(var n={},r=b.keys(t),e=0,o=r.length;e<o;e++)n[t[r[e]]]=r[e];return n},b.functions=b.methods=function(t){var n=[];for(var r in t)b.isFunction(t[r])&&n.push(r);return n.sort()};var L=function(t,n){return function(r){var e=arguments.length;if(n&&(r=Object(r)),e<2||null==r)return r;for(var o=1;o<e;o++)for(var i=arguments[o],u=t(i),c=u.length,a=0;a<c;a++){var s=u[a];n&&void 0!==r[s]||(r[s]=i[s])}return r}};b.extend=L(b.allKeys),b.extendOwn=b.assign=L(b.keys),b.findKey=function(t,n,r){n=_(n,r);for(var e,o=b.keys(t),i=0,u=o.length;i<u;i++)if(n(t[e=o[i]],e,t))return e};var V,q,R=function(t,n,r){return n in r};b.pick=w(function(t,n){var r={},e=n[0];if(null==t)return r;b.isFunction(e)?(n.length>1&&(e=m(e,n[1])),n=b.allKeys(t)):(e=R,n=N(n,!1,!1),t=Object(t));for(var o=0,i=n.length;o<i;o++){var u=n[o],c=t[u];e(c,u,t)&&(r[u]=c)}return r}),b.omit=w(function(t,n){var r,e=n[0];return b.isFunction(e)?(e=b.negate(e),n.length>1&&(r=n[1])):(n=b.map(N(n,!1,!1),String),e=function(t,r){return!b.contains(n,r)}),b.pick(t,e,r)}),b.defaults=L(b.allKeys,!0),b.create=function(t,n){var r=x(t);return n&&b.extendOwn(r,n),r},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,n){return n(t),t},b.isMatch=function(t,n){var r=b.keys(n),e=r.length;if(null==t)return!e;for(var o=Object(t),i=0;i<e;i++){var u=r[i];if(n[u]!==o[u]||!(u in o))return!1}return!0},V=function(t,n,r,e){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var o=typeof t;return("function"===o||"object"===o||"object"==typeof n)&&q(t,n,r,e)},q=function(t,n,r,e){t instanceof b&&(t=t._wrapped),n instanceof b&&(n=n._wrapped);var o=l.call(t);if(o!==l.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return a.valueOf.call(t)===a.valueOf.call(n)}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,c=n.constructor;if(u!==c&&!(b.isFunction(u)&&u instanceof u&&b.isFunction(c)&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}e=e||[];for(var s=(r=r||[]).length;s--;)if(r[s]===t)return e[s]===n;if(r.push(t),e.push(n),i){if((s=t.length)!==n.length)return!1;for(;s--;)if(!V(t[s],n[s],r,e))return!1}else{var f,p=b.keys(t);if(s=p.length,b.keys(n).length!==s)return!1;for(;s--;)if(f=p[s],!E(n,f)||!V(t[f],n[f],r,e))return!1}return r.pop(),e.pop(),!0},b.isEqual=function(t,n){return V(t,n)},b.isEmpty=function(t){return null==t||(k(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length)},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=h||function(t){return"[object Array]"===l.call(t)},b.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){b["is"+t]=function(n){return l.call(n)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return E(t,"callee")});var Y=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof Y&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return!b.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&isNaN(t)},b.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===l.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,n){if(!b.isArray(n))return E(t,n);for(var r=n.length,e=0;e<r;e++){var o=n[e];if(null==t||!p.call(t,o))return!1;t=t[o]}return!!r},b.noConflict=function(){return o._=i,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=function(t){return b.isArray(t)?function(n){return j(n,t)}:S(t)},b.propertyOf=function(t){return null==t?function(){}:function(n){return b.isArray(n)?j(t,n):t[n]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(n){return b.isMatch(n,t)}},b.times=function(t,n,r){var e=Array(Math.max(0,t));n=m(n,r,1);for(var o=0;o<t;o++)e[o]=n(o);return e},b.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},U=b.invert(z),K=function(t){var n=function(n){return t[n]},r="(?:"+b.keys(t).join("|")+")",e=RegExp(r),o=RegExp(r,"g");return function(t){return t=null==t?"":""+t,e.test(t)?t.replace(o,n):t}};b.escape=K(z),b.unescape=K(U),b.result=function(t,n,r){b.isArray(n)||(n=[n]);var e=n.length;if(!e)return b.isFunction(r)?r.call(t):r;for(var o=0;o<e;o++){var i=null==t?void 0:t[n[o]];void 0===i&&(i=r,o=e),t=b.isFunction(i)?i.call(t):i}return t};var W=0;b.uniqueId=function(t){var n=++W+"";return t?t+n:n},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Z=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,J=function(t){return"\\"+$[t]};b.template=function(t,n,r){!n&&r&&(n=r),n=b.defaults({},n,b.templateSettings);var e,o=RegExp([(n.escape||Z).source,(n.interpolate||Z).source,(n.evaluate||Z).source].join("|")+"|$","g"),i=0,u="__p+='";t.replace(o,function(n,r,e,o,c){return u+=t.slice(i,c).replace(G,J),i=c+n.length,r?u+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?u+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(u+="';\n"+o+"\n__p+='"),n}),u+="';\n",n.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{e=new Function(n.variable||"obj","_",u)}catch(t){throw t.source=u,t}var c=function(t){return e.call(this,t,b)},a=n.variable||"obj";return c.source="function("+a+"){\n"+u+"}",c},b.chain=function(t){var n=b(t);return n._chain=!0,n};var Q=function(t,n){return t._chain?b(n).chain():n};b.mixin=function(t){return b.each(b.functions(t),function(n){var r=b[n]=t[n];b.prototype[n]=function(){var t=[this._wrapped];return s.apply(t,arguments),Q(this,r.apply(b,t))}}),b},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=u[t];b.prototype[t]=function(){var r=this._wrapped;return n.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],Q(this,r)}}),b.each(["concat","join","slice"],function(t){var n=u[t];b.prototype[t]=function(){return Q(this,n.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return String(this._wrapped)},void 0===(e=function(){return b}.apply(n,[]))||(r.exports=e)}()}).call(this,r(1),r(2)(t))},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,r){"use strict";r.r(n);var e=r(0);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)};function i(t,n){function r(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function u(t){return"function"==typeof t}var c=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;c=t},get useDeprecatedSynchronousErrorHandling(){return c}};function s(t){setTimeout(function(){throw t},0)}var f={closed:!0,next:function(t){},error:function(t){if(a.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete:function(){}},l=Array.isArray||function(t){return t&&"number"==typeof t.length};function p(t){return null!==t&&"object"==typeof t}function h(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,n){return n+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}h.prototype=Object.create(Error.prototype);var d=h,y=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var n;if(!this.closed){var r=this._parentOrParents,e=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var i=0;i<r.length;++i){r[i].remove(this)}if(u(e))try{e.call(this)}catch(t){n=t instanceof d?v(t.errors):[t]}if(l(o)){i=-1;for(var c=o.length;++i<c;){var a=o[i];if(p(a))try{a.unsubscribe()}catch(t){n=n||[],t instanceof d?n=n.concat(v(t.errors)):n.push(t)}}}if(n)throw new d(n)}},t.prototype.add=function(n){var r=n;if(!n)return t.EMPTY;switch(typeof n){case"function":r=new t(n);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var e=r;(r=new t)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var n=this._subscriptions;if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function v(t){return t.reduce(function(t,n){return t.concat(n instanceof d?n.errors:n)},[])}var b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),g=function(t){function n(r,e,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=f;break;case 1:if(!r){i.destination=f;break}if("object"==typeof r){r instanceof n?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new m(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new m(i,r,e,o)}return i}return i(n,t),n.prototype[b]=function(){return this},n.create=function(t,r,e){var o=new n(t,r,e);return o.syncErrorThrowable=!1,o},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},n}(y),m=function(t){function n(n,r,e,o){var i,c=t.call(this)||this;c._parentSubscriber=n;var a=c;return u(r)?i=r:r&&(i=r.next,e=r.error,o=r.complete,r!==f&&(u((a=Object.create(r)).unsubscribe)&&c.add(a.unsubscribe.bind(a)),a.unsubscribe=c.unsubscribe.bind(c))),c._context=a,c._next=i,c._error=e,c._complete=o,c}return i(n,t),n.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;a.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},n.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,r=a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=t,n.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;s(t)}}},n.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};a.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?(this.__tryOrSetError(n,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},n.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(t){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw t;s(t)}},n.prototype.__tryOrSetError=function(t,n,r){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(n){return a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(s(n),!0)}return!1},n.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},n}(g);var _="function"==typeof Symbol&&Symbol.observable||"@@observable";function w(){}function x(t){return t?1===t.length?t[0]:function(n){return t.reduce(function(t,n){return n(t)},n)}:w}var S=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(n){var r=new t;return r.source=this,r.operator=n,r},t.prototype.subscribe=function(t,n,r){var e=this.operator,o=function(t,n,r){if(t){if(t instanceof g)return t;if(t[b])return t[b]()}return t||n||r?new g(t,n,r):new g(f)}(t,n,r);if(e?o.add(e.call(o,this.source)):o.add(this.source||a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),!function(t){for(;t;){var n=t,r=n.closed,e=n.destination,o=n.isStopped;if(r||o)return!1;t=e&&e instanceof g?e:null}return!0}(t)?console.warn(n):t.error(n)}},t.prototype.forEach=function(t,n){var r=this;return new(n=E(n))(function(n,e){var o;o=r.subscribe(function(n){try{t(n)}catch(t){e(t),o&&o.unsubscribe()}},e,n)})},t.prototype._subscribe=function(t){var n=this.source;return n&&n.subscribe(t)},t.prototype[_]=function(){return this},t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?this:x(t)(this)},t.prototype.toPromise=function(t){var n=this;return new(t=E(t))(function(t,r){var e;n.subscribe(function(t){return e=t},function(t){return r(t)},function(){return t(e)})})},t.create=function(n){return new t(n)},t}();function E(t){if(t||(t=a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var j=function(t){return function(n){for(var r=0,e=t.length;r<e&&!n.closed;r++)n.next(t[r]);n.complete()}};function O(t,n){return new S(function(r){var e=new y,o=0;return e.add(n.schedule(function(){o!==t.length?(r.next(t[o++]),r.closed||e.add(this.schedule())):r.complete()})),e})}function T(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,e=t[t.length-1];return(r=e)&&"function"==typeof r.schedule?(t.pop(),O(t,e)):function(t,n){return n?O(t,n):new S(j(t))}(t)}function k(t,n){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new A(t,n))}}var A=function(){function t(t,n){this.project=t,this.thisArg=n}return t.prototype.call=function(t,n){return n.subscribe(new I(t,this.project,this.thisArg))},t}(),I=function(t){function n(n,r,e){var o=t.call(this,n)||this;return o.project=r,o.count=0,o.thisArg=e||o,o}return i(n,t),n.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(n)},n}(g);function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var N=P(),M=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function F(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var B=function(t){if(t&&"function"==typeof t[_])return e=t,function(t){var n=e[_]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)};if(M(t))return j(t);if(F(t))return r=t,function(t){return r.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,s),t};if(t&&"function"==typeof t[N])return n=t,function(t){for(var r=n[N]();;){var e=r.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof r.return&&t.add(function(){r.return&&r.return()}),t};var n,r,e,o=p(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function D(t,n){if(null!=t){if(function(t){return t&&"function"==typeof t[_]}(t))return function(t,n){return new S(function(r){var e=new y;return e.add(n.schedule(function(){var o=t[_]();e.add(o.subscribe({next:function(t){e.add(n.schedule(function(){return r.next(t)}))},error:function(t){e.add(n.schedule(function(){return r.error(t)}))},complete:function(){e.add(n.schedule(function(){return r.complete()}))}}))})),e})}(t,n);if(F(t))return function(t,n){return new S(function(r){var e=new y;return e.add(n.schedule(function(){return t.then(function(t){e.add(n.schedule(function(){r.next(t),e.add(n.schedule(function(){return r.complete()}))}))},function(t){e.add(n.schedule(function(){return r.error(t)}))})})),e})}(t,n);if(M(t))return O(t,n);if(function(t){return t&&"function"==typeof t[N]}(t)||"string"==typeof t)return function(t,n){if(!t)throw new Error("Iterable cannot be null");return new S(function(r){var e,o=new y;return o.add(function(){e&&"function"==typeof e.return&&e.return()}),o.add(n.schedule(function(){e=t[N](),o.add(n.schedule(function(){if(!r.closed){var t,n;try{var o=e.next();t=o.value,n=o.done}catch(t){return void r.error(t)}n?r.complete():(r.next(t),this.schedule())}}))})),o})}(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function H(t,n){return n?D(t,n):t instanceof S?t:new S(B(t))}function C(t,n){return new S(function(r){var e=t.length;if(0!==e)for(var o=new Array(e),i=0,u=0,c=function(c){var a=H(t[c]),s=!1;r.add(a.subscribe({next:function(t){s||(s=!0,u++),o[c]=t},error:function(t){return r.error(t)},complete:function(){++i!==e&&s||(u===e&&r.next(n?n.reduce(function(t,n,r){return t[n]=o[r],t},{}):o),r.complete())}}))},a=0;a<e;a++)c(a);else r.complete()})}var L=function(t){function n(n,r,e){var o=t.call(this)||this;return o.parent=n,o.outerValue=r,o.outerIndex=e,o.index=0,o}return i(n,t),n.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},n.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},n}(g);var V=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.notifyNext=function(t,n,r,e,o){this.destination.next(n)},n.prototype.notifyError=function(t,n){this.destination.error(t)},n.prototype.notifyComplete=function(t){this.destination.complete()},n}(g);var q=function(){function t(t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=n}return t.prototype.call=function(t,n){return n.subscribe(new R(t,this.project,this.concurrent))},t}(),R=function(t){function n(n,r,e){void 0===e&&(e=Number.POSITIVE_INFINITY);var o=t.call(this,n)||this;return o.project=r,o.concurrent=e,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return i(n,t),n.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},n.prototype._tryNext=function(t){var n,r=this.index++;try{n=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(n,t,r)},n.prototype._innerSub=function(t,n,r){var e=new L(this,void 0,void 0);this.destination.add(e),function(t,n,r,e,o){if(void 0===o&&(o=new L(t,r,e)),!o.closed)n instanceof S?n.subscribe(o):B(n)(o)}(this,t,n,r,e)},n.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},n.prototype.notifyNext=function(t,n,r,e,o){this.destination.next(n)},n.prototype.notifyComplete=function(t){var n=this.buffer;this.remove(t),this.active--,n.length>0?this._next(n.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},n}(V);const Y=10,z=5,U=Object(e.template)('<article><div class="article-info"><h3><a target="_blank" href="<%= url %>"><%= title %></a></h3><div class="description"><%= description %></div><a class="url" target="_blank" href="<%= url %>"><%= url %></a></div><div class="article-rating" style="color: <%= color %>"><%= rating %></div></article>'),K=Object(e.template)('<span>Based on review scores from <b><%= count %></b> sites the product\'s total score is</span><span class="total-score-value" style="color: <%= color %>"><%= score %></span>');function W(){const t=document.getElementById("searchkey").value;if(t&&t.length>5){document.getElementById("error").textContent="";const n=document.getElementById("results-list"),r=document.getElementById("total-score");n.innerHTML="",r.innerHTML="Searching...",$(t,1).subscribe(e=>{const o=e.searchInformation.totalResults,i=[T(e)];let u=1;for(;u*Y<o&&u<z;)i.push($(t,u*Y+1)),u++;(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(l(r))return C(r,null);if(p(r)&&Object.getPrototypeOf(r)===Object.prototype){var e=Object.keys(r);return C(e.map(function(t){return r[t]}),e)}}if("function"==typeof t[t.length-1]){var o=t.pop();return C(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(k(function(t){return o.apply(void 0,t)}))}return C(t,null)})(i).subscribe(t=>{const e=t.map(t=>t.items||t.error).flat();let o=0,i=0;const u=new Set;if(e.forEach(t=>{if(!t)return;if(t.errors&&"dailyLimitExceeded"===t.errors[0].reason)return void(document.getElementById("error").textContent="Maximum number of queries for the day has been reached. Try again tomorrow.");if(u.has(t.displayLink))return;let r;if(u.add(t.displayLink),t.pagemap.aggregaterating&&t.pagemap.aggregaterating.length){if(r=G(parseFloat(t.pagemap.aggregaterating[0].ratingvalue),parseFloat(t.pagemap.aggregaterating[0].bestrating||5)),isNaN(r))return;o++,i+=r}else{if(!t.pagemap.rating)return;{const n=t.pagemap.rating.map(t=>{const n=G(parseFloat(t.ratingvalue),parseFloat(t.bestrating));if(!isNaN(n))return n});if(r=n.reduce((t,n)=>t+n,0)/n.length,isNaN(r))return;o++,i+=r}}n.innerHTML+=U({title:t.title,url:t.link,description:t.snippet,rating:(5*r).toFixed(1),color:Z(5*r)})}),o>0){const t=5*i/o;r.innerHTML=K({score:t.toFixed(1),count:o,color:Z(t)})}})})}else document.getElementById("error").textContent="Search term minimum length is 5"}function Z(t){return t<2?"brown":t<3?"red":t<4?"#f1f100":t<4.5?"limegreen":"seagreen"}function $(t,n=1){return t?H(fetch(`https://www.googleapis.com/customsearch/v1?cx=005042070686331231502:7crlel-6ae8&key=AIzaSyCLu_FyerPoUZZpci5q0Z-cw3IYmD0rGCw&sort=aggregaterating-reviewcount:d:s,&q=allintitle:${t}+review&num=10&start=${n}&lr=lang_en`,{method:"GET",headers:{"Content-Type":"application/json"}})).pipe(function t(n,r,e){return void 0===e&&(e=Number.POSITIVE_INFINITY),"function"==typeof r?function(o){return o.pipe(t(function(t,e){return H(n(t,e)).pipe(k(function(n,o){return r(t,n,e,o)}))},e))}:("number"==typeof r&&(e=r),function(t){return t.lift(new q(n,e))})}(t=>H(t.json()))):null}function G(t,n){return t/n}document.getElementById("submit").onclick=W,document.getElementById("searchkey").onkeypress=t=>{13===t.keyCode&&W()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvdW5kZXJzY29yZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvbm9vcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3RvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2NhblJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL29mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9Qcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9JdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVByb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUl0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2ZvcmtKb2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL0lubmVyU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9PdXRlclN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnbG9iYWwiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsInJvb3QiLCJzZWxmIiwidGhpcyIsInByZXZpb3VzVW5kZXJzY29yZSIsIl8iLCJBcnJheVByb3RvIiwiQXJyYXkiLCJPYmpQcm90byIsIlN5bWJvbFByb3RvIiwicHVzaCIsInNsaWNlIiwidG9TdHJpbmciLCJuYXRpdmVJc0FycmF5IiwiaXNBcnJheSIsIm5hdGl2ZUtleXMiLCJrZXlzIiwibmF0aXZlQ3JlYXRlIiwiQ3RvciIsIm9iaiIsIl93cmFwcGVkIiwibm9kZVR5cGUiLCJWRVJTSU9OIiwiYnVpbHRpbkl0ZXJhdGVlIiwib3B0aW1pemVDYiIsImZ1bmMiLCJjb250ZXh0IiwiYXJnQ291bnQiLCJpbmRleCIsImNvbGxlY3Rpb24iLCJhY2N1bXVsYXRvciIsImFwcGx5IiwiYXJndW1lbnRzIiwiY2IiLCJpdGVyYXRlZSIsImlkZW50aXR5IiwiaXNGdW5jdGlvbiIsImlzT2JqZWN0IiwibWF0Y2hlciIsIkluZmluaXR5IiwicmVzdEFyZ3VtZW50cyIsInN0YXJ0SW5kZXgiLCJsZW5ndGgiLCJNYXRoIiwibWF4IiwicmVzdCIsImFyZ3MiLCJiYXNlQ3JlYXRlIiwicmVzdWx0Iiwic2hhbGxvd1Byb3BlcnR5IiwiaGFzIiwicGF0aCIsImRlZXBHZXQiLCJNQVhfQVJSQVlfSU5ERVgiLCJwb3ciLCJnZXRMZW5ndGgiLCJpc0FycmF5TGlrZSIsImVhY2giLCJmb3JFYWNoIiwibWFwIiwiY29sbGVjdCIsInJlc3VsdHMiLCJjdXJyZW50S2V5IiwiY3JlYXRlUmVkdWNlIiwiZGlyIiwicmVkdWNlciIsIm1lbW8iLCJpbml0aWFsIiwicmVkdWNlIiwiZm9sZGwiLCJpbmplY3QiLCJyZWR1Y2VSaWdodCIsImZvbGRyIiwiZmluZCIsImRldGVjdCIsInByZWRpY2F0ZSIsImZpbmRJbmRleCIsImZpbmRLZXkiLCJmaWx0ZXIiLCJzZWxlY3QiLCJsaXN0IiwicmVqZWN0IiwibmVnYXRlIiwiZXZlcnkiLCJhbGwiLCJzb21lIiwiYW55IiwiY29udGFpbnMiLCJpbmNsdWRlcyIsImluY2x1ZGUiLCJpdGVtIiwiZnJvbUluZGV4IiwiZ3VhcmQiLCJ2YWx1ZXMiLCJpbmRleE9mIiwiaW52b2tlIiwiY29udGV4dFBhdGgiLCJtZXRob2QiLCJwbHVjayIsIndoZXJlIiwiYXR0cnMiLCJmaW5kV2hlcmUiLCJjb21wdXRlZCIsImxhc3RDb21wdXRlZCIsInYiLCJtaW4iLCJzaHVmZmxlIiwic2FtcGxlIiwicmFuZG9tIiwiY2xvbmUiLCJsYXN0IiwicmFuZCIsInRlbXAiLCJzb3J0QnkiLCJjcml0ZXJpYSIsInNvcnQiLCJsZWZ0IiwicmlnaHQiLCJhIiwiYiIsImdyb3VwIiwiYmVoYXZpb3IiLCJwYXJ0aXRpb24iLCJncm91cEJ5IiwiaW5kZXhCeSIsImNvdW50QnkiLCJyZVN0clN5bWJvbCIsInRvQXJyYXkiLCJpc1N0cmluZyIsIm1hdGNoIiwic2l6ZSIsInBhc3MiLCJmaXJzdCIsImhlYWQiLCJ0YWtlIiwiYXJyYXkiLCJ0YWlsIiwiZHJvcCIsImNvbXBhY3QiLCJCb29sZWFuIiwiZmxhdHRlbiIsImlucHV0Iiwic2hhbGxvdyIsInN0cmljdCIsIm91dHB1dCIsImlkeCIsImlzQXJndW1lbnRzIiwiaiIsImxlbiIsIndpdGhvdXQiLCJvdGhlckFycmF5cyIsImRpZmZlcmVuY2UiLCJ1bmlxIiwidW5pcXVlIiwiaXNTb3J0ZWQiLCJpc0Jvb2xlYW4iLCJzZWVuIiwidW5pb24iLCJhcnJheXMiLCJpbnRlcnNlY3Rpb24iLCJhcmdzTGVuZ3RoIiwidW56aXAiLCJ6aXAiLCJjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlciIsImZpbmRMYXN0SW5kZXgiLCJzb3J0ZWRJbmRleCIsImxvdyIsImhpZ2giLCJtaWQiLCJmbG9vciIsImNyZWF0ZUluZGV4RmluZGVyIiwicHJlZGljYXRlRmluZCIsImlzTmFOIiwibGFzdEluZGV4T2YiLCJyYW5nZSIsInN0YXJ0Iiwic3RvcCIsInN0ZXAiLCJjZWlsIiwiY2h1bmsiLCJjb3VudCIsImV4ZWN1dGVCb3VuZCIsInNvdXJjZUZ1bmMiLCJib3VuZEZ1bmMiLCJjYWxsaW5nQ29udGV4dCIsIlR5cGVFcnJvciIsImJvdW5kIiwiY2FsbEFyZ3MiLCJjb25jYXQiLCJwYXJ0aWFsIiwiYm91bmRBcmdzIiwicGxhY2Vob2xkZXIiLCJwb3NpdGlvbiIsImJpbmRBbGwiLCJFcnJvciIsIm1lbW9pemUiLCJoYXNoZXIiLCJjYWNoZSIsImFkZHJlc3MiLCJkZWxheSIsIndhaXQiLCJzZXRUaW1lb3V0IiwiZGVmZXIiLCJ0aHJvdHRsZSIsIm9wdGlvbnMiLCJ0aW1lb3V0IiwicHJldmlvdXMiLCJsYXRlciIsImxlYWRpbmciLCJub3ciLCJ0aHJvdHRsZWQiLCJyZW1haW5pbmciLCJjbGVhclRpbWVvdXQiLCJ0cmFpbGluZyIsImNhbmNlbCIsImRlYm91bmNlIiwiaW1tZWRpYXRlIiwiZGVib3VuY2VkIiwiY2FsbE5vdyIsIndyYXAiLCJ3cmFwcGVyIiwiY29tcG9zZSIsImFmdGVyIiwidGltZXMiLCJiZWZvcmUiLCJvbmNlIiwiaGFzRW51bUJ1ZyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwibm9uRW51bWVyYWJsZVByb3BzIiwiY29sbGVjdE5vbkVudW1Qcm9wcyIsIm5vbkVudW1JZHgiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicHJvcCIsImFsbEtleXMiLCJtYXBPYmplY3QiLCJwYWlycyIsImludmVydCIsImZ1bmN0aW9ucyIsIm1ldGhvZHMiLCJuYW1lcyIsImNyZWF0ZUFzc2lnbmVyIiwia2V5c0Z1bmMiLCJkZWZhdWx0cyIsInNvdXJjZSIsImV4dGVuZCIsImV4dGVuZE93biIsImFzc2lnbiIsImVxIiwiZGVlcEVxIiwia2V5SW5PYmoiLCJwaWNrIiwib21pdCIsIlN0cmluZyIsInByb3BzIiwidGFwIiwiaW50ZXJjZXB0b3IiLCJpc01hdGNoIiwiYVN0YWNrIiwiYlN0YWNrIiwidHlwZSIsImNsYXNzTmFtZSIsInZhbHVlT2YiLCJhcmVBcnJheXMiLCJhQ3RvciIsImJDdG9yIiwicG9wIiwiaXNFcXVhbCIsImlzRW1wdHkiLCJpc0VsZW1lbnQiLCJub2RlbGlzdCIsImRvY3VtZW50IiwiY2hpbGROb2RlcyIsIkludDhBcnJheSIsImlzRmluaXRlIiwiaXNTeW1ib2wiLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJjb25zdGFudCIsIm5vb3AiLCJwcm9wZXJ0eU9mIiwibWF0Y2hlcyIsImFjY3VtIiwiRGF0ZSIsImdldFRpbWUiLCJlc2NhcGVNYXAiLCImIiwiPCIsIj4iLCJcIiIsIiciLCJgIiwidW5lc2NhcGVNYXAiLCJjcmVhdGVFc2NhcGVyIiwiZXNjYXBlciIsImpvaW4iLCJ0ZXN0UmVnZXhwIiwiUmVnRXhwIiwicmVwbGFjZVJlZ2V4cCIsInN0cmluZyIsInRlc3QiLCJyZXBsYWNlIiwiZXNjYXBlIiwidW5lc2NhcGUiLCJmYWxsYmFjayIsImlkQ291bnRlciIsInVuaXF1ZUlkIiwicHJlZml4IiwiaWQiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsIm5vTWF0Y2giLCJlc2NhcGVzIiwiXFwiLCJcciIsIlxuIiwi4oCoIiwi4oCpIiwiZXNjYXBlUmVnRXhwIiwiZXNjYXBlQ2hhciIsInRlbXBsYXRlIiwidGV4dCIsInNldHRpbmdzIiwib2xkU2V0dGluZ3MiLCJyZW5kZXIiLCJvZmZzZXQiLCJ2YXJpYWJsZSIsIkZ1bmN0aW9uIiwiZSIsImRhdGEiLCJhcmd1bWVudCIsImNoYWluIiwiaW5zdGFuY2UiLCJfY2hhaW4iLCJjaGFpblJlc3VsdCIsIm1peGluIiwidG9KU09OIiwidW5kZWZpbmVkIiwiZyIsIndpbmRvdyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJleHRlbmRTdGF0aWNzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfX2V4dGVuZHMiLCJfXyIsIngiLCJfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MiLCJjb25maWciLCJQcm9taXNlIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsInN0YWNrIiwiaG9zdFJlcG9ydEVycm9yIiwiZXJyIiwiZW1wdHkiLCJjbG9zZWQiLCJuZXh0IiwiZXJyb3IiLCJjb21wbGV0ZSIsIlVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsIiwiZXJyb3JzIiwibWVzc2FnZSIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJTdWJzY3JpcHRpb25fU3Vic2NyaXB0aW9uIiwiU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJfcGFyZW50T3JQYXJlbnRzIiwiX3N1YnNjcmlwdGlvbnMiLCJfdW5zdWJzY3JpYmUiLCJyZW1vdmUiLCJmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMiLCJzdWIiLCJhZGQiLCJ0ZWFyZG93biIsInN1YnNjcmlwdGlvbiIsIkVNUFRZIiwidG1wIiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmlwdGlvbkluZGV4Iiwic3BsaWNlIiwiZXJycyIsInJ4U3Vic2NyaWJlciIsIlN1YnNjcmliZXJfU3Vic2NyaWJlciIsIl9zdXBlciIsIlN1YnNjcmliZXIiLCJkZXN0aW5hdGlvbk9yTmV4dCIsIl90aGlzIiwic3luY0Vycm9yVmFsdWUiLCJzeW5jRXJyb3JUaHJvd24iLCJzeW5jRXJyb3JUaHJvd2FibGUiLCJpc1N0b3BwZWQiLCJkZXN0aW5hdGlvbiIsIlN1YnNjcmliZXJfU2FmZVN1YnNjcmliZXIiLCJzdWJzY3JpYmVyIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJfdW5zdWJzY3JpYmVBbmRSZWN5Y2xlIiwiU2FmZVN1YnNjcmliZXIiLCJfcGFyZW50U3Vic2NyaWJlciIsIm9ic2VydmVyT3JOZXh0IiwiX2NvbnRleHQiLCJfX3RyeU9yU2V0RXJyb3IiLCJfX3RyeU9yVW5zdWIiLCJ3cmFwcGVkQ29tcGxldGUiLCJmbiIsInBhcmVudCIsIm9ic2VydmFibGVfb2JzZXJ2YWJsZSIsIm9ic2VydmFibGUiLCJwaXBlRnJvbUFycmF5IiwiZm5zIiwicHJldiIsIk9ic2VydmFibGVfT2JzZXJ2YWJsZSIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfaXNTY2FsYXIiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic2luayIsIm5leHRPck9ic2VydmVyIiwidG9TdWJzY3JpYmVyIiwiX3RyeVN1YnNjcmliZSIsIm9ic2VydmVyIiwiX2EiLCJjbG9zZWRfMSIsImNhblJlcG9ydEVycm9yIiwiY29uc29sZSIsIndhcm4iLCJwcm9taXNlQ3RvciIsImdldFByb21pc2VDdG9yIiwicmVzb2x2ZSIsInBpcGUiLCJvcGVyYXRpb25zIiwiX2kiLCJ0b1Byb21pc2UiLCJzdWJzY3JpYmVUb0FycmF5Iiwic2NoZWR1bGVBcnJheSIsInNjaGVkdWxlciIsInNjaGVkdWxlIiwib2YiLCJmcm9tQXJyYXkiLCJwcm9qZWN0IiwidGhpc0FyZyIsIk1hcE9wZXJhdG9yIiwibWFwX01hcFN1YnNjcmliZXIiLCJNYXBTdWJzY3JpYmVyIiwiZ2V0U3ltYm9sSXRlcmF0b3IiLCJpdGVyYXRvciIsIml0ZXJhdG9yX2l0ZXJhdG9yIiwiaXNQcm9taXNlIiwidGhlbiIsInN1YnNjcmliZVRvIiwib2JzIiwicHJvbWlzZSIsIml0ZXJhYmxlIiwiZG9uZSIsInJldHVybiIsInNjaGVkdWxlZCIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJzY2hlZHVsZU9ic2VydmFibGUiLCJzY2hlZHVsZVByb21pc2UiLCJpc0l0ZXJhYmxlIiwic2NoZWR1bGVJdGVyYWJsZSIsImZyb20iLCJmb3JrSm9pbkludGVybmFsIiwic291cmNlcyIsImNvbXBsZXRlZCIsImVtaXR0ZWQiLCJfbG9vcF8xIiwiaGFzVmFsdWUiLCJJbm5lclN1YnNjcmliZXJfSW5uZXJTdWJzY3JpYmVyIiwiSW5uZXJTdWJzY3JpYmVyIiwib3V0ZXJWYWx1ZSIsIm91dGVySW5kZXgiLCJub3RpZnlOZXh0Iiwibm90aWZ5RXJyb3IiLCJub3RpZnlDb21wbGV0ZSIsIk91dGVyU3Vic2NyaWJlcl9PdXRlclN1YnNjcmliZXIiLCJPdXRlclN1YnNjcmliZXIiLCJpbm5lclZhbHVlIiwiaW5uZXJJbmRleCIsImlubmVyU3ViIiwiTWVyZ2VNYXBPcGVyYXRvciIsImNvbmN1cnJlbnQiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsIm1lcmdlTWFwX01lcmdlTWFwU3Vic2NyaWJlciIsIk1lcmdlTWFwU3Vic2NyaWJlciIsImhhc0NvbXBsZXRlZCIsImJ1ZmZlciIsImFjdGl2ZSIsIl90cnlOZXh0IiwiX2lubmVyU3ViIiwiaXNoIiwiaW5uZXJTdWJzY3JpYmVyIiwib3V0ZXJTdWJzY3JpYmVyIiwic3Vic2NyaWJlVG9SZXN1bHQiLCJzaGlmdCIsIlBBR0VfU0laRSIsIk1BWF9QQUdFUyIsImFydGljbGVUZW1wbGF0ZSIsInVuZGVyc2NvcmUiLCJ0b3RhbFNjb3JlVGVtcGxhdGUiLCJzZWFyY2giLCJzZWFyY2hrZXkiLCJnZXRFbGVtZW50QnlJZCIsInRleHRDb250ZW50IiwicmVzdWx0c0xpc3RFbGVtZW50IiwidG90YWxTY29yZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJmZXRjaFJlc3VsdHNQYWdlIiwiZmlyc3RQYWdlSnNvbiIsInRvdGFsUmVzdWx0cyIsInNlYXJjaEluZm9ybWF0aW9uIiwicGFnZU9ic2VydmFibGVzIiwicGFnZSIsImZpcnN0XzEiLCJnZXRQcm90b3R5cGVPZiIsInJlc3VsdFNlbGVjdG9yXzEiLCJmb3JrSm9pbiIsInBhZ2VKc29ucyIsIml0ZW1zRmxhdHRlbmVkIiwicmVzcG9uc2VKc29uIiwiaXRlbXMiLCJmbGF0IiwicmF0aW5nc1RvdGFsQ291bnQiLCJyYXRpbmdzVG90YWxWYWx1ZSIsIndlYnNpdGVzQWxyZWFkeVNob3duIiwiU2V0IiwicmVhc29uIiwiZGlzcGxheUxpbmsiLCJzY29yZSIsInBhZ2VtYXAiLCJhZ2dyZWdhdGVyYXRpbmciLCJub3JtYWxpemVSYXRpbmciLCJyYXRpbmd2YWx1ZSIsImJlc3RyYXRpbmciLCJyYXRpbmciLCJwYWdlUmF0aW5ncyIsIm5vcm1hbGl6ZWRSYXRpbmciLCJjdW11bGF0ZWRWYWx1ZSIsInRpdGxlIiwidXJsIiwibGluayIsImRlc2NyaXB0aW9uIiwic25pcHBldCIsInRvRml4ZWQiLCJjb2xvciIsImdldENvbG9yRm9yU2NvcmUiLCJmZXRjaCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJtZXJnZU1hcCIsInJlc3VsdFNlbGVjdG9yIiwiaWkiLCJyZXNwb25zZSIsImpzb24iLCJvbmNsaWNrIiwib25rZXlwcmVzcyIsImV2ZW50Iiwia2V5Q29kZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFx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YWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiLy8gICAgIFVuZGVyc2NvcmUuanMgMS45LjFcbi8vICAgICBodHRwOi8vdW5kZXJzY29yZWpzLm9yZ1xuLy8gICAgIChjKSAyMDA5LTIwMTggSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8gQmFzZWxpbmUgc2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCAoYHNlbGZgKSBpbiB0aGUgYnJvd3NlciwgYGdsb2JhbGBcbiAgLy8gb24gdGhlIHNlcnZlciwgb3IgYHRoaXNgIGluIHNvbWUgdmlydHVhbCBtYWNoaW5lcy4gV2UgdXNlIGBzZWxmYFxuICAvLyBpbnN0ZWFkIG9mIGB3aW5kb3dgIGZvciBgV2ViV29ya2VyYCBzdXBwb3J0LlxuICB2YXIgcm9vdCA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZiAmJiBzZWxmIHx8XG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbCAmJiBnbG9iYWwgfHxcbiAgICAgICAgICAgIHRoaXMgfHxcbiAgICAgICAgICAgIHt9O1xuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgX2AgdmFyaWFibGUuXG4gIHZhciBwcmV2aW91c1VuZGVyc2NvcmUgPSByb290Ll87XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIFN5bWJvbFByb3RvID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2wucHJvdG90eXBlIDogbnVsbDtcblxuICAvLyBDcmVhdGUgcXVpY2sgcmVmZXJlbmNlIHZhcmlhYmxlcyBmb3Igc3BlZWQgYWNjZXNzIHRvIGNvcmUgcHJvdG90eXBlcy5cbiAgdmFyIHB1c2ggPSBBcnJheVByb3RvLnB1c2gsXG4gICAgICBzbGljZSA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgICB0b1N0cmluZyA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmpQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2VcbiAgLy8gYXJlIGRlY2xhcmVkIGhlcmUuXG4gIHZhciBuYXRpdmVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIG5hdGl2ZUtleXMgPSBPYmplY3Qua2V5cyxcbiAgICAgIG5hdGl2ZUNyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cbiAgLy8gTmFrZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGZvciBzdXJyb2dhdGUtcHJvdG90eXBlLXN3YXBwaW5nLlxuICB2YXIgQ3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZWlyIG9sZCBtb2R1bGUgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QuXG4gIC8vIChgbm9kZVR5cGVgIGlzIGNoZWNrZWQgdG8gZW5zdXJlIHRoYXQgYG1vZHVsZWBcbiAgLy8gYW5kIGBleHBvcnRzYCBhcmUgbm90IEhUTUwgZWxlbWVudHMuKVxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT0gJ3VuZGVmaW5lZCcgJiYgIWV4cG9ydHMubm9kZVR5cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjkuMSc7XG5cbiAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuICAvLyBvZiB0aGUgcGFzc2VkLWluIGNhbGxiYWNrLCB0byBiZSByZXBlYXRlZGx5IGFwcGxpZWQgaW4gb3RoZXIgVW5kZXJzY29yZVxuICAvLyBmdW5jdGlvbnMuXG4gIHZhciBvcHRpbWl6ZUNiID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSByZXR1cm4gZnVuYztcbiAgICBzd2l0Y2ggKGFyZ0NvdW50ID09IG51bGwgPyAzIDogYXJnQ291bnQpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIC8vIFRoZSAyLWFyZ3VtZW50IGNhc2UgaXMgb21pdHRlZCBiZWNhdXNlIHdl4oCZcmUgbm90IHVzaW5nIGl0LlxuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGJ1aWx0aW5JdGVyYXRlZTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZCB0byBlYWNoXG4gIC8vIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgdGhlIGRlc2lyZWQgcmVzdWx0IOKAlCBlaXRoZXIgYGlkZW50aXR5YCxcbiAgLy8gYW4gYXJiaXRyYXJ5IGNhbGxiYWNrLCBhIHByb3BlcnR5IG1hdGNoZXIsIG9yIGEgcHJvcGVydHkgYWNjZXNzb3IuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmIChfLml0ZXJhdGVlICE9PSBidWlsdGluSXRlcmF0ZWUpIHJldHVybiBfLml0ZXJhdGVlKHZhbHVlLCBjb250ZXh0KTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIF8uaWRlbnRpdHk7XG4gICAgaWYgKF8uaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybiBvcHRpbWl6ZUNiKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG4gICAgaWYgKF8uaXNPYmplY3QodmFsdWUpICYmICFfLmlzQXJyYXkodmFsdWUpKSByZXR1cm4gXy5tYXRjaGVyKHZhbHVlKTtcbiAgICByZXR1cm4gXy5wcm9wZXJ0eSh2YWx1ZSk7XG4gIH07XG5cbiAgLy8gRXh0ZXJuYWwgd3JhcHBlciBmb3Igb3VyIGNhbGxiYWNrIGdlbmVyYXRvci4gVXNlcnMgbWF5IGN1c3RvbWl6ZVxuICAvLyBgXy5pdGVyYXRlZWAgaWYgdGhleSB3YW50IGFkZGl0aW9uYWwgcHJlZGljYXRlL2l0ZXJhdGVlIHNob3J0aGFuZCBzdHlsZXMuXG4gIC8vIFRoaXMgYWJzdHJhY3Rpb24gaGlkZXMgdGhlIGludGVybmFsLW9ubHkgYXJnQ291bnQgYXJndW1lbnQuXG4gIF8uaXRlcmF0ZWUgPSBidWlsdGluSXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBjYih2YWx1ZSwgY29udGV4dCwgSW5maW5pdHkpO1xuICB9O1xuXG4gIC8vIFNvbWUgZnVuY3Rpb25zIHRha2UgYSB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLCBvciBhIGZldyBleHBlY3RlZFxuICAvLyBhcmd1bWVudHMgYXQgdGhlIGJlZ2lubmluZyBhbmQgdGhlbiBhIHZhcmlhYmxlIG51bWJlciBvZiB2YWx1ZXMgdG8gb3BlcmF0ZVxuICAvLyBvbi4gVGhpcyBoZWxwZXIgYWNjdW11bGF0ZXMgYWxsIHJlbWFpbmluZyBhcmd1bWVudHMgcGFzdCB0aGUgZnVuY3Rpb27igJlzXG4gIC8vIGFyZ3VtZW50IGxlbmd0aCAob3IgYW4gZXhwbGljaXQgYHN0YXJ0SW5kZXhgKSwgaW50byBhbiBhcnJheSB0aGF0IGJlY29tZXNcbiAgLy8gdGhlIGxhc3QgYXJndW1lbnQuIFNpbWlsYXIgdG8gRVM24oCZcyBcInJlc3QgcGFyYW1ldGVyXCIuXG4gIHZhciByZXN0QXJndW1lbnRzID0gZnVuY3Rpb24oZnVuYywgc3RhcnRJbmRleCkge1xuICAgIHN0YXJ0SW5kZXggPSBzdGFydEluZGV4ID09IG51bGwgPyBmdW5jLmxlbmd0aCAtIDEgOiArc3RhcnRJbmRleDtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoYXJndW1lbnRzLmxlbmd0aCAtIHN0YXJ0SW5kZXgsIDApLFxuICAgICAgICAgIHJlc3QgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICByZXN0W2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleCArIHN0YXJ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChzdGFydEluZGV4KSB7XG4gICAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCByZXN0KTtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIGFyZ3VtZW50c1swXSwgcmVzdCk7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgcmVzdCk7XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KHN0YXJ0SW5kZXggKyAxKTtcbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHN0YXJ0SW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgYXJnc1tzdGFydEluZGV4XSA9IHJlc3Q7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIGFub3RoZXIuXG4gIHZhciBiYXNlQ3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KHByb3RvdHlwZSkpIHJldHVybiB7fTtcbiAgICBpZiAobmF0aXZlQ3JlYXRlKSByZXR1cm4gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBDdG9yO1xuICAgIEN0b3IucHJvdG90eXBlID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBzaGFsbG93UHJvcGVydHkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09IG51bGwgPyB2b2lkIDAgOiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoYXMgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHBhdGgpO1xuICB9XG5cbiAgdmFyIGRlZXBHZXQgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgICAgb2JqID0gb2JqW3BhdGhbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gbGVuZ3RoID8gb2JqIDogdm9pZCAwO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuICAvLyBzaG91bGQgYmUgaXRlcmF0ZWQgYXMgYW4gYXJyYXkgb3IgYXMgYW4gb2JqZWN0LlxuICAvLyBSZWxhdGVkOiBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuICAvLyBBdm9pZHMgYSB2ZXJ5IG5hc3R5IGlPUyA4IEpJVCBidWcgb24gQVJNLTY0LiAjMjA5NFxuICB2YXIgTUFYX0FSUkFZX0lOREVYID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgdmFyIGdldExlbmd0aCA9IHNoYWxsb3dQcm9wZXJ0eSgnbGVuZ3RoJyk7XG4gIHZhciBpc0FycmF5TGlrZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKGNvbGxlY3Rpb24pO1xuICAgIHJldHVybiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8PSBNQVhfQVJSQVlfSU5ERVg7XG4gIH07XG5cbiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbiAgLy8gSGFuZGxlcyByYXcgb2JqZWN0cyBpbiBhZGRpdGlvbiB0byBhcnJheS1saWtlcy4gVHJlYXRzIGFsbFxuICAvLyBzcGFyc2UgYXJyYXktbGlrZXMgYXMgaWYgdGhleSB3ZXJlIGRlbnNlLlxuICBfLmVhY2ggPSBfLmZvckVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIgaSwgbGVuZ3RoO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0ZWUob2JqW2ldLCBpLCBvYmopO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpba2V5c1tpXV0sIGtleXNbaV0sIG9iaik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRlZSB0byBlYWNoIGVsZW1lbnQuXG4gIF8ubWFwID0gXy5jb2xsZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoLFxuICAgICAgICByZXN1bHRzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgcmVzdWx0c1tpbmRleF0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIHJlZHVjaW5nIGZ1bmN0aW9uIGl0ZXJhdGluZyBsZWZ0IG9yIHJpZ2h0LlxuICB2YXIgY3JlYXRlUmVkdWNlID0gZnVuY3Rpb24oZGlyKSB7XG4gICAgLy8gV3JhcCBjb2RlIHRoYXQgcmVhc3NpZ25zIGFyZ3VtZW50IHZhcmlhYmxlcyBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIHRoYW5cbiAgICAvLyB0aGUgb25lIHRoYXQgYWNjZXNzZXMgYGFyZ3VtZW50cy5sZW5ndGhgIHRvIGF2b2lkIGEgcGVyZiBoaXQuICgjMTk5MSlcbiAgICB2YXIgcmVkdWNlciA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGluaXRpYWwpIHtcbiAgICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoIWluaXRpYWwpIHtcbiAgICAgICAgbWVtbyA9IG9ialtrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleF07XG4gICAgICAgIGluZGV4ICs9IGRpcjtcbiAgICAgIH1cbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdGVlKG1lbW8sIG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgICAgdmFyIGluaXRpYWwgPSBhcmd1bWVudHMubGVuZ3RoID49IDM7XG4gICAgICByZXR1cm4gcmVkdWNlcihvYmosIG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQsIDQpLCBtZW1vLCBpbml0aWFsKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbiAgLy8gb3IgYGZvbGRsYC5cbiAgXy5yZWR1Y2UgPSBfLmZvbGRsID0gXy5pbmplY3QgPSBjcmVhdGVSZWR1Y2UoMSk7XG5cbiAgLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4gIF8ucmVkdWNlUmlnaHQgPSBfLmZvbGRyID0gY3JlYXRlUmVkdWNlKC0xKTtcblxuICAvLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuIEFsaWFzZWQgYXMgYGRldGVjdGAuXG4gIF8uZmluZCA9IF8uZGV0ZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIga2V5RmluZGVyID0gaXNBcnJheUxpa2Uob2JqKSA/IF8uZmluZEluZGV4IDogXy5maW5kS2V5O1xuICAgIHZhciBrZXkgPSBrZXlGaW5kZXIob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgc2VsZWN0YC5cbiAgXy5maWx0ZXIgPSBfLnNlbGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG4gIF8ucmVqZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm5lZ2F0ZShjYihwcmVkaWNhdGUpKSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYWxsIG9mIHRoZSBlbGVtZW50cyBtYXRjaCBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbnlgLlxuICBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBhcnJheSBvciBvYmplY3QgY29udGFpbnMgYSBnaXZlbiBpdGVtICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVzYCBhbmQgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlcyA9IF8uaW5jbHVkZSA9IGZ1bmN0aW9uKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgICByZXR1cm4gXy5pbmRleE9mKG9iaiwgaXRlbSwgZnJvbUluZGV4KSA+PSAwO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24ob2JqLCBwYXRoLCBhcmdzKSB7XG4gICAgdmFyIGNvbnRleHRQYXRoLCBmdW5jO1xuICAgIGlmIChfLmlzRnVuY3Rpb24ocGF0aCkpIHtcbiAgICAgIGZ1bmMgPSBwYXRoO1xuICAgIH0gZWxzZSBpZiAoXy5pc0FycmF5KHBhdGgpKSB7XG4gICAgICBjb250ZXh0UGF0aCA9IHBhdGguc2xpY2UoMCwgLTEpO1xuICAgICAgcGF0aCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgdmFyIG1ldGhvZCA9IGZ1bmM7XG4gICAgICBpZiAoIW1ldGhvZCkge1xuICAgICAgICBpZiAoY29udGV4dFBhdGggJiYgY29udGV4dFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgY29udGV4dCA9IGRlZXBHZXQoY29udGV4dCwgY29udGV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgICAgIG1ldGhvZCA9IGNvbnRleHRbcGF0aF07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWV0aG9kID09IG51bGwgPyBtZXRob2QgOiBtZXRob2QuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYG1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuXG4gIF8ucGx1Y2sgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBfLm1hcChvYmosIF8ucHJvcGVydHkoa2V5KSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLndoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3RcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5maW5kV2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmluZChvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IC1JbmZpbml0eSwgbGFzdENvbXB1dGVkID0gLUluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgfHwgdHlwZW9mIGl0ZXJhdGVlID09ICdudW1iZXInICYmIHR5cGVvZiBvYmpbMF0gIT0gJ29iamVjdCcgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHYsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodiwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IC1JbmZpbml0eSAmJiByZXN1bHQgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHY7XG4gICAgICAgICAgbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5taW4gPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IEluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsIHx8IHR5cGVvZiBpdGVyYXRlZSA9PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqWzBdICE9ICdvYmplY3QnICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2LCBpbmRleCwgbGlzdCkge1xuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHYsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkIDwgbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSBJbmZpbml0eSAmJiByZXN1bHQgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdjtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24uXG4gIF8uc2h1ZmZsZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBfLnNhbXBsZShvYmosIEluZmluaXR5KTtcbiAgfTtcblxuICAvLyBTYW1wbGUgKipuKiogcmFuZG9tIHZhbHVlcyBmcm9tIGEgY29sbGVjdGlvbiB1c2luZyB0aGUgbW9kZXJuIHZlcnNpb24gb2YgdGhlXG4gIC8vIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXLigJNZYXRlc19zaHVmZmxlKS5cbiAgLy8gSWYgKipuKiogaXMgbm90IHNwZWNpZmllZCwgcmV0dXJucyBhIHNpbmdsZSByYW5kb20gZWxlbWVudC5cbiAgLy8gVGhlIGludGVybmFsIGBndWFyZGAgYXJndW1lbnQgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgbWFwYC5cbiAgXy5zYW1wbGUgPSBmdW5jdGlvbihvYmosIG4sIGd1YXJkKSB7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgICAgaWYgKCFpc0FycmF5TGlrZShvYmopKSBvYmogPSBfLnZhbHVlcyhvYmopO1xuICAgICAgcmV0dXJuIG9ialtfLnJhbmRvbShvYmoubGVuZ3RoIC0gMSldO1xuICAgIH1cbiAgICB2YXIgc2FtcGxlID0gaXNBcnJheUxpa2Uob2JqKSA/IF8uY2xvbmUob2JqKSA6IF8udmFsdWVzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChzYW1wbGUpO1xuICAgIG4gPSBNYXRoLm1heChNYXRoLm1pbihuLCBsZW5ndGgpLCAwKTtcbiAgICB2YXIgbGFzdCA9IGxlbmd0aCAtIDE7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG47IGluZGV4KyspIHtcbiAgICAgIHZhciByYW5kID0gXy5yYW5kb20oaW5kZXgsIGxhc3QpO1xuICAgICAgdmFyIHRlbXAgPSBzYW1wbGVbaW5kZXhdO1xuICAgICAgc2FtcGxlW2luZGV4XSA9IHNhbXBsZVtyYW5kXTtcbiAgICAgIHNhbXBsZVtyYW5kXSA9IHRlbXA7XG4gICAgfVxuICAgIHJldHVybiBzYW1wbGUuc2xpY2UoMCwgbik7XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdGVlLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHJldHVybiBfLnBsdWNrKF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpbmRleDogaW5kZXgrKyxcbiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvciwgcGFydGl0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXN1bHQgPSBwYXJ0aXRpb24gPyBbW10sIFtdXSA6IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGtleSA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICAgICAgYmVoYXZpb3IocmVzdWx0LCB2YWx1ZSwga2V5KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdyb3VwcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLiBQYXNzIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGVcbiAgLy8gdG8gZ3JvdXAgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjcml0ZXJpb24uXG4gIF8uZ3JvdXBCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChoYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTsgZWxzZSByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG4gIH0pO1xuXG4gIC8vIEluZGV4ZXMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiwgc2ltaWxhciB0byBgZ3JvdXBCeWAsIGJ1dCBmb3JcbiAgLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuICBfLmluZGV4QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICAvLyBDb3VudHMgaW5zdGFuY2VzIG9mIGFuIG9iamVjdCB0aGF0IGdyb3VwIGJ5IGEgY2VydGFpbiBjcml0ZXJpb24uIFBhc3NcbiAgLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gIC8vIGNyaXRlcmlvbi5cbiAgXy5jb3VudEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKGhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICB2YXIgcmVTdHJTeW1ib2wgPSAvW15cXHVkODAwLVxcdWRmZmZdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl18W1xcdWQ4MDAtXFx1ZGZmZl0vZztcbiAgLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbiAgXy50b0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiBbXTtcbiAgICBpZiAoXy5pc0FycmF5KG9iaikpIHJldHVybiBzbGljZS5jYWxsKG9iaik7XG4gICAgaWYgKF8uaXNTdHJpbmcob2JqKSkge1xuICAgICAgLy8gS2VlcCBzdXJyb2dhdGUgcGFpciBjaGFyYWN0ZXJzIHRvZ2V0aGVyXG4gICAgICByZXR1cm4gb2JqLm1hdGNoKHJlU3RyU3ltYm9sKTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHJldHVybiBfLm1hcChvYmosIF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBfLnZhbHVlcyhvYmopO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIG9iamVjdC5cbiAgXy5zaXplID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gMDtcbiAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqKSA/IG9iai5sZW5ndGggOiBfLmtleXMob2JqKS5sZW5ndGg7XG4gIH07XG5cbiAgLy8gU3BsaXQgYSBjb2xsZWN0aW9uIGludG8gdHdvIGFycmF5czogb25lIHdob3NlIGVsZW1lbnRzIGFsbCBzYXRpc2Z5IHRoZSBnaXZlblxuICAvLyBwcmVkaWNhdGUsIGFuZCBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIGRvIG5vdCBzYXRpc2Z5IHRoZSBwcmVkaWNhdGUuXG4gIF8ucGFydGl0aW9uID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwgcGFzcykge1xuICAgIHJlc3VsdFtwYXNzID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICB9LCB0cnVlKTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwgfHwgYXJyYXkubGVuZ3RoIDwgMSkgcmV0dXJuIG4gPT0gbnVsbCA/IHZvaWQgMCA6IFtdO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICByZXR1cm4gXy5pbml0aWFsKGFycmF5LCBhcnJheS5sZW5ndGggLSBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsIHx8IGFycmF5Lmxlbmd0aCA8IDEpIHJldHVybiBuID09IG51bGwgPyB2b2lkIDAgOiBbXTtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIF8ucmVzdChhcnJheSwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gbikpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGZpcnN0IGVudHJ5IG9mIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgdGFpbGAgYW5kIGBkcm9wYC5cbiAgLy8gRXNwZWNpYWxseSB1c2VmdWwgb24gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgYW4gKipuKiogd2lsbCByZXR1cm5cbiAgLy8gdGhlIHJlc3QgTiB2YWx1ZXMgaW4gdGhlIGFycmF5LlxuICBfLnJlc3QgPSBfLnRhaWwgPSBfLmRyb3AgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgbiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pO1xuICB9O1xuXG4gIC8vIFRyaW0gb3V0IGFsbCBmYWxzeSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAgXy5jb21wYWN0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIEJvb2xlYW4pO1xuICB9O1xuXG4gIC8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbiAgdmFyIGZsYXR0ZW4gPSBmdW5jdGlvbihpbnB1dCwgc2hhbGxvdywgc3RyaWN0LCBvdXRwdXQpIHtcbiAgICBvdXRwdXQgPSBvdXRwdXQgfHwgW107XG4gICAgdmFyIGlkeCA9IG91dHB1dC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChpbnB1dCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaW5wdXRbaV07XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmIChfLmlzQXJyYXkodmFsdWUpIHx8IF8uaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICAvLyBGbGF0dGVuIGN1cnJlbnQgbGV2ZWwgb2YgYXJyYXkgb3IgYXJndW1lbnRzIG9iamVjdC5cbiAgICAgICAgaWYgKHNoYWxsb3cpIHtcbiAgICAgICAgICB2YXIgaiA9IDAsIGxlbiA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoaiA8IGxlbikgb3V0cHV0W2lkeCsrXSA9IHZhbHVlW2orK107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgc3RyaWN0LCBvdXRwdXQpO1xuICAgICAgICAgIGlkeCA9IG91dHB1dC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCkge1xuICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgLy8gRmxhdHRlbiBvdXQgYW4gYXJyYXksIGVpdGhlciByZWN1cnNpdmVseSAoYnkgZGVmYXVsdCksIG9yIGp1c3Qgb25lIGxldmVsLlxuICBfLmZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSwgc2hhbGxvdykge1xuICAgIHJldHVybiBmbGF0dGVuKGFycmF5LCBzaGFsbG93LCBmYWxzZSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGUgYXJyYXkgdGhhdCBkb2VzIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgdmFsdWUocykuXG4gIF8ud2l0aG91dCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oYXJyYXksIG90aGVyQXJyYXlzKSB7XG4gICAgcmV0dXJuIF8uZGlmZmVyZW5jZShhcnJheSwgb3RoZXJBcnJheXMpO1xuICB9KTtcblxuICAvLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeVxuICAvLyBiZWVuIHNvcnRlZCwgeW91IGhhdmUgdGhlIG9wdGlvbiBvZiB1c2luZyBhIGZhc3RlciBhbGdvcml0aG0uXG4gIC8vIFRoZSBmYXN0ZXIgYWxnb3JpdGhtIHdpbGwgbm90IHdvcmsgd2l0aCBhbiBpdGVyYXRlZSBpZiB0aGUgaXRlcmF0ZWVcbiAgLy8gaXMgbm90IGEgb25lLXRvLW9uZSBmdW5jdGlvbiwgc28gcHJvdmlkaW5nIGFuIGl0ZXJhdGVlIHdpbGwgZGlzYWJsZVxuICAvLyB0aGUgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFfLmlzQm9vbGVhbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICAgIGl0ZXJhdGVlID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXRlcmF0ZWUgIT0gbnVsbCkgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sXG4gICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICAgIGlmIChpc1NvcnRlZCAmJiAhaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKCFpIHx8IHNlZW4gIT09IGNvbXB1dGVkKSByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKHNlZW4sIGNvbXB1dGVkKSkge1xuICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFfLmNvbnRhaW5zKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2ZcbiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8udW5pb24gPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGFycmF5cykge1xuICAgIHJldHVybiBfLnVuaXEoZmxhdHRlbihhcnJheXMsIHRydWUsIHRydWUpKTtcbiAgfSk7XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuICAvLyBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgaWYgKF8uY29udGFpbnMocmVzdWx0LCBpdGVtKSkgY29udGludWU7XG4gICAgICB2YXIgajtcbiAgICAgIGZvciAoaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGogPT09IGFyZ3NMZW5ndGgpIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbiAgXy5kaWZmZXJlbmNlID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihhcnJheSwgcmVzdCkge1xuICAgIHJlc3QgPSBmbGF0dGVuKHJlc3QsIHRydWUsIHRydWUpO1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKHJlc3QsIHZhbHVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gQ29tcGxlbWVudCBvZiBfLnppcC4gVW56aXAgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgYW5kIGdyb3Vwc1xuICAvLyBlYWNoIGFycmF5J3MgZWxlbWVudHMgb24gc2hhcmVkIGluZGljZXMuXG4gIF8udW56aXAgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSAmJiBfLm1heChhcnJheSwgZ2V0TGVuZ3RoKS5sZW5ndGggfHwgMDtcbiAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBfLnBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuICAvLyBhbiBpbmRleCBnbyB0b2dldGhlci5cbiAgXy56aXAgPSByZXN0QXJndW1lbnRzKF8udW56aXApO1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy4gUGFzc2luZyBieSBwYWlycyBpcyB0aGUgcmV2ZXJzZSBvZiBfLnBhaXJzLlxuICBfLm9iamVjdCA9IGZ1bmN0aW9uKGxpc3QsIHZhbHVlcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGxpc3QpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBmaW5kSW5kZXggYW5kIGZpbmRMYXN0SW5kZXggZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIgPSBmdW5jdGlvbihkaXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggb24gYW4gYXJyYXktbGlrZSB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0LlxuICBfLmZpbmRJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKDEpO1xuICBfLmZpbmRMYXN0SW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigtMSk7XG5cbiAgLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuICAvLyBhbiBvYmplY3Qgc2hvdWxkIGJlIGluc2VydGVkIHNvIGFzIHRvIG1haW50YWluIG9yZGVyLiBVc2VzIGJpbmFyeSBzZWFyY2guXG4gIF8uc29ydGVkSW5kZXggPSBmdW5jdGlvbihhcnJheSwgb2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdGVlKG9iaik7XG4gICAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgaW5kZXhPZiBhbmQgbGFzdEluZGV4T2YgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlSW5kZXhGaW5kZXIgPSBmdW5jdGlvbihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpZHgpIHtcbiAgICAgIHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgICAgaSA9IGlkeCA+PSAwID8gaWR4IDogTWF0aC5tYXgoaWR4ICsgbGVuZ3RoLCBpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZW5ndGggPSBpZHggPj0gMCA/IE1hdGgubWluKGlkeCArIDEsIGxlbmd0aCkgOiBpZHggKyBsZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNvcnRlZEluZGV4ICYmIGlkeCAmJiBsZW5ndGgpIHtcbiAgICAgICAgaWR4ID0gc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaWR4XSA9PT0gaXRlbSA/IGlkeCA6IC0xO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0gIT09IGl0ZW0pIHtcbiAgICAgICAgaWR4ID0gcHJlZGljYXRlRmluZChzbGljZS5jYWxsKGFycmF5LCBpLCBsZW5ndGgpLCBfLmlzTmFOKTtcbiAgICAgICAgcmV0dXJuIGlkeCA+PSAwID8gaWR4ICsgaSA6IC0xO1xuICAgICAgfVxuICAgICAgZm9yIChpZHggPSBkaXIgPiAwID8gaSA6IGxlbmd0aCAtIDE7IGlkeCA+PSAwICYmIGlkeCA8IGxlbmd0aDsgaWR4ICs9IGRpcikge1xuICAgICAgICBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIF8uZmluZEluZGV4LCBfLnNvcnRlZEluZGV4KTtcbiAgXy5sYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBfLmZpbmRMYXN0SW5kZXgpO1xuXG4gIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2ZcbiAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbiAgLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L2Z1bmN0aW9ucy5odG1sI3JhbmdlKS5cbiAgXy5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgaWYgKHN0b3AgPT0gbnVsbCkge1xuICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIGlmICghc3RlcCkge1xuICAgICAgc3RlcCA9IHN0b3AgPCBzdGFydCA/IC0xIDogMTtcbiAgICB9XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrLCBzdGFydCArPSBzdGVwKSB7XG4gICAgICByYW5nZVtpZHhdID0gc3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIENodW5rIGEgc2luZ2xlIGFycmF5IGludG8gbXVsdGlwbGUgYXJyYXlzLCBlYWNoIGNvbnRhaW5pbmcgYGNvdW50YCBvciBmZXdlclxuICAvLyBpdGVtcy5cbiAgXy5jaHVuayA9IGZ1bmN0aW9uKGFycmF5LCBjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSBudWxsIHx8IGNvdW50IDwgMSkgcmV0dXJuIFtdO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0LnB1c2goc2xpY2UuY2FsbChhcnJheSwgaSwgaSArPSBjb3VudCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBhcyBhIGNvbnN0cnVjdG9yXG4gIC8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgdmFyIGV4ZWN1dGVCb3VuZCA9IGZ1bmN0aW9uKHNvdXJjZUZ1bmMsIGJvdW5kRnVuYywgY29udGV4dCwgY2FsbGluZ0NvbnRleHQsIGFyZ3MpIHtcbiAgICBpZiAoIShjYWxsaW5nQ29udGV4dCBpbnN0YW5jZW9mIGJvdW5kRnVuYykpIHJldHVybiBzb3VyY2VGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIHZhciBzZWxmID0gYmFzZUNyZWF0ZShzb3VyY2VGdW5jLnByb3RvdHlwZSk7XG4gICAgdmFyIHJlc3VsdCA9IHNvdXJjZUZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgaWYgKF8uaXNPYmplY3QocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSBmdW5jdGlvbiBib3VuZCB0byBhIGdpdmVuIG9iamVjdCAoYXNzaWduaW5nIGB0aGlzYCwgYW5kIGFyZ3VtZW50cyxcbiAgLy8gb3B0aW9uYWxseSkuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBGdW5jdGlvbi5iaW5kYCBpZlxuICAvLyBhdmFpbGFibGUuXG4gIF8uYmluZCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJncykge1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb24nKTtcbiAgICB2YXIgYm91bmQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGNhbGxBcmdzKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChjYWxsQXJncykpO1xuICAgIH0pO1xuICAgIHJldHVybiBib3VuZDtcbiAgfSk7XG5cbiAgLy8gUGFydGlhbGx5IGFwcGx5IGEgZnVuY3Rpb24gYnkgY3JlYXRpbmcgYSB2ZXJzaW9uIHRoYXQgaGFzIGhhZCBzb21lIG9mIGl0c1xuICAvLyBhcmd1bWVudHMgcHJlLWZpbGxlZCwgd2l0aG91dCBjaGFuZ2luZyBpdHMgZHluYW1pYyBgdGhpc2AgY29udGV4dC4gXyBhY3RzXG4gIC8vIGFzIGEgcGxhY2Vob2xkZXIgYnkgZGVmYXVsdCwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZVxuICAvLyBwcmUtZmlsbGVkLiBTZXQgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgZm9yIGEgY3VzdG9tIHBsYWNlaG9sZGVyIGFyZ3VtZW50LlxuICBfLnBhcnRpYWwgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGZ1bmMsIGJvdW5kQXJncykge1xuICAgIHZhciBwbGFjZWhvbGRlciA9IF8ucGFydGlhbC5wbGFjZWhvbGRlcjtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsIGxlbmd0aCA9IGJvdW5kQXJncy5sZW5ndGg7XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBib3VuZEFyZ3NbaV0gPT09IHBsYWNlaG9sZGVyID8gYXJndW1lbnRzW3Bvc2l0aW9uKytdIDogYm91bmRBcmdzW2ldO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHBvc2l0aW9uIDwgYXJndW1lbnRzLmxlbmd0aCkgYXJncy5wdXNoKGFyZ3VtZW50c1twb3NpdGlvbisrXSk7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCB0aGlzLCB0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfSk7XG5cbiAgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyID0gXztcblxuICAvLyBCaW5kIGEgbnVtYmVyIG9mIGFuIG9iamVjdCdzIG1ldGhvZHMgdG8gdGhhdCBvYmplY3QuIFJlbWFpbmluZyBhcmd1bWVudHNcbiAgLy8gYXJlIHRoZSBtZXRob2QgbmFtZXMgdG8gYmUgYm91bmQuIFVzZWZ1bCBmb3IgZW5zdXJpbmcgdGhhdCBhbGwgY2FsbGJhY2tzXG4gIC8vIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbiAgXy5iaW5kQWxsID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIGtleXMpIHtcbiAgICBrZXlzID0gZmxhdHRlbihrZXlzLCBmYWxzZSwgZmFsc2UpO1xuICAgIHZhciBpbmRleCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChpbmRleCA8IDEpIHRocm93IG5ldyBFcnJvcignYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcycpO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICBvYmpba2V5XSA9IF8uYmluZChvYmpba2V5XSwgb2JqKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE1lbW9pemUgYW4gZXhwZW5zaXZlIGZ1bmN0aW9uIGJ5IHN0b3JpbmcgaXRzIHJlc3VsdHMuXG4gIF8ubWVtb2l6ZSA9IGZ1bmN0aW9uKGZ1bmMsIGhhc2hlcikge1xuICAgIHZhciBtZW1vaXplID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgICBpZiAoIWhhcyhjYWNoZSwgYWRkcmVzcykpIGNhY2hlW2FkZHJlc3NdID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICAgIH07XG4gICAgbWVtb2l6ZS5jYWNoZSA9IHt9O1xuICAgIHJldHVybiBtZW1vaXplO1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9LCB3YWl0KTtcbiAgfSk7XG5cbiAgLy8gRGVmZXJzIGEgZnVuY3Rpb24sIHNjaGVkdWxpbmcgaXQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzXG4gIC8vIGNsZWFyZWQuXG4gIF8uZGVmZXIgPSBfLnBhcnRpYWwoXy5kZWxheSwgXywgMSk7XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgb25seSBiZSB0cmlnZ2VyZWQgYXQgbW9zdCBvbmNlXG4gIC8vIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLiBOb3JtYWxseSwgdGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsIHJ1blxuICAvLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4gIC8vIGJ1dCBpZiB5b3UnZCBsaWtlIHRvIGRpc2FibGUgdGhlIGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlLCBwYXNzXG4gIC8vIGB7bGVhZGluZzogZmFsc2V9YC4gVG8gZGlzYWJsZSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2UsIGRpdHRvLlxuICBfLnRocm90dGxlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgIHZhciB0aW1lb3V0LCBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gICAgdmFyIHByZXZpb3VzID0gMDtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IF8ubm93KCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIHRocm90dGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vdyA9IF8ubm93KCk7XG4gICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIHRocm90dGxlZC5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHByZXZpb3VzID0gMDtcbiAgICAgIHRpbWVvdXQgPSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiB0aHJvdHRsZWQ7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIHJlc3VsdDtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKGNvbnRleHQsIGFyZ3MpIHtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgaWYgKGFyZ3MpIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfTtcblxuICAgIHZhciBkZWJvdW5jZWQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgIHZhciBjYWxsTm93ID0gIXRpbWVvdXQ7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgaWYgKGNhbGxOb3cpIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gXy5kZWxheShsYXRlciwgd2FpdCwgdGhpcywgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICBkZWJvdW5jZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIF8ucGFydGlhbCh3cmFwcGVyLCBmdW5jKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgbmVnYXRlZCB2ZXJzaW9uIG9mIHRoZSBwYXNzZWQtaW4gcHJlZGljYXRlLlxuICBfLm5lZ2F0ZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgYSBsaXN0IG9mIGZ1bmN0aW9ucywgZWFjaFxuICAvLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICBfLmNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3RhcnQgPSBhcmdzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGkgPSBzdGFydDtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHVwIHRvIChidXQgbm90IGluY2x1ZGluZykgdGhlIE50aCBjYWxsLlxuICBfLmJlZm9yZSA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgdmFyIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXMgPD0gMSkgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuICBfLm9uY2UgPSBfLnBhcnRpYWwoXy5iZWZvcmUsIDIpO1xuXG4gIF8ucmVzdEFyZ3VtZW50cyA9IHJlc3RBcmd1bWVudHM7XG5cbiAgLy8gT2JqZWN0IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gS2V5cyBpbiBJRSA8IDkgdGhhdCB3b24ndCBiZSBpdGVyYXRlZCBieSBgZm9yIGtleSBpbiAuLi5gIGFuZCB0aHVzIG1pc3NlZC5cbiAgdmFyIGhhc0VudW1CdWcgPSAhe3RvU3RyaW5nOiBudWxsfS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKTtcbiAgdmFyIG5vbkVudW1lcmFibGVQcm9wcyA9IFsndmFsdWVPZicsICdpc1Byb3RvdHlwZU9mJywgJ3RvU3RyaW5nJyxcbiAgICAncHJvcGVydHlJc0VudW1lcmFibGUnLCAnaGFzT3duUHJvcGVydHknLCAndG9Mb2NhbGVTdHJpbmcnXTtcblxuICB2YXIgY29sbGVjdE5vbkVudW1Qcm9wcyA9IGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICAgIHZhciBub25FbnVtSWR4ID0gbm9uRW51bWVyYWJsZVByb3BzLmxlbmd0aDtcbiAgICB2YXIgY29uc3RydWN0b3IgPSBvYmouY29uc3RydWN0b3I7XG4gICAgdmFyIHByb3RvID0gXy5pc0Z1bmN0aW9uKGNvbnN0cnVjdG9yKSAmJiBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgfHwgT2JqUHJvdG87XG5cbiAgICAvLyBDb25zdHJ1Y3RvciBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gICAgaWYgKGhhcyhvYmosIHByb3ApICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSBrZXlzLnB1c2gocHJvcCk7XG5cbiAgICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgICBwcm9wID0gbm9uRW51bWVyYWJsZVByb3BzW25vbkVudW1JZHhdO1xuICAgICAgaWYgKHByb3AgaW4gb2JqICYmIG9ialtwcm9wXSAhPT0gcHJvdG9bcHJvcF0gJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIHtcbiAgICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgbmFtZXMgb2YgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2AuXG4gIF8ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgaWYgKG5hdGl2ZUtleXMpIHJldHVybiBuYXRpdmVLZXlzKG9iaik7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoaGFzKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgYWxsIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBhbiBvYmplY3QuXG4gIF8uYWxsS2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0LlxuICAvLyBJbiBjb250cmFzdCB0byBfLm1hcCBpdCByZXR1cm5zIGFuIG9iamVjdC5cbiAgXy5tYXBPYmplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGgsXG4gICAgICAgIHJlc3VsdHMgPSB7fTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgcmVzdWx0c1tjdXJyZW50S2V5XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ29udmVydCBhbiBvYmplY3QgaW50byBhIGxpc3Qgb2YgYFtrZXksIHZhbHVlXWAgcGFpcnMuXG4gIC8vIFRoZSBvcHBvc2l0ZSBvZiBfLm9iamVjdC5cbiAgXy5wYWlycyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBwYWlycyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2AuXG4gIF8uZnVuY3Rpb25zID0gXy5tZXRob2RzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlQXNzaWduZXIgPSBmdW5jdGlvbihrZXlzRnVuYywgZGVmYXVsdHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmIChkZWZhdWx0cykgb2JqID0gT2JqZWN0KG9iaik7XG4gICAgICBpZiAobGVuZ3RoIDwgMiB8fCBvYmogPT0gbnVsbCkgcmV0dXJuIG9iajtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF0sXG4gICAgICAgICAgICBrZXlzID0ga2V5c0Z1bmMoc291cmNlKSxcbiAgICAgICAgICAgIGwgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoIWRlZmF1bHRzIHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcblxuICAvLyBFeHRlbmQgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgaW4gcGFzc2VkLWluIG9iamVjdChzKS5cbiAgXy5leHRlbmQgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMpO1xuXG4gIC8vIEFzc2lnbnMgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIG93biBwcm9wZXJ0aWVzIGluIHRoZSBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICAvLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbiAgXy5leHRlbmRPd24gPSBfLmFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKF8ua2V5cyk7XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3Qga2V5IG9uIGFuIG9iamVjdCB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0LlxuICBfLmZpbmRLZXkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSwga2V5O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICAgIH1cbiAgfTtcblxuICAvLyBJbnRlcm5hbCBwaWNrIGhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgYG9iamAgaGFzIGtleSBga2V5YC5cbiAgdmFyIGtleUluT2JqID0gZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7XG4gICAgcmV0dXJuIGtleSBpbiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9ubHkgY29udGFpbmluZyB0aGUgd2hpdGVsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5waWNrID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIGtleXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge30sIGl0ZXJhdGVlID0ga2V5c1swXTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA+IDEpIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwga2V5c1sxXSk7XG4gICAgICBrZXlzID0gXy5hbGxLZXlzKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0ga2V5SW5PYmo7XG4gICAgICBrZXlzID0gZmxhdHRlbihrZXlzLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgb2JqID0gT2JqZWN0KG9iaik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgaWYgKGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iaikpIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pO1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCB3aXRob3V0IHRoZSBibGFja2xpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLm9taXQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICAgIHZhciBpdGVyYXRlZSA9IGtleXNbMF0sIGNvbnRleHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHtcbiAgICAgIGl0ZXJhdGVlID0gXy5uZWdhdGUoaXRlcmF0ZWUpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID4gMSkgY29udGV4dCA9IGtleXNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleXMgPSBfLm1hcChmbGF0dGVuKGtleXMsIGZhbHNlLCBmYWxzZSksIFN0cmluZyk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKGtleXMsIGtleSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gXy5waWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9KTtcblxuICAvLyBGaWxsIGluIGEgZ2l2ZW4gb2JqZWN0IHdpdGggZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICBfLmRlZmF1bHRzID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzLCB0cnVlKTtcblxuICAvLyBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGdpdmVuIHByb3RvdHlwZSBvYmplY3QuXG4gIC8vIElmIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgdGhlbiB0aGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4gIC8vIGNyZWF0ZWQgb2JqZWN0LlxuICBfLmNyZWF0ZSA9IGZ1bmN0aW9uKHByb3RvdHlwZSwgcHJvcHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgIGlmIChwcm9wcykgXy5leHRlbmRPd24ocmVzdWx0LCBwcm9wcyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSAoc2hhbGxvdy1jbG9uZWQpIGR1cGxpY2F0ZSBvZiBhbiBvYmplY3QuXG4gIF8uY2xvbmUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgICByZXR1cm4gXy5pc0FycmF5KG9iaikgPyBvYmouc2xpY2UoKSA6IF8uZXh0ZW5kKHt9LCBvYmopO1xuICB9O1xuXG4gIC8vIEludm9rZXMgaW50ZXJjZXB0b3Igd2l0aCB0aGUgb2JqLCBhbmQgdGhlbiByZXR1cm5zIG9iai5cbiAgLy8gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4sIGluXG4gIC8vIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW4gdGhlIGNoYWluLlxuICBfLnRhcCA9IGZ1bmN0aW9uKG9iaiwgaW50ZXJjZXB0b3IpIHtcbiAgICBpbnRlcmNlcHRvcihvYmopO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2YgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uaXNNYXRjaCA9IGZ1bmN0aW9uKG9iamVjdCwgYXR0cnMpIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhhdHRycyksIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuICFsZW5ndGg7XG4gICAgdmFyIG9iaiA9IE9iamVjdChvYmplY3QpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKGF0dHJzW2tleV0gIT09IG9ialtrZXldIHx8ICEoa2V5IGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cblxuICAvLyBJbnRlcm5hbCByZWN1cnNpdmUgY29tcGFyaXNvbiBmdW5jdGlvbiBmb3IgYGlzRXF1YWxgLlxuICB2YXIgZXEsIGRlZXBFcTtcbiAgZXEgPSBmdW5jdGlvbihhLCBiLCBhU3RhY2ssIGJTdGFjaykge1xuICAgIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgICAvLyBTZWUgdGhlIFtIYXJtb255IGBlZ2FsYCBwcm9wb3NhbF0oaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTplZ2FsKS5cbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT09IDEgLyBiO1xuICAgIC8vIGBudWxsYCBvciBgdW5kZWZpbmVkYCBvbmx5IGVxdWFsIHRvIGl0c2VsZiAoc3RyaWN0IGNvbXBhcmlzb24pLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICBpZiAoYSAhPT0gYSkgcmV0dXJuIGIgIT09IGI7XG4gICAgLy8gRXhoYXVzdCBwcmltaXRpdmUgY2hlY2tzXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgYTtcbiAgICBpZiAodHlwZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBkZWVwRXEoYSwgYiwgYVN0YWNrLCBiU3RhY2spO1xuICB9O1xuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIGRlZXBFcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBfKSBhID0gYS5fd3JhcHBlZDtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIF8pIGIgPSBiLl93cmFwcGVkO1xuICAgIC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSk7XG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdG9TdHJpbmcuY2FsbChiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAvLyBTdHJpbmdzLCBudW1iZXJzLCByZWd1bGFyIGV4cHJlc3Npb25zLCBkYXRlcywgYW5kIGJvb2xlYW5zIGFyZSBjb21wYXJlZCBieSB2YWx1ZS5cbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XG4gICAgICAvLyBSZWdFeHBzIGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MgZm9yIGNvbXBhcmlzb24gKE5vdGU6ICcnICsgL2EvaSA9PT0gJy9hL2knKVxuICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxuICAgICAgICByZXR1cm4gJycgKyBhID09PSAnJyArIGI7XG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLlxuICAgICAgICAvLyBPYmplY3QoTmFOKSBpcyBlcXVpdmFsZW50IHRvIE5hTi5cbiAgICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjtcbiAgICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgICBjYXNlICdbb2JqZWN0IFN5bWJvbF0nOlxuICAgICAgICByZXR1cm4gU3ltYm9sUHJvdG8udmFsdWVPZi5jYWxsKGEpID09PSBTeW1ib2xQcm90by52YWx1ZU9mLmNhbGwoYik7XG4gICAgfVxuXG4gICAgdmFyIGFyZUFycmF5cyA9IGNsYXNzTmFtZSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICBpZiAoIWFyZUFycmF5cykge1xuICAgICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShfLmlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cblxuICAgIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAvLyBJdCdzIGRvbmUgaGVyZSBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlbSBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIGNvbXBhcmlzb24uXG4gICAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICAgIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgICAgLy8gdW5pcXVlIG5lc3RlZCBzdHJ1Y3R1cmVzLlxuICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09PSBhKSByZXR1cm4gYlN0YWNrW2xlbmd0aF0gPT09IGI7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBmaXJzdCBvYmplY3QgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wdXNoKGEpO1xuICAgIGJTdGFjay5wdXNoKGIpO1xuXG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGFyZUFycmF5cykge1xuICAgICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKGEpLCBrZXk7XG4gICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cbiAgICAgIGlmIChfLmtleXMoYikubGVuZ3RoICE9PSBsZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgICAga2V5ID0ga2V5c1tsZW5ndGhdO1xuICAgICAgICBpZiAoIShoYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopICYmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikgfHwgXy5pc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIF8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cCwgaXNFcnJvciwgaXNNYXAsIGlzV2Vha01hcCwgaXNTZXQsIGlzV2Vha1NldC5cbiAgXy5lYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnLCAnRXJyb3InLCAnU3ltYm9sJywgJ01hcCcsICdXZWFrTWFwJywgJ1NldCcsICdXZWFrU2V0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBfWydpcycgKyBuYW1lXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgJyArIG5hbWUgKyAnXSc7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSA8IDkpLCB3aGVyZVxuICAvLyB0aGVyZSBpc24ndCBhbnkgaW5zcGVjdGFibGUgXCJBcmd1bWVudHNcIiB0eXBlLlxuICBpZiAoIV8uaXNBcmd1bWVudHMoYXJndW1lbnRzKSkge1xuICAgIF8uaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBoYXMob2JqLCAnY2FsbGVlJyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSB0eXBlb2YgYnVncyBpbiBvbGQgdjgsXG4gIC8vIElFIDExICgjMTYyMSksIFNhZmFyaSA4ICgjMTkyOSksIGFuZCBQaGFudG9tSlMgKCMyMjM2KS5cbiAgdmFyIG5vZGVsaXN0ID0gcm9vdC5kb2N1bWVudCAmJiByb290LmRvY3VtZW50LmNoaWxkTm9kZXM7XG4gIGlmICh0eXBlb2YgLy4vICE9ICdmdW5jdGlvbicgJiYgdHlwZW9mIEludDhBcnJheSAhPSAnb2JqZWN0JyAmJiB0eXBlb2Ygbm9kZWxpc3QgIT0gJ2Z1bmN0aW9uJykge1xuICAgIF8uaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJyB8fCBmYWxzZTtcbiAgICB9O1xuICB9XG5cbiAgLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuICBfLmlzRmluaXRlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICFfLmlzU3ltYm9sKG9iaikgJiYgaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/XG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIGlzTmFOKG9iaik7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIGJvb2xlYW4/XG4gIF8uaXNCb29sZWFuID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgZXF1YWwgdG8gbnVsbD9cbiAgXy5pc051bGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBudWxsO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgdW5kZWZpbmVkP1xuICBfLmlzVW5kZWZpbmVkID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdm9pZCAwO1xuICB9O1xuXG4gIC8vIFNob3J0Y3V0IGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gcHJvcGVydHkgZGlyZWN0bHlcbiAgLy8gb24gaXRzZWxmIChpbiBvdGhlciB3b3Jkcywgbm90IG9uIGEgcHJvdG90eXBlKS5cbiAgXy5oYXMgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICBpZiAoIV8uaXNBcnJheShwYXRoKSkge1xuICAgICAgcmV0dXJuIGhhcyhvYmosIHBhdGgpO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHBhdGhbaV07XG4gICAgICBpZiAob2JqID09IG51bGwgfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iaiA9IG9ialtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gISFsZW5ndGg7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzXG4gIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRlZXMuXG4gIF8uaWRlbnRpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBQcmVkaWNhdGUtZ2VuZXJhdGluZyBmdW5jdGlvbnMuIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG4gIF8uY29uc3RhbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuXG4gIF8ubm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBwYXNzZWQgYW4gb2JqZWN0LCB3aWxsIHRyYXZlcnNlIHRoYXQgb2JqZWN04oCZc1xuICAvLyBwcm9wZXJ0aWVzIGRvd24gdGhlIGdpdmVuIGBwYXRoYCwgc3BlY2lmaWVkIGFzIGFuIGFycmF5IG9mIGtleXMgb3IgaW5kZXhlcy5cbiAgXy5wcm9wZXJ0eSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBpZiAoIV8uaXNBcnJheShwYXRoKSkge1xuICAgICAgcmV0dXJuIHNoYWxsb3dQcm9wZXJ0eShwYXRoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIGRlZXBHZXQob2JqLCBwYXRoKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlcyBhIGZ1bmN0aW9uIGZvciBhIGdpdmVuIG9iamVjdCB0aGF0IHJldHVybnMgYSBnaXZlbiBwcm9wZXJ0eS5cbiAgXy5wcm9wZXJ0eU9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKXt9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgcmV0dXJuICFfLmlzQXJyYXkocGF0aCkgPyBvYmpbcGF0aF0gOiBkZWVwR2V0KG9iaiwgcGF0aCk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2ZcbiAgLy8gYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlciA9IF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgYXR0cnMgPSBfLmV4dGVuZE93bih7fSwgYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmlzTWF0Y2gob2JqLCBhdHRycyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIEEgKHBvc3NpYmx5IGZhc3Rlcikgd2F5IHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAgYXMgYW4gaW50ZWdlci5cbiAgXy5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgLy8gTGlzdCBvZiBIVE1MIGVudGl0aWVzIGZvciBlc2NhcGluZy5cbiAgdmFyIGVzY2FwZU1hcCA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmI3gyNzsnLFxuICAgICdgJzogJyYjeDYwOydcbiAgfTtcbiAgdmFyIHVuZXNjYXBlTWFwID0gXy5pbnZlcnQoZXNjYXBlTWFwKTtcblxuICAvLyBGdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3MgdG8vZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG4gIHZhciBjcmVhdGVFc2NhcGVyID0gZnVuY3Rpb24obWFwKSB7XG4gICAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIG1hcFttYXRjaF07XG4gICAgfTtcbiAgICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWQuXG4gICAgdmFyIHNvdXJjZSA9ICcoPzonICsgXy5rZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICAgIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gICAgdmFyIHJlcGxhY2VSZWdleHAgPSBSZWdFeHAoc291cmNlLCAnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICAgIHJldHVybiB0ZXN0UmVnZXhwLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsIGVzY2FwZXIpIDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIF8uZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuICBfLnVuZXNjYXBlID0gY3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCk7XG5cbiAgLy8gVHJhdmVyc2VzIHRoZSBjaGlsZHJlbiBvZiBgb2JqYCBhbG9uZyBgcGF0aGAuIElmIGEgY2hpbGQgaXMgYSBmdW5jdGlvbiwgaXRcbiAgLy8gaXMgaW52b2tlZCB3aXRoIGl0cyBwYXJlbnQgYXMgY29udGV4dC4gUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGZpbmFsXG4gIC8vIGNoaWxkLCBvciBgZmFsbGJhY2tgIGlmIGFueSBjaGlsZCBpcyB1bmRlZmluZWQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqLCBwYXRoLCBmYWxsYmFjaykge1xuICAgIGlmICghXy5pc0FycmF5KHBhdGgpKSBwYXRoID0gW3BhdGhdO1xuICAgIHZhciBsZW5ndGggPSBwYXRoLmxlbmd0aDtcbiAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgcmV0dXJuIF8uaXNGdW5jdGlvbihmYWxsYmFjaykgPyBmYWxsYmFjay5jYWxsKG9iaikgOiBmYWxsYmFjaztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHByb3AgPSBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtwYXRoW2ldXTtcbiAgICAgIGlmIChwcm9wID09PSB2b2lkIDApIHtcbiAgICAgICAgcHJvcCA9IGZhbGxiYWNrO1xuICAgICAgICBpID0gbGVuZ3RoOyAvLyBFbnN1cmUgd2UgZG9uJ3QgY29udGludWUgaXRlcmF0aW5nLlxuICAgICAgfVxuICAgICAgb2JqID0gXy5pc0Z1bmN0aW9uKHByb3ApID8gcHJvcC5jYWxsKG9iaikgOiBwcm9wO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGludGVnZXIgaWQgKHVuaXF1ZSB3aXRoaW4gdGhlIGVudGlyZSBjbGllbnQgc2Vzc2lvbikuXG4gIC8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuICBfLnVuaXF1ZUlkID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcbiAgfTtcblxuICAvLyBCeSBkZWZhdWx0LCBVbmRlcnNjb3JlIHVzZXMgRVJCLXN0eWxlIHRlbXBsYXRlIGRlbGltaXRlcnMsIGNoYW5nZSB0aGVcbiAgLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgZXZhbHVhdGU6IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgaW50ZXJwb2xhdGU6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZTogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICB2YXIgZXNjYXBlUmVnRXhwID0gL1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nO1xuXG4gIHZhciBlc2NhcGVDaGFyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgZXNjYXBlc1ttYXRjaF07XG4gIH07XG5cbiAgLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbiAgLy8gVW5kZXJzY29yZSB0ZW1wbGF0aW5nIGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlcyB3aGl0ZXNwYWNlLFxuICAvLyBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgc2V0dGluZ3MsIG9sZFNldHRpbmdzKSB7XG4gICAgaWYgKCFzZXR0aW5ncyAmJiBvbGRTZXR0aW5ncykgc2V0dGluZ3MgPSBvbGRTZXR0aW5ncztcbiAgICBzZXR0aW5ncyA9IF8uZGVmYXVsdHMoe30sIHNldHRpbmdzLCBfLnRlbXBsYXRlU2V0dGluZ3MpO1xuXG4gICAgLy8gQ29tYmluZSBkZWxpbWl0ZXJzIGludG8gb25lIHJlZ3VsYXIgZXhwcmVzc2lvbiB2aWEgYWx0ZXJuYXRpb24uXG4gICAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCBlc2NhcGVDaGFyKTtcbiAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgZXNjYXBlICsgXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGludGVycG9sYXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgaW50ZXJwb2xhdGUgKyBcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChldmFsdWF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGUgKyBcIlxcbl9fcCs9J1wiO1xuICAgICAgfVxuXG4gICAgICAvLyBBZG9iZSBWTXMgbmVlZCB0aGUgbWF0Y2ggcmV0dXJuZWQgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBvZmZzZXQuXG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgIC8vIElmIGEgdmFyaWFibGUgaXMgbm90IHNwZWNpZmllZCwgcGxhY2UgZGF0YSB2YWx1ZXMgaW4gbG9jYWwgc2NvcGUuXG4gICAgaWYgKCFzZXR0aW5ncy52YXJpYWJsZSkgc291cmNlID0gJ3dpdGgob2JqfHx7fSl7XFxuJyArIHNvdXJjZSArICd9XFxuJztcblxuICAgIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICAgIFwicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIiArXG4gICAgICBzb3VyY2UgKyAncmV0dXJuIF9fcDtcXG4nO1xuXG4gICAgdmFyIHJlbmRlcjtcbiAgICB0cnkge1xuICAgICAgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHZhciBhcmd1bWVudCA9IHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonO1xuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9O1xuXG4gIC8vIEFkZCBhIFwiY2hhaW5cIiBmdW5jdGlvbi4gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGluc3RhbmNlID0gXyhvYmopO1xuICAgIGluc3RhbmNlLl9jaGFpbiA9IHRydWU7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciBjaGFpblJlc3VsdCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBvYmopIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuX2NoYWluID8gXyhvYmopLmNoYWluKCkgOiBvYmo7XG4gIH07XG5cbiAgLy8gQWRkIHlvdXIgb3duIGN1c3RvbSBmdW5jdGlvbnMgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLm1peGluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgXy5lYWNoKF8uZnVuY3Rpb25zKG9iaiksIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gX1tuYW1lXSA9IG9ialtuYW1lXTtcbiAgICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gW3RoaXMuX3dyYXBwZWRdO1xuICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIF87XG4gIH07XG5cbiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICBfLm1peGluKF8pO1xuXG4gIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PT0gJ3NoaWZ0JyB8fCBuYW1lID09PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBvYmopO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydjb25jYXQnLCAnam9pbicsICdzbGljZSddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBtZXRob2QuYXBwbHkodGhpcy5fd3JhcHBlZCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRXh0cmFjdHMgdGhlIHJlc3VsdCBmcm9tIGEgd3JhcHBlZCBhbmQgY2hhaW5lZCBvYmplY3QuXG4gIF8ucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gUHJvdmlkZSB1bndyYXBwaW5nIHByb3h5IGZvciBzb21lIG1ldGhvZHMgdXNlZCBpbiBlbmdpbmUgb3BlcmF0aW9uc1xuICAvLyBzdWNoIGFzIGFyaXRobWV0aWMgYW5kIEpTT04gc3RyaW5naWZpY2F0aW9uLlxuICBfLnByb3RvdHlwZS52YWx1ZU9mID0gXy5wcm90b3R5cGUudG9KU09OID0gXy5wcm90b3R5cGUudmFsdWU7XG5cbiAgXy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMuX3dyYXBwZWQpO1xuICB9O1xuXG4gIC8vIEFNRCByZWdpc3RyYXRpb24gaGFwcGVucyBhdCB0aGUgZW5kIGZvciBjb21wYXRpYmlsaXR5IHdpdGggQU1EIGxvYWRlcnNcbiAgLy8gdGhhdCBtYXkgbm90IGVuZm9yY2UgbmV4dC10dXJuIHNlbWFudGljcyBvbiBtb2R1bGVzLiBFdmVuIHRob3VnaCBnZW5lcmFsXG4gIC8vIHByYWN0aWNlIGZvciBBTUQgcmVnaXN0cmF0aW9uIGlzIHRvIGJlIGFub255bW91cywgdW5kZXJzY29yZSByZWdpc3RlcnNcbiAgLy8gYXMgYSBuYW1lZCBtb2R1bGUgYmVjYXVzZSwgbGlrZSBqUXVlcnksIGl0IGlzIGEgYmFzZSBsaWJyYXJ5IHRoYXQgaXNcbiAgLy8gcG9wdWxhciBlbm91Z2ggdG8gYmUgYnVuZGxlZCBpbiBhIHRoaXJkIHBhcnR5IGxpYiwgYnV0IG5vdCBiZSBwYXJ0IG9mXG4gIC8vIGFuIEFNRCBsb2FkIHJlcXVlc3QuIFRob3NlIGNhc2VzIGNvdWxkIGdlbmVyYXRlIGFuIGVycm9yIHdoZW4gYW5cbiAgLy8gYW5vbnltb3VzIGRlZmluZSgpIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgbG9hZGVyIHJlcXVlc3QuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgndW5kZXJzY29yZScsIFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG59KCkpO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gZmFsc2U7XG5leHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSAvKkBfX1BVUkVfXyovIG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQhIFJ4SlMgd2FzIHNldCB0byB1c2UgZGVwcmVjYXRlZCBzeW5jaHJvbm91cyBlcnJvciBoYW5kbGluZyBiZWhhdmlvciBieSBjb2RlIGF0OiBcXG4nICsgZXJyb3Iuc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncykge1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLmxvZygnUnhKUzogQmFjayB0byBhIGJldHRlciBlcnJvciBiZWhhdmlvci4gVGhhbmsgeW91LiA8MycpO1xuICAgICAgICB9XG4gICAgICAgIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoKSB7XG4gICAgICAgIHJldHVybiBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0sIDApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9zdFJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgZW1wdHkgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gICAgcmV0dXJuIHggIT09IG51bGwgJiYgdHlwZW9mIHggPT09ICdvYmplY3QnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNPYmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5mdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMubWVzc2FnZSA9IGVycm9ycyA/XG4gICAgICAgIGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpIDogJyc7XG4gICAgdGhpcy5uYW1lID0gJ1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIHJldHVybiB0aGlzO1xufVxuVW5zdWJzY3JpcHRpb25FcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzQXJyYXksX3V0aWxfaXNPYmplY3QsX3V0aWxfaXNGdW5jdGlvbixfdXRpbF9VbnN1YnNjcmlwdGlvbkVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vdXRpbC9pc09iamVjdCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbnZhciBTdWJzY3JpcHRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICBpZiAodW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVycm9ycztcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgX3BhcmVudE9yUGFyZW50cyA9IF9hLl9wYXJlbnRPclBhcmVudHMsIF91bnN1YnNjcmliZSA9IF9hLl91bnN1YnNjcmliZSwgX3N1YnNjcmlwdGlvbnMgPSBfYS5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucmVtb3ZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBfcGFyZW50T3JQYXJlbnRzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRPclBhcmVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihfdW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF91bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykgOiBbZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkoX3N1YnNjcmlwdGlvbnMpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBfc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHZhciBzdWIgPSBfc3Vic2NyaXB0aW9uc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHN1YikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRlYXJkb3duO1xuICAgICAgICBpZiAoIXRlYXJkb3duKSB7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHRlYXJkb3duKSB7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbih0ZWFyZG93bik7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24gPT09IHRoaXMgfHwgc3Vic2NyaXB0aW9uLmNsb3NlZCB8fCB0eXBlb2Ygc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24uX3N1YnNjcmlwdGlvbnMgPSBbdG1wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgdGVhcmRvd24gJyArIHRlYXJkb3duICsgJyBhZGRlZCB0byBTdWJzY3JpcHRpb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9wYXJlbnRPclBhcmVudHMgPSBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cyA9IFtfcGFyZW50T3JQYXJlbnRzLCB0aGlzXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzLmluZGV4T2YodGhpcykgPT09IC0xKSB7XG4gICAgICAgICAgICBfcGFyZW50T3JQYXJlbnRzLnB1c2godGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBbc3Vic2NyaXB0aW9uXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbkluZGV4ID0gc3Vic2NyaXB0aW9ucy5pbmRleE9mKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2Uoc3Vic2NyaXB0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKGVtcHR5KSB7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KG5ldyBTdWJzY3JpcHRpb24oKSkpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH07XG5mdW5jdGlvbiBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZXJyb3JzKSB7XG4gICAgcmV0dXJuIGVycm9ycy5yZWR1Y2UoZnVuY3Rpb24gKGVycnMsIGVycikgeyByZXR1cm4gZXJycy5jb25jYXQoKGVyciBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpID8gZXJyLmVycm9ycyA6IGVycik7IH0sIFtdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgcnhTdWJzY3JpYmVyID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gLypAX19QVVJFX18qLyBTeW1ib2woJ3J4U3Vic2NyaWJlcicpXG4gICAgOiAnQEByeFN1YnNjcmliZXJfJyArIC8qQF9fUFVSRV9fKi8gTWF0aC5yYW5kb20oKTtcbmV4cG9ydCB2YXIgJCRyeFN1YnNjcmliZXIgPSByeFN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yeFN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzRnVuY3Rpb24sX09ic2VydmVyLF9TdWJzY3JpcHRpb24sX2ludGVybmFsX3N5bWJvbF9yeFN1YnNjcmliZXIsX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbnZhciBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uT3JOZXh0LmFkZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZUFuZFJlY3ljbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gdGhpcy5fcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IF9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIFNhZmVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKF9wYXJlbnRTdWJzY3JpYmVyLCBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB2YXIgY29udGV4dCA9IF90aGlzO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0Lm5leHQ7XG4gICAgICAgICAgICBlcnJvciA9IG9ic2VydmVyT3JOZXh0LmVycm9yO1xuICAgICAgICAgICAgY29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAhPT0gZW1wdHlPYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0LnVuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGQoY29udGV4dC51bnN1YnNjcmliZS5iaW5kKGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9IF90aGlzLnVuc3Vic2NyaWJlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgX3RoaXMuX25leHQgPSBuZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCAmJiB0aGlzLl9uZXh0KSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX25leHQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgdmFyIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgPSBjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZztcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fY29tcGxldGUuY2FsbChfdGhpcy5fY29udGV4dCk7IH07XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclVuc3ViID0gZnVuY3Rpb24gKGZuLCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3IgPSBmdW5jdGlvbiAocGFyZW50LCBmbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX25vb3AgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vbm9vcCc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoIWZucykge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfdG9TdWJzY3JpYmVyLF9zeW1ib2xfb2JzZXJ2YWJsZSxfdXRpbF9waXBlLF9jb25maWcgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xudmFyIE9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5faXNTY2FsYXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yO1xuICAgICAgICB2YXIgc2luayA9IHRvU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBzaW5rLmFkZChvcGVyYXRvci5jYWxsKHNpbmssIHRoaXMuc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaW5rLmFkZCh0aGlzLnNvdXJjZSB8fCAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgIXNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHNpbmspIDpcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlTdWJzY3JpYmUoc2luaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2luay5zeW5jRXJyb3JWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc2luaykpIHtcbiAgICAgICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHZhbHVlID0geDsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBjb25maWcuUHJvbWlzZSB8fCBQcm9taXNlO1xuICAgIH1cbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gUHJvbWlzZSBpbXBsIGZvdW5kJyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlQ3Rvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyLF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9PYnNlcnZlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi4vT2JzZXJ2ZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgaWYgKG5leHRPck9ic2VydmVyKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5leHRPck9ic2VydmVyICYmICFlcnJvciAmJiAhY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKGVtcHR5T2JzZXJ2ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1N1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcikge1xuICAgIHdoaWxlIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX2EgPSBvYnNlcnZlciwgY2xvc2VkXzEgPSBfYS5jbG9zZWQsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb24sIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZDtcbiAgICAgICAgaWYgKGNsb3NlZF8xIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb0FycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW4gJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9BcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlucHV0W2krK10pO1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQodGhpcy5zY2hlZHVsZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNTY2hlZHVsZXIsX2Zyb21BcnJheSxfc2NoZWR1bGVkX3NjaGVkdWxlQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gb2YoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgaWYgKGlzU2NoZWR1bGVyKHNjaGVkdWxlcikpIHtcbiAgICAgICAgYXJncy5wb3AoKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoYXJncywgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmcm9tQXJyYXkoYXJncyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2YuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNTY2hlZHVsZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnNjaGVkdWxlID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX3N1YnNjcmliZVRvQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvQXJyYXkgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUb0FycmF5KGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWFwT3BlcmF0aW9uKHNvdXJjZSkge1xuICAgICAgICBpZiAodHlwZW9mIHByb2plY3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpKTtcbiAgICB9O1xufVxudmFyIE1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICB9XG4gICAgTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNYXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJvamVjdCwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTWFwT3BlcmF0b3IgfTtcbnZhciBNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWFwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJvamVjdCwgdGhpc0FyZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmcgfHwgX3RoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdC5jYWxsKHRoaXMudGhpc0FyZywgdmFsdWUsIHRoaXMuY291bnQrKyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiAnQEBpdGVyYXRvcic7XG4gICAgfVxuICAgIHJldHVybiBTeW1ib2wuaXRlcmF0b3I7XG59XG5leHBvcnQgdmFyIGl0ZXJhdG9yID0gLypAX19QVVJFX18qLyBnZXRTeW1ib2xJdGVyYXRvcigpO1xuZXhwb3J0IHZhciAkJGl0ZXJhdG9yID0gaXRlcmF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheUxpa2UgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJzsgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5TGlrZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNQcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3Vic2NyaWJlVG9BcnJheSxfc3Vic2NyaWJlVG9Qcm9taXNlLF9zdWJzY3JpYmVUb0l0ZXJhYmxlLF9zdWJzY3JpYmVUb09ic2VydmFibGUsX2lzQXJyYXlMaWtlLF9pc1Byb21pc2UsX2lzT2JqZWN0LF9zeW1ib2xfaXRlcmF0b3IsX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IHN1YnNjcmliZVRvQXJyYXkgfSBmcm9tICcuL3N1YnNjcmliZVRvQXJyYXknO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9Qcm9taXNlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb1Byb21pc2UnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9JdGVyYWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9JdGVyYWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb09ic2VydmFibGUgfSBmcm9tICcuL3N1YnNjcmliZVRvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4vaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL2lzT2JqZWN0JztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUbyA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBpZiAoISFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdFtTeW1ib2xfb2JzZXJ2YWJsZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvT2JzZXJ2YWJsZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5TGlrZShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb0FycmF5KHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb1Byb21pc2UocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoISFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb0l0ZXJhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWUgPSBpc09iamVjdChyZXN1bHQpID8gJ2FuIGludmFsaWQgb2JqZWN0JyA6IFwiJ1wiICsgcmVzdWx0ICsgXCInXCI7XG4gICAgICAgIHZhciBtc2cgPSBcIllvdSBwcm92aWRlZCBcIiArIHZhbHVlICsgXCIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLlwiXG4gICAgICAgICAgICArICcgWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS4nO1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG1zZyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9PYnNlcnZhYmxlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgb2JzID0gb2JqW1N5bWJvbF9vYnNlcnZhYmxlXSgpO1xuICAgICAgICBpZiAodHlwZW9mIG9icy5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9PYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pXG4gICAgICAgICAgICAudGhlbihudWxsLCBob3N0UmVwb3J0RXJyb3IpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb0l0ZXJhYmxlID0gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlW1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoaXRlbS5kb25lKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVPYnNlcnZhYmxlLF9zY2hlZHVsZVByb21pc2UsX3NjaGVkdWxlQXJyYXksX3NjaGVkdWxlSXRlcmFibGUsX3V0aWxfaXNJbnRlcm9wT2JzZXJ2YWJsZSxfdXRpbF9pc1Byb21pc2UsX3V0aWxfaXNBcnJheUxpa2UsX3V0aWxfaXNJdGVyYWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUoaW5wdXQpIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCB8fCBpbnB1dCkgKyAnIGlzIG5vdCBvYnNlcnZhYmxlJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24sX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgICAgICBzdWIuYWRkKG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpOyB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVByb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ICYmIHR5cGVvZiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdGVyYWJsZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBzdWIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvciAmJiB0eXBlb2YgaXRlcmF0b3IucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGRvbmU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSByZXN1bHQuZG9uZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG8sX3NjaGVkdWxlZF9zY2hlZHVsZWQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvJztcbmltcG9ydCB7IHNjaGVkdWxlZCB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZWQnO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20oaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG8oaW5wdXQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNBcnJheSxfb3BlcmF0b3JzX21hcCxfdXRpbF9pc09iamVjdCxfZnJvbSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tYXAnO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi91dGlsL2lzT2JqZWN0JztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmtKb2luKCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIGZpcnN0XzEgPSBzb3VyY2VzWzBdO1xuICAgICAgICBpZiAoaXNBcnJheShmaXJzdF8xKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvcmtKb2luSW50ZXJuYWwoZmlyc3RfMSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzT2JqZWN0KGZpcnN0XzEpICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihmaXJzdF8xKSA9PT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhmaXJzdF8xKTtcbiAgICAgICAgICAgIHJldHVybiBmb3JrSm9pbkludGVybmFsKGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGZpcnN0XzFba2V5XTsgfSksIGtleXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc291cmNlc1tzb3VyY2VzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciByZXN1bHRTZWxlY3Rvcl8xID0gc291cmNlcy5wb3AoKTtcbiAgICAgICAgc291cmNlcyA9IChzb3VyY2VzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KHNvdXJjZXNbMF0pKSA/IHNvdXJjZXNbMF0gOiBzb3VyY2VzO1xuICAgICAgICByZXR1cm4gZm9ya0pvaW5JbnRlcm5hbChzb3VyY2VzLCBudWxsKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3JfMS5hcHBseSh2b2lkIDAsIGFyZ3MpOyB9KSk7XG4gICAgfVxuICAgIHJldHVybiBmb3JrSm9pbkludGVybmFsKHNvdXJjZXMsIG51bGwpO1xufVxuZnVuY3Rpb24gZm9ya0pvaW5JbnRlcm5hbChzb3VyY2VzLCBrZXlzKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBsZW4gPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IDA7XG4gICAgICAgIHZhciBlbWl0dGVkID0gMDtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGZyb20oc291cmNlc1tpXSk7XG4gICAgICAgICAgICB2YXIgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHNvdXJjZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVkKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkID09PSBsZW4gfHwgIWhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1pdHRlZCA9PT0gbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGtleXMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXksIGkpIHsgcmV0dXJuIChyZXN1bHRba2V5XSA9IHZhbHVlc1tpXSwgcmVzdWx0KTsgfSwge30pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ya0pvaW4uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbnZhciBJbm5lclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoSW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElubmVyU3Vic2NyaWJlcihwYXJlbnQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5vdXRlclZhbHVlID0gb3V0ZXJWYWx1ZTtcbiAgICAgICAgX3RoaXMub3V0ZXJJbmRleCA9IG91dGVySW5kZXg7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLCB2YWx1ZSwgdGhpcy5vdXRlckluZGV4LCB0aGlzLmluZGV4KyssIHRoaXMpO1xuICAgIH07XG4gICAgSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZXJyb3IsIHRoaXMpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBJbm5lclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IElubmVyU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5uZXJTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG52YXIgT3V0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE91dGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyb3IpO1xuICAgIH07XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gT3V0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBPdXRlclN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU91dGVyU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQsX091dGVyU3Vic2NyaWJlcixfSW5uZXJTdWJzY3JpYmVyLF9tYXAsX29ic2VydmFibGVfZnJvbSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9Jbm5lclN1YnNjcmliZXInO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5waXBlKG1lcmdlTWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBmcm9tKHByb2plY3QoYSwgaSkpLnBpcGUobWFwKGZ1bmN0aW9uIChiLCBpaSkgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpOyB9KSk7IH0sIGNvbmN1cnJlbnQpKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgTWVyZ2VNYXBPcGVyYXRvcihwcm9qZWN0LCBjb25jdXJyZW50KSk7IH07XG59XG52YXIgTWVyZ2VNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNZXJnZU1hcE9wZXJhdG9yKHByb2plY3QsIGNvbmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICB0aGlzLmNvbmN1cnJlbnQgPSBjb25jdXJyZW50O1xuICAgIH1cbiAgICBNZXJnZU1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKG9ic2VydmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IE1lcmdlTWFwU3Vic2NyaWJlcihvYnNlcnZlciwgdGhpcy5wcm9qZWN0LCB0aGlzLmNvbmN1cnJlbnQpKTtcbiAgICB9O1xuICAgIHJldHVybiBNZXJnZU1hcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE1lcmdlTWFwT3BlcmF0b3IgfTtcbnZhciBNZXJnZU1hcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTWVyZ2VNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lcmdlTWFwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJvamVjdCwgY29uY3VycmVudCkge1xuICAgICAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgX3RoaXMuY29uY3VycmVudCA9IGNvbmN1cnJlbnQ7XG4gICAgICAgIF90aGlzLmhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gMDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlIDwgdGhpcy5jb25jdXJyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl90cnlOZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl90cnlOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdCh2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZSsrO1xuICAgICAgICB0aGlzLl9pbm5lclN1YihyZXN1bHQsIHZhbHVlLCBpbmRleCk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9pbm5lclN1YiA9IGZ1bmN0aW9uIChpc2gsIHZhbHVlLCBpbmRleCkge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbmV3IElubmVyU3Vic2NyaWJlcih0aGlzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICBzdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLCBpc2gsIHZhbHVlLCBpbmRleCwgaW5uZXJTdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCAmJiB0aGlzLmJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCwgaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMucmVtb3ZlKGlubmVyU3ViKTtcbiAgICAgICAgdGhpcy5hY3RpdmUtLTtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KGJ1ZmZlci5zaGlmdCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCAmJiB0aGlzLmhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWVyZ2VNYXBTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IE1lcmdlTWFwU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9Jbm5lclN1YnNjcmliZXIsX3N1YnNjcmliZVRvLF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IElubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL0lubmVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4vc3Vic2NyaWJlVG8nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZVRvUmVzdWx0KG91dGVyU3Vic2NyaWJlciwgcmVzdWx0LCBvdXRlclZhbHVlLCBvdXRlckluZGV4LCBkZXN0aW5hdGlvbikge1xuICAgIGlmIChkZXN0aW5hdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uID0gbmV3IElubmVyU3Vic2NyaWJlcihvdXRlclN1YnNjcmliZXIsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpO1xuICAgIH1cbiAgICBpZiAoZGVzdGluYXRpb24uY2xvc2VkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQuc3Vic2NyaWJlKGRlc3RpbmF0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1YnNjcmliZVRvKHJlc3VsdCkoZGVzdGluYXRpb24pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9SZXN1bHQuanMubWFwXG4iLCIvL2ltcG9ydCB0ZXN0ZGF0YSBmcm9tICcuL3Rlc3RkYXRhJ1xyXG5pbXBvcnQgeyB0ZW1wbGF0ZSB9IGZyb20gJ3VuZGVyc2NvcmUnXHJcbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb20sIGZvcmtKb2luLCBvZiB9IGZyb20gJ3J4anMnXHJcbmltcG9ydCB7IGZsYXRNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycydcclxuLy9pbXBvcnQgKiBhcyByeGpzIGZyb20gJ3J4anMnXHJcbi8vaW1wb3J0ICogYXMgb3BlcmF0b3JzIGZyb20gJ3J4anMvb3BlcmF0b3JzJ1xyXG5cclxuLy9jb25zdCB3aW5kb3dlIDogYW55ID0gd2luZG93O1xyXG4vL3dpbmRvd2UucnhqcyA9IHJ4anM7XHJcbi8vd2luZG93ZS5vcGVyYXRvcnMgPSBvcGVyYXRvcnM7XHJcblxyXG5jb25zdCBQQUdFX1NJWkUgPSAxMDtcclxuY29uc3QgTUFYX1BBR0VTID0gNTtcclxuXHJcbmNvbnN0IGFydGljbGVUZW1wbGF0ZSA9IHRlbXBsYXRlKFxyXG4gICAgJzxhcnRpY2xlPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiYXJ0aWNsZS1pbmZvXCI+JyArXHJcbiAgICAgICAgICAgICc8aDM+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIjwlPSB1cmwgJT5cIj48JT0gdGl0bGUgJT48L2E+PC9oMz4nICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkZXNjcmlwdGlvblwiPjwlPSBkZXNjcmlwdGlvbiAlPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPGEgY2xhc3M9XCJ1cmxcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiPCU9IHVybCAlPlwiPjwlPSB1cmwgJT48L2E+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiYXJ0aWNsZS1yYXRpbmdcIiBzdHlsZT1cImNvbG9yOiA8JT0gY29sb3IgJT5cIj48JT0gcmF0aW5nICU+PC9kaXY+JyArXHJcbiAgICAnPC9hcnRpY2xlPidcclxuKVxyXG5cclxuY29uc3QgdG90YWxTY29yZVRlbXBsYXRlID0gdGVtcGxhdGUoXHJcbiAgICAnPHNwYW4+QmFzZWQgb24gcmV2aWV3IHNjb3JlcyBmcm9tIDxiPjwlPSBjb3VudCAlPjwvYj4gc2l0ZXMgdGhlIHByb2R1Y3RcXCdzIHRvdGFsIHNjb3JlIGlzPC9zcGFuPjxzcGFuIGNsYXNzPVwidG90YWwtc2NvcmUtdmFsdWVcIiBzdHlsZT1cImNvbG9yOiA8JT0gY29sb3IgJT5cIj48JT0gc2NvcmUgJT48L3NwYW4+J1xyXG4pXHJcblxyXG5mdW5jdGlvbiBzZWFyY2goKSB7XHJcbiAgICBjb25zdCBzZWFyY2hrZXkgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaGtleScpKS52YWx1ZTtcclxuXHJcbiAgICBpZiAoc2VhcmNoa2V5ICYmIHNlYXJjaGtleS5sZW5ndGggPiA1KSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yJykudGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgICBjb25zdCByZXN1bHRzTGlzdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0cy1saXN0Jyk7XHJcbiAgICAgICAgY29uc3QgdG90YWxTY29yZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWwtc2NvcmUnKVxyXG4gICAgICAgIHJlc3VsdHNMaXN0RWxlbWVudC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB0b3RhbFNjb3JlRWxlbWVudC5pbm5lckhUTUwgPSAnU2VhcmNoaW5nLi4uJztcclxuXHJcbiAgICAgICAgZmV0Y2hSZXN1bHRzUGFnZShzZWFyY2hrZXksIDEpXHJcbiAgICAgICAgLnN1YnNjcmliZSgoZmlyc3RQYWdlSnNvbikgPT4ge2ZpcnN0UGFnZUpzb25cclxuICAgICAgICAgICAgY29uc3QgdG90YWxSZXN1bHRzIDogbnVtYmVyID0gZmlyc3RQYWdlSnNvbi5zZWFyY2hJbmZvcm1hdGlvbi50b3RhbFJlc3VsdHM7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VPYnNlcnZhYmxlcyA9IFtvZihmaXJzdFBhZ2VKc29uKV07XHJcbiAgICAgICAgICAgIGxldCBwYWdlID0gMTtcclxuICAgICAgICAgICAgd2hpbGUgKHBhZ2UgKiBQQUdFX1NJWkUgPCB0b3RhbFJlc3VsdHMgJiYgcGFnZSA8IE1BWF9QQUdFUykge1xyXG4gICAgICAgICAgICAgICAgcGFnZU9ic2VydmFibGVzLnB1c2goZmV0Y2hSZXN1bHRzUGFnZShzZWFyY2hrZXksIHBhZ2UgKiBQQUdFX1NJWkUgKyAxKSk7XHJcbiAgICAgICAgICAgICAgICBwYWdlKys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvcmtKb2luKHBhZ2VPYnNlcnZhYmxlcylcclxuICAgICAgICAgICAgLnN1YnNjcmliZSgocGFnZUpzb25zOiBhbnlbXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXNGbGF0dGVuZWQgPSBwYWdlSnNvbnMubWFwKHJlc3BvbnNlSnNvbiA9PiByZXNwb25zZUpzb24uaXRlbXMgfHwgcmVzcG9uc2VKc29uLmVycm9yKS5mbGF0KCk7XHJcbiAgICAgICAgICAgICAgLy8gIHdpbmRvd2UuaXRlbXMgPSBpdGVtc0ZsYXR0ZW5lZDtcclxuICAgICAgICAgICAgICAgIGxldCByYXRpbmdzVG90YWxDb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmF0aW5nc1RvdGFsVmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdvb2dsZSByZXR1cm5zIG11bHRpcGxlIGFydGljbGVzIGZyb20gc2FtZSB3ZWJzaXRlcyBzbyBqdXN0IGZpbHRlciBvdXQgb25lIHJlc3VsdCBwZXIgd2Vic2l0ZVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2Vic2l0ZXNBbHJlYWR5U2hvd24gPSBuZXcgU2V0PHN0cmluZz4oKVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpdGVtc0ZsYXR0ZW5lZC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmVycm9ycyAmJiBpdGVtLmVycm9yc1swXS5yZWFzb24gPT09ICdkYWlseUxpbWl0RXhjZWVkZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvcicpLnRleHRDb250ZW50ID0gJ01heGltdW0gbnVtYmVyIG9mIHF1ZXJpZXMgZm9yIHRoZSBkYXkgaGFzIGJlZW4gcmVhY2hlZC4gVHJ5IGFnYWluIHRvbW9ycm93Lic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdlYnNpdGVzQWxyZWFkeVNob3duLmhhcyhpdGVtLmRpc3BsYXlMaW5rKSkgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgd2Vic2l0ZXNBbHJlYWR5U2hvd24uYWRkKGl0ZW0uZGlzcGxheUxpbmspXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzY29yZSA6IG51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5wYWdlbWFwLmFnZ3JlZ2F0ZXJhdGluZyAmJiBpdGVtLnBhZ2VtYXAuYWdncmVnYXRlcmF0aW5nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29yZSA9IG5vcm1hbGl6ZVJhdGluZyhwYXJzZUZsb2F0KGl0ZW0ucGFnZW1hcC5hZ2dyZWdhdGVyYXRpbmdbMF0ucmF0aW5ndmFsdWUpLCBwYXJzZUZsb2F0KGl0ZW0ucGFnZW1hcC5hZ2dyZWdhdGVyYXRpbmdbMF0uYmVzdHJhdGluZyB8fCA1KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihzY29yZSkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nc1RvdGFsQ291bnQgKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ3NUb3RhbFZhbHVlICs9IHNjb3JlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnBhZ2VtYXAucmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VSYXRpbmdzID0gaXRlbS5wYWdlbWFwLnJhdGluZy5tYXAoKHJhdGluZyA6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFJhdGluZyA9IG5vcm1hbGl6ZVJhdGluZyhwYXJzZUZsb2F0KHJhdGluZy5yYXRpbmd2YWx1ZSksIHBhcnNlRmxvYXQocmF0aW5nLmJlc3RyYXRpbmcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihub3JtYWxpemVkUmF0aW5nKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRSYXRpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPSBwYWdlUmF0aW5ncy5yZWR1Y2UoKGN1bXVsYXRlZFZhbHVlIDogbnVtYmVyLCB2YWx1ZSA6IG51bWJlcikgPT4gY3VtdWxhdGVkVmFsdWUgKyB2YWx1ZSwgMCApIC8gcGFnZVJhdGluZ3MubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oc2NvcmUpKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nc1RvdGFsQ291bnQgKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ3NUb3RhbFZhbHVlICs9IHNjb3JlO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHJldHVybjtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNMaXN0RWxlbWVudC5pbm5lckhUTUwgKz0gYXJ0aWNsZVRlbXBsYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogaXRlbS5saW5rLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5zbmlwcGV0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IChzY29yZSAqIDUpLnRvRml4ZWQoMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBnZXRDb2xvckZvclNjb3JlKHNjb3JlICogNSlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAocmF0aW5nc1RvdGFsQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSAocmF0aW5nc1RvdGFsVmFsdWUgKiA1IC8gcmF0aW5nc1RvdGFsQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsU2NvcmVFbGVtZW50LmlubmVySFRNTCA9IHRvdGFsU2NvcmVUZW1wbGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlOiBzY29yZS50b0ZpeGVkKDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogcmF0aW5nc1RvdGFsQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBnZXRDb2xvckZvclNjb3JlKHNjb3JlKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qW1xyXG4gICAgICAgICAgICBmZXRjaFJlc3VsdHNQYWdlKHNlYXJjaGtleSwgMSksXHJcbiAgICAgICAgICAgIGZldGNoUmVzdWx0c1BhZ2Uoc2VhcmNoa2V5LCAyKSxcclxuICAgICAgICAgICAgZmV0Y2hSZXN1bHRzUGFnZShzZWFyY2hrZXksIDMpLFxyXG4gICAgICAgICAgICBmZXRjaFJlc3VsdHNQYWdlKHNlYXJjaGtleSwgNCksXHJcbiAgICAgICAgICAgIGZldGNoUmVzdWx0c1BhZ2Uoc2VhcmNoa2V5LCA1KSxcclxuICAgICAgICBdLCovIFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLnRoZW4ocmVzcG9uc2VzID0+IFByb21pc2UuYWxsKHJlc3BvbnNlcy5tYXAocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKSkpXHJcbiAgICAgICAgLy8udGhlbigocmVzcG9uc2VKc29uczogYW55W10pID0+IHJlc3BvbnNlSnNvbnMubWFwKHJlc3BvbnNlSnNvbiA9PiByZXNwb25zZUpzb24uaXRlbXMgfHwgcmVzcG9uc2VKc29uLmVycm9yKS5mbGF0KCkpXHJcbiAgICAgICAgLyoudGhlbihmdW5jdGlvbihpdGVtcykge1xyXG4gICAgICAgICAgICBsZXQgcmF0aW5nc1RvdGFsQ291bnQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgcmF0aW5nc1RvdGFsVmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uZXJyb3JzICYmIGl0ZW0uZXJyb3JzWzBdLnJlYXNvbiA9PT0gJ2RhaWx5TGltaXRFeGNlZWRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3InKS50ZXh0Q29udGVudCA9ICdNYXhpbXVtIG51bWJlciBvZiBxdWVyaWVzIGZvciB0aGUgZGF5IGhhcyBiZWVuIHJlYWNoZWQuIFRyeSBhZ2FpbiB0b21vcnJvdy4nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IHNjb3JlIDogbnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ucGFnZW1hcC5hZ2dyZWdhdGVyYXRpbmcgJiYgaXRlbS5wYWdlbWFwLmFnZ3JlZ2F0ZXJhdGluZy5sZW5ndGggJiYgaXRlbS5wYWdlbWFwLmFnZ3JlZ2F0ZXJhdGluZ1swXS5iZXN0cmF0aW5nICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29yZSA9IG5vcm1hbGl6ZVJhdGluZyhwYXJzZUZsb2F0KGl0ZW0ucGFnZW1hcC5hZ2dyZWdhdGVyYXRpbmdbMF0ucmF0aW5ndmFsdWUpLCBwYXJzZUZsb2F0KGl0ZW0ucGFnZW1hcC5hZ2dyZWdhdGVyYXRpbmdbMF0uYmVzdHJhdGluZykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihzY29yZSkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICByYXRpbmdzVG90YWxDb3VudCArKztcclxuICAgICAgICAgICAgICAgICAgICByYXRpbmdzVG90YWxWYWx1ZSArPSBzY29yZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0ucGFnZW1hcC5yYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlUmF0aW5ncyA9IGl0ZW0ucGFnZW1hcC5yYXRpbmcubWFwKChyYXRpbmcgOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFJhdGluZyA9IG5vcm1hbGl6ZVJhdGluZyhwYXJzZUZsb2F0KHJhdGluZy5yYXRpbmd2YWx1ZSksIHBhcnNlRmxvYXQocmF0aW5nLmJlc3RyYXRpbmcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKG5vcm1hbGl6ZWRSYXRpbmcpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3JtYWxpemVkUmF0aW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlID0gcGFnZVJhdGluZ3MucmVkdWNlKChjdW11bGF0ZWRWYWx1ZSA6IG51bWJlciwgdmFsdWUgOiBudW1iZXIpID0+IGN1bXVsYXRlZFZhbHVlICsgdmFsdWUsIDAgKSAvIHBhZ2VSYXRpbmdzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oc2NvcmUpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZ3NUb3RhbENvdW50ICsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZ3NUb3RhbFZhbHVlICs9IHNjb3JlO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0c0xpc3RFbGVtZW50LmlubmVySFRNTCArPSBhcnRpY2xlVGVtcGxhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogaXRlbS5saW5rLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpdGVtLnNuaXBwZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAoc2NvcmUgKiA1KS50b0ZpeGVkKDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBnZXRDb2xvckZvclNjb3JlKHNjb3JlICogNSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJhdGluZ3NUb3RhbENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSAocmF0aW5nc1RvdGFsVmFsdWUgKiA1IC8gcmF0aW5nc1RvdGFsQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgdG90YWxTY29yZUVsZW1lbnQuaW5uZXJIVE1MID0gdG90YWxTY29yZVRlbXBsYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzY29yZTogc2NvcmUudG9GaXhlZCgxKSxcclxuICAgICAgICAgICAgICAgICAgICBjb3VudDogcmF0aW5nc1RvdGFsQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGdldENvbG9yRm9yU2NvcmUoc2NvcmUpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyovXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvcicpLnRleHRDb250ZW50ID0gJ1NlYXJjaCB0ZXJtIG1pbmltdW0gbGVuZ3RoIGlzICcgKyA1O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb2xvckZvclNjb3JlIChzY29yZSA6IG51bWJlcikge1xyXG4gICAgaWYgKHNjb3JlIDwgMikgcmV0dXJuICdicm93bidcclxuICAgIGlmIChzY29yZSA8IDMpIHJldHVybiAncmVkJ1xyXG4gICAgaWYgKHNjb3JlIDwgNCkgcmV0dXJuICcjZjFmMTAwJ1xyXG4gICAgaWYgKHNjb3JlIDwgNC41KSByZXR1cm4gJ2xpbWVncmVlbidcclxuICAgIHJldHVybiAnc2VhZ3JlZW4nXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBmZXRjaFJlc3VsdHNQYWdlKHNlYXJjaGtleTpzdHJpbmcsIHN0YXJ0ID0gMSkgOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgaWYgKCFzZWFyY2hrZXkpIHJldHVybiBudWxsO1xyXG5cclxuXHJcblxyXG4gICAgLypcclxuICAgIHZhciBmYWtlUmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KHRlc3RkYXRhW3BhZ2UgLSAxXSldLCB7dHlwZSA6ICdhcHBsaWNhdGlvbi9qc29uJ30pKTtcclxuICAgIHJldHVybiBmcm9tKG5ldyBQcm9taXNlPFJlc3BvbnNlPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZShmYWtlUmVzcG9uc2UpLCBNYXRoLnJhbmRvbSgpICogMTAwMCk7XHJcbiAgICB9KSkucGlwZShmbGF0TWFwKHJlc3BvbnNlID0+IGZyb20ocmVzcG9uc2UuanNvbigpKSkpOyovXHJcbi8vc29ydD1hZ2dyZWdhdGVyYXRpbmctcmV2aWV3Y291bnQ6cjoxOlxyXG4gICAgcmV0dXJuIGZyb20oZmV0Y2goYGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2N1c3RvbXNlYXJjaC92MT9jeD0wMDUwNDIwNzA2ODYzMzEyMzE1MDI6N2NybGVsLTZhZTgma2V5PUFJemFTeUNMdV9GeWVyUG9VWlpwY2k1cTBaLWN3M0lZbUQwckdDdyZzb3J0PWFnZ3JlZ2F0ZXJhdGluZy1yZXZpZXdjb3VudDpkOnMsJnE9YWxsaW50aXRsZToke3NlYXJjaGtleX0rcmV2aWV3Jm51bT0xMCZzdGFydD0ke3N0YXJ0fSZscj1sYW5nX2VuYCwge1xyXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgaGVhZGVyczp7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9XHJcbiAgICB9KSkucGlwZShmbGF0TWFwKHJlc3BvbnNlID0+IGZyb20ocmVzcG9uc2UuanNvbigpKSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBub3JtYWxpemVSYXRpbmcocmF0aW5nIDogbnVtYmVyLCBiZXN0cmF0aW5nIDogbnVtYmVyKSA6IG51bWJlcnsgIFxyXG4gICAgcmV0dXJuIHJhdGluZyAvIGJlc3RyYXRpbmc7XHJcbn1cclxuXHJcblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0Jykub25jbGljayA9IHNlYXJjaDtcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaGtleScpLm9ua2V5cHJlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICAgIHNlYXJjaCgpO1xyXG4gICAgfVxyXG59OyJdLCJzb3VyY2VSb290IjoiIn0=