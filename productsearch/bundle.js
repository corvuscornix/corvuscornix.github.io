!function(n){var t={};function r(e){if(t[e])return t[e].exports;var u=t[e]={i:e,l:!1,exports:{}};return n[e].call(u.exports,u,u.exports,r),u.l=!0,u.exports}r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var u in n)r.d(e,u,function(t){return n[t]}.bind(null,u));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=1)}([function(n,t,r){(function(n,r){var e;!function(){var u="object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global===n&&n||this||{},i=u._,o=Array.prototype,a=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,l=o.push,f=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,y=Object.create,d=function(){},g=function(n){return n instanceof g?n:this instanceof g?void(this._wrapped=n):new g(n)};t.nodeType?u._=g:(!r.nodeType&&r.exports&&(t=r.exports=g),t._=g),g.VERSION="1.9.1";var m,b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},j=function(n,t,r){return g.iteratee!==m?g.iteratee(n,t):null==n?g.identity:g.isFunction(n)?b(n,t,r):g.isObject(n)&&!g.isArray(n)?g.matcher(n):g.property(n)};g.iteratee=m=function(n,t){return j(n,t,1/0)};var x=function(n,t){return t=null==t?n.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),e=Array(r),u=0;u<r;u++)e[u]=arguments[u+t];switch(t){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var i=Array(t+1);for(u=0;u<t;u++)i[u]=arguments[u];return i[t]=e,n.apply(this,i)}},w=function(n){if(!g.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},_=function(n){return function(t){return null==t?void 0:t[n]}},O=function(n,t){return null!=n&&p.call(n,t)},k=function(n,t){for(var r=t.length,e=0;e<r;e++){if(null==n)return;n=n[t[e]]}return r?n:void 0},A=Math.pow(2,53)-1,S=_("length"),M=function(n){var t=S(n);return"number"==typeof t&&t>=0&&t<=A};g.each=g.forEach=function(n,t,r){var e,u;if(t=b(t,r),M(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=g.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},g.map=g.collect=function(n,t,r){t=j(t,r);for(var e=!M(n)&&g.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i};var E=function(n){var t=function(t,r,e,u){var i=!M(t)&&g.keys(t),o=(i||t).length,a=n>0?0:o-1;for(u||(e=t[i?i[a]:a],a+=n);a>=0&&a<o;a+=n){var c=i?i[a]:a;e=r(e,t[c],c,t)}return e};return function(n,r,e,u){var i=arguments.length>=3;return t(n,b(r,u,4),e,i)}};g.reduce=g.foldl=g.inject=E(1),g.reduceRight=g.foldr=E(-1),g.find=g.detect=function(n,t,r){var e=(M(n)?g.findIndex:g.findKey)(n,t,r);if(void 0!==e&&-1!==e)return n[e]},g.filter=g.select=function(n,t,r){var e=[];return t=j(t,r),g.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},g.reject=function(n,t,r){return g.filter(n,g.negate(j(t)),r)},g.every=g.all=function(n,t,r){t=j(t,r);for(var e=!M(n)&&g.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},g.some=g.any=function(n,t,r){t=j(t,r);for(var e=!M(n)&&g.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},g.contains=g.includes=g.include=function(n,t,r,e){return M(n)||(n=g.values(n)),("number"!=typeof r||e)&&(r=0),g.indexOf(n,t,r)>=0},g.invoke=x(function(n,t,r){var e,u;return g.isFunction(t)?u=t:g.isArray(t)&&(e=t.slice(0,-1),t=t[t.length-1]),g.map(n,function(n){var i=u;if(!i){if(e&&e.length&&(n=k(n,e)),null==n)return;i=n[t]}return null==i?i:i.apply(n,r)})}),g.pluck=function(n,t){return g.map(n,g.property(t))},g.where=function(n,t){return g.filter(n,g.matcher(t))},g.findWhere=function(n,t){return g.find(n,g.matcher(t))},g.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof n[0]&&null!=n)for(var a=0,c=(n=M(n)?n:g.values(n)).length;a<c;a++)null!=(e=n[a])&&e>i&&(i=e);else t=j(t,r),g.each(n,function(n,r,e){((u=t(n,r,e))>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},g.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof n[0]&&null!=n)for(var a=0,c=(n=M(n)?n:g.values(n)).length;a<c;a++)null!=(e=n[a])&&e<i&&(i=e);else t=j(t,r),g.each(n,function(n,r,e){((u=t(n,r,e))<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},g.shuffle=function(n){return g.sample(n,1/0)},g.sample=function(n,t,r){if(null==t||r)return M(n)||(n=g.values(n)),n[g.random(n.length-1)];var e=M(n)?g.clone(n):g.values(n),u=S(e);t=Math.max(Math.min(t,u),0);for(var i=u-1,o=0;o<t;o++){var a=g.random(o,i),c=e[o];e[o]=e[a],e[a]=c}return e.slice(0,t)},g.sortBy=function(n,t,r){var e=0;return t=j(t,r),g.pluck(g.map(n,function(n,r,u){return{value:n,index:e++,criteria:t(n,r,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n,t){return function(r,e,u){var i=t?[[],[]]:{};return e=j(e,u),g.each(r,function(t,u){var o=e(t,u,r);n(i,t,o)}),i}};g.groupBy=F(function(n,t,r){O(n,r)?n[r].push(t):n[r]=[t]}),g.indexBy=F(function(n,t,r){n[r]=t}),g.countBy=F(function(n,t,r){O(n,r)?n[r]++:n[r]=1});var I=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;g.toArray=function(n){return n?g.isArray(n)?f.call(n):g.isString(n)?n.match(I):M(n)?g.map(n,g.identity):g.values(n):[]},g.size=function(n){return null==n?0:M(n)?n.length:g.keys(n).length},g.partition=F(function(n,t,r){n[r?0:1].push(t)},!0),g.first=g.head=g.take=function(n,t,r){return null==n||n.length<1?null==t?void 0:[]:null==t||r?n[0]:g.initial(n,n.length-t)},g.initial=function(n,t,r){return f.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},g.last=function(n,t,r){return null==n||n.length<1?null==t?void 0:[]:null==t||r?n[n.length-1]:g.rest(n,Math.max(0,n.length-t))},g.rest=g.tail=g.drop=function(n,t,r){return f.call(n,null==t||r?1:t)},g.compact=function(n){return g.filter(n,Boolean)};var N=function(n,t,r,e){for(var u=(e=e||[]).length,i=0,o=S(n);i<o;i++){var a=n[i];if(M(a)&&(g.isArray(a)||g.isArguments(a)))if(t)for(var c=0,l=a.length;c<l;)e[u++]=a[c++];else N(a,t,r,e),u=e.length;else r||(e[u++]=a)}return e};g.flatten=function(n,t){return N(n,t,!1)},g.without=x(function(n,t){return g.difference(n,t)}),g.uniq=g.unique=function(n,t,r,e){g.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=j(r,e));for(var u=[],i=[],o=0,a=S(n);o<a;o++){var c=n[o],l=r?r(c,o,n):c;t&&!r?(o&&i===l||u.push(c),i=l):r?g.contains(i,l)||(i.push(l),u.push(c)):g.contains(u,c)||u.push(c)}return u},g.union=x(function(n){return g.uniq(N(n,!0,!0))}),g.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=S(n);e<u;e++){var i=n[e];if(!g.contains(t,i)){var o;for(o=1;o<r&&g.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},g.difference=x(function(n,t){return t=N(t,!0,!0),g.filter(n,function(n){return!g.contains(t,n)})}),g.unzip=function(n){for(var t=n&&g.max(n,S).length||0,r=Array(t),e=0;e<t;e++)r[e]=g.pluck(n,e);return r},g.zip=x(g.unzip),g.object=function(n,t){for(var r={},e=0,u=S(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r};var T=function(n){return function(t,r,e){r=j(r,e);for(var u=S(t),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}};g.findIndex=T(1),g.findLastIndex=T(-1),g.sortedIndex=function(n,t,r,e){for(var u=(r=j(r,e,1))(t),i=0,o=S(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i};var B=function(n,t,r){return function(e,u,i){var o=0,a=S(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return e[i=r(e,u)]===u?i:-1;if(u!=u)return(i=t(f.call(e,o,a),g.isNaN))>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&i<a;i+=n)if(e[i]===u)return i;return-1}};g.indexOf=B(1,g.findIndex,g.sortedIndex),g.lastIndexOf=B(-1,g.findLastIndex),g.range=function(n,t,r){null==t&&(t=n||0,n=0),r||(r=t<n?-1:1);for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u},g.chunk=function(n,t){if(null==t||t<1)return[];for(var r=[],e=0,u=n.length;e<u;)r.push(f.call(n,e,e+=t));return r};var P=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=w(n.prototype),o=n.apply(i,u);return g.isObject(o)?o:i};g.bind=x(function(n,t,r){if(!g.isFunction(n))throw new TypeError("Bind must be called on a function");var e=x(function(u){return P(n,e,t,this,r.concat(u))});return e}),g.partial=x(function(n,t){var r=g.partial.placeholder,e=function(){for(var u=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===r?arguments[u++]:t[a];for(;u<arguments.length;)o.push(arguments[u++]);return P(n,e,this,this,o)};return e}),g.partial.placeholder=g,g.bindAll=x(function(n,t){var r=(t=N(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var e=t[r];n[e]=g.bind(n[e],n)}}),g.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return O(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},g.delay=x(function(n,t,r){return setTimeout(function(){return n.apply(null,r)},t)}),g.defer=g.partial(g.delay,g,1),g.throttle=function(n,t,r){var e,u,i,o,a=0;r||(r={});var c=function(){a=!1===r.leading?0:g.now(),e=null,o=n.apply(u,i),e||(u=i=null)},l=function(){var l=g.now();a||!1!==r.leading||(a=l);var f=t-(l-a);return u=this,i=arguments,f<=0||f>t?(e&&(clearTimeout(e),e=null),a=l,o=n.apply(u,i),e||(u=i=null)):e||!1===r.trailing||(e=setTimeout(c,f)),o};return l.cancel=function(){clearTimeout(e),a=0,e=u=i=null},l},g.debounce=function(n,t,r){var e,u,i=function(t,r){e=null,r&&(u=n.apply(t,r))},o=x(function(o){if(e&&clearTimeout(e),r){var a=!e;e=setTimeout(i,t),a&&(u=n.apply(this,o))}else e=g.delay(i,t,this,o);return u});return o.cancel=function(){clearTimeout(e),e=null},o},g.wrap=function(n,t){return g.partial(t,n)},g.negate=function(n){return function(){return!n.apply(this,arguments)}},g.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},g.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},g.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},g.once=g.partial(g.before,2),g.restArguments=x;var q=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=function(n,t){var r=L.length,e=n.constructor,u=g.isFunction(e)&&e.prototype||a,i="constructor";for(O(n,i)&&!g.contains(t,i)&&t.push(i);r--;)(i=L[r])in n&&n[i]!==u[i]&&!g.contains(t,i)&&t.push(i)};g.keys=function(n){if(!g.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)O(n,r)&&t.push(r);return q&&C(n,t),t},g.allKeys=function(n){if(!g.isObject(n))return[];var t=[];for(var r in n)t.push(r);return q&&C(n,t),t},g.values=function(n){for(var t=g.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},g.mapObject=function(n,t,r){t=j(t,r);for(var e=g.keys(n),u=e.length,i={},o=0;o<u;o++){var a=e[o];i[a]=t(n[a],a,n)}return i},g.pairs=function(n){for(var t=g.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},g.invert=function(n){for(var t={},r=g.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},g.functions=g.methods=function(n){var t=[];for(var r in n)g.isFunction(n[r])&&t.push(r);return t.sort()};var R=function(n,t){return function(r){var e=arguments.length;if(t&&(r=Object(r)),e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var l=o[c];t&&void 0!==r[l]||(r[l]=i[l])}return r}};g.extend=R(g.allKeys),g.extendOwn=g.assign=R(g.keys),g.findKey=function(n,t,r){t=j(t,r);for(var e,u=g.keys(n),i=0,o=u.length;i<o;i++)if(t(n[e=u[i]],e,n))return e};var z,K,D=function(n,t,r){return t in r};g.pick=x(function(n,t){var r={},e=t[0];if(null==n)return r;g.isFunction(e)?(t.length>1&&(e=b(e,t[1])),t=g.allKeys(n)):(e=D,t=N(t,!1,!1),n=Object(n));for(var u=0,i=t.length;u<i;u++){var o=t[u],a=n[o];e(a,o,n)&&(r[o]=a)}return r}),g.omit=x(function(n,t){var r,e=t[0];return g.isFunction(e)?(e=g.negate(e),t.length>1&&(r=t[1])):(t=g.map(N(t,!1,!1),String),e=function(n,r){return!g.contains(t,r)}),g.pick(n,e,r)}),g.defaults=R(g.allKeys,!0),g.create=function(n,t){var r=w(n);return t&&g.extendOwn(r,t),r},g.clone=function(n){return g.isObject(n)?g.isArray(n)?n.slice():g.extend({},n):n},g.tap=function(n,t){return t(n),n},g.isMatch=function(n,t){var r=g.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0},z=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return!1;if(n!=n)return t!=t;var u=typeof n;return("function"===u||"object"===u||"object"==typeof t)&&K(n,t,r,e)},K=function(n,t,r,e){n instanceof g&&(n=n._wrapped),t instanceof g&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object Symbol]":return c.valueOf.call(n)===c.valueOf.call(t)}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(g.isFunction(o)&&o instanceof o&&g.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}e=e||[];for(var l=(r=r||[]).length;l--;)if(r[l]===n)return e[l]===t;if(r.push(n),e.push(t),i){if((l=n.length)!==t.length)return!1;for(;l--;)if(!z(n[l],t[l],r,e))return!1}else{var f,p=g.keys(n);if(l=p.length,g.keys(t).length!==l)return!1;for(;l--;)if(f=p[l],!O(t,f)||!z(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0},g.isEqual=function(n,t){return z(n,t)},g.isEmpty=function(n){return null==n||(M(n)&&(g.isArray(n)||g.isString(n)||g.isArguments(n))?0===n.length:0===g.keys(n).length)},g.isElement=function(n){return!(!n||1!==n.nodeType)},g.isArray=h||function(n){return"[object Array]"===s.call(n)},g.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},g.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(n){g["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),g.isArguments(arguments)||(g.isArguments=function(n){return O(n,"callee")});var H=u.document&&u.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof H&&(g.isFunction=function(n){return"function"==typeof n||!1}),g.isFinite=function(n){return!g.isSymbol(n)&&isFinite(n)&&!isNaN(parseFloat(n))},g.isNaN=function(n){return g.isNumber(n)&&isNaN(n)},g.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===s.call(n)},g.isNull=function(n){return null===n},g.isUndefined=function(n){return void 0===n},g.has=function(n,t){if(!g.isArray(t))return O(n,t);for(var r=t.length,e=0;e<r;e++){var u=t[e];if(null==n||!p.call(n,u))return!1;n=n[u]}return!!r},g.noConflict=function(){return u._=i,this},g.identity=function(n){return n},g.constant=function(n){return function(){return n}},g.noop=function(){},g.property=function(n){return g.isArray(n)?function(t){return k(t,n)}:_(n)},g.propertyOf=function(n){return null==n?function(){}:function(t){return g.isArray(t)?k(n,t):n[t]}},g.matcher=g.matches=function(n){return n=g.extendOwn({},n),function(t){return g.isMatch(t,n)}},g.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},g.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},g.now=Date.now||function(){return(new Date).getTime()};var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Z=g.invert(W),$=function(n){var t=function(t){return n[t]},r="(?:"+g.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};g.escape=$(W),g.unescape=$(Z),g.result=function(n,t,r){g.isArray(t)||(t=[t]);var e=t.length;if(!e)return g.isFunction(r)?r.call(n):r;for(var u=0;u<e;u++){var i=null==n?void 0:n[t[u]];void 0===i&&(i=r,u=e),n=g.isFunction(i)?i.call(n):i}return n};var G=0;g.uniqueId=function(n){var t=++G+"";return n?n+t:t},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(n){return"\\"+J[n]};g.template=function(n,t,r){!t&&r&&(t=r),t=g.defaults({},t,g.templateSettings);var e,u=RegExp([(t.escape||U).source,(t.interpolate||U).source,(t.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";n.replace(u,function(t,r,e,u,a){return o+=n.slice(i,a).replace(V,Y),i=a+t.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?o+="'+\n((__t=("+e+"))==null?'':__t)+\n'":u&&(o+="';\n"+u+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{e=new Function(t.variable||"obj","_",o)}catch(n){throw n.source=o,n}var a=function(n){return e.call(this,n,g)},c=t.variable||"obj";return a.source="function("+c+"){\n"+o+"}",a},g.chain=function(n){var t=g(n);return t._chain=!0,t};var Q=function(n,t){return n._chain?g(t).chain():t};g.mixin=function(n){return g.each(g.functions(n),function(t){var r=g[t]=n[t];g.prototype[t]=function(){var n=[this._wrapped];return l.apply(n,arguments),Q(this,r.apply(g,n))}}),g},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];g.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],Q(this,r)}}),g.each(["concat","join","slice"],function(n){var t=o[n];g.prototype[n]=function(){return Q(this,t.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return String(this._wrapped)},void 0===(e=function(){return g}.apply(t,[]))||(r.exports=e)}()}).call(this,r(2),r(3)(n))},function(n,t,r){"use strict";r.r(t);var e=r(0);const u=Object(e.template)('<article><div class="article-info"><h3><a target="_blank" href="<%= url %>"><%= title %></a></h3><p><%= description %></p></div><div class="article-rating" style="color: <%= color %>"><%= rating %></div></article>'),i=Object(e.template)('<span>Based on scores from <b><%= count %></b> sites the product\'s total score is</span><span class="total-score-value" style="color: <%= color %>"><%= score %></span>');function o(){const n=document.getElementById("searchkey").value;if(n&&n.length>5){document.getElementById("error").textContent="";const t=document.getElementById("results-list"),r=document.getElementById("total-score");t.innerHTML="",r.innerHTML="Searching...",Promise.all([c(n,1),c(n,2),c(n,3),c(n,4),c(n,5)]).then(n=>Promise.all(n.map(n=>n.json()))).then(n=>n.map(n=>n.items||n.error).flat()).then(function(n){let e=0,o=0;if(n.forEach(n=>{if(!n)return;if(n.errors&&"dailyLimitExceeded"===n.errors[0].reason)return void(document.getElementById("error").textContent="Maximum number of queries for the day has been reached. Try again tomorrow.");let r;if(n.pagemap.aggregaterating&&n.pagemap.aggregaterating.length&&void 0!==n.pagemap.aggregaterating[0].bestrating){if(r=l(parseFloat(n.pagemap.aggregaterating[0].ratingvalue),parseFloat(n.pagemap.aggregaterating[0].bestrating)),isNaN(r))return;e++,o+=r}else{if(!n.pagemap.rating)return;{const t=n.pagemap.rating.map(n=>{const t=l(parseFloat(n.ratingvalue),parseFloat(n.bestrating));if(!isNaN(t))return t});if(r=t.reduce((n,t)=>n+t,0)/t.length,isNaN(r))return;e++,o+=r}}t.innerHTML+=u({title:n.title,url:n.link,description:n.snippet,rating:(5*r).toFixed(1),color:a(5*r)})}),e>0){const n=5*o/e;r.innerHTML=i({score:n.toFixed(1),count:e,color:a(n)})}})}else document.getElementById("error").textContent="Search term minimum length is 5"}function a(n){return n<2?"brown":n<3?"red":n<4?"#f1f100":n<4.5?"limegreen":"seagreen"}function c(n,t=1){return n?fetch(`https://www.googleapis.com/customsearch/v1?cx=005042070686331231502:7crlel-6ae8&key=AIzaSyCLu_FyerPoUZZpci5q0Z-cw3IYmD0rGCw&q=${n}&num=10&start=${10*t}`,{method:"GET",headers:{"Content-Type":"application/json"}}):null}function l(n,t){return n/t}document.getElementById("submit").onclick=o,document.getElementById("searchkey").onkeypress=n=>{13===n.keyCode&&o()}},function(n,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"==typeof window&&(r=window)}n.exports=r},function(n,t){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvdW5kZXJzY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnbG9iYWwiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsInJvb3QiLCJzZWxmIiwidGhpcyIsInByZXZpb3VzVW5kZXJzY29yZSIsIl8iLCJBcnJheVByb3RvIiwiQXJyYXkiLCJPYmpQcm90byIsIlN5bWJvbFByb3RvIiwicHVzaCIsInNsaWNlIiwidG9TdHJpbmciLCJuYXRpdmVJc0FycmF5IiwiaXNBcnJheSIsIm5hdGl2ZUtleXMiLCJrZXlzIiwibmF0aXZlQ3JlYXRlIiwiQ3RvciIsIm9iaiIsIl93cmFwcGVkIiwibm9kZVR5cGUiLCJWRVJTSU9OIiwiYnVpbHRpbkl0ZXJhdGVlIiwib3B0aW1pemVDYiIsImZ1bmMiLCJjb250ZXh0IiwiYXJnQ291bnQiLCJpbmRleCIsImNvbGxlY3Rpb24iLCJhY2N1bXVsYXRvciIsImFwcGx5IiwiYXJndW1lbnRzIiwiY2IiLCJpdGVyYXRlZSIsImlkZW50aXR5IiwiaXNGdW5jdGlvbiIsImlzT2JqZWN0IiwibWF0Y2hlciIsIkluZmluaXR5IiwicmVzdEFyZ3VtZW50cyIsInN0YXJ0SW5kZXgiLCJsZW5ndGgiLCJNYXRoIiwibWF4IiwicmVzdCIsImFyZ3MiLCJiYXNlQ3JlYXRlIiwicmVzdWx0Iiwic2hhbGxvd1Byb3BlcnR5IiwiaGFzIiwicGF0aCIsImRlZXBHZXQiLCJNQVhfQVJSQVlfSU5ERVgiLCJwb3ciLCJnZXRMZW5ndGgiLCJpc0FycmF5TGlrZSIsImVhY2giLCJmb3JFYWNoIiwibWFwIiwiY29sbGVjdCIsInJlc3VsdHMiLCJjdXJyZW50S2V5IiwiY3JlYXRlUmVkdWNlIiwiZGlyIiwicmVkdWNlciIsIm1lbW8iLCJpbml0aWFsIiwicmVkdWNlIiwiZm9sZGwiLCJpbmplY3QiLCJyZWR1Y2VSaWdodCIsImZvbGRyIiwiZmluZCIsImRldGVjdCIsInByZWRpY2F0ZSIsImZpbmRJbmRleCIsImZpbmRLZXkiLCJmaWx0ZXIiLCJzZWxlY3QiLCJsaXN0IiwicmVqZWN0IiwibmVnYXRlIiwiZXZlcnkiLCJhbGwiLCJzb21lIiwiYW55IiwiY29udGFpbnMiLCJpbmNsdWRlcyIsImluY2x1ZGUiLCJpdGVtIiwiZnJvbUluZGV4IiwiZ3VhcmQiLCJ2YWx1ZXMiLCJpbmRleE9mIiwiaW52b2tlIiwiY29udGV4dFBhdGgiLCJtZXRob2QiLCJwbHVjayIsIndoZXJlIiwiYXR0cnMiLCJmaW5kV2hlcmUiLCJjb21wdXRlZCIsImxhc3RDb21wdXRlZCIsInYiLCJtaW4iLCJzaHVmZmxlIiwic2FtcGxlIiwicmFuZG9tIiwiY2xvbmUiLCJsYXN0IiwicmFuZCIsInRlbXAiLCJzb3J0QnkiLCJjcml0ZXJpYSIsInNvcnQiLCJsZWZ0IiwicmlnaHQiLCJhIiwiYiIsImdyb3VwIiwiYmVoYXZpb3IiLCJwYXJ0aXRpb24iLCJncm91cEJ5IiwiaW5kZXhCeSIsImNvdW50QnkiLCJyZVN0clN5bWJvbCIsInRvQXJyYXkiLCJpc1N0cmluZyIsIm1hdGNoIiwic2l6ZSIsInBhc3MiLCJmaXJzdCIsImhlYWQiLCJ0YWtlIiwiYXJyYXkiLCJ0YWlsIiwiZHJvcCIsImNvbXBhY3QiLCJCb29sZWFuIiwiZmxhdHRlbiIsImlucHV0Iiwic2hhbGxvdyIsInN0cmljdCIsIm91dHB1dCIsImlkeCIsImlzQXJndW1lbnRzIiwiaiIsImxlbiIsIndpdGhvdXQiLCJvdGhlckFycmF5cyIsImRpZmZlcmVuY2UiLCJ1bmlxIiwidW5pcXVlIiwiaXNTb3J0ZWQiLCJpc0Jvb2xlYW4iLCJzZWVuIiwidW5pb24iLCJhcnJheXMiLCJpbnRlcnNlY3Rpb24iLCJhcmdzTGVuZ3RoIiwidW56aXAiLCJ6aXAiLCJjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlciIsImZpbmRMYXN0SW5kZXgiLCJzb3J0ZWRJbmRleCIsImxvdyIsImhpZ2giLCJtaWQiLCJmbG9vciIsImNyZWF0ZUluZGV4RmluZGVyIiwicHJlZGljYXRlRmluZCIsImlzTmFOIiwibGFzdEluZGV4T2YiLCJyYW5nZSIsInN0YXJ0Iiwic3RvcCIsInN0ZXAiLCJjZWlsIiwiY2h1bmsiLCJjb3VudCIsImV4ZWN1dGVCb3VuZCIsInNvdXJjZUZ1bmMiLCJib3VuZEZ1bmMiLCJjYWxsaW5nQ29udGV4dCIsIlR5cGVFcnJvciIsImJvdW5kIiwiY2FsbEFyZ3MiLCJjb25jYXQiLCJwYXJ0aWFsIiwiYm91bmRBcmdzIiwicGxhY2Vob2xkZXIiLCJwb3NpdGlvbiIsImJpbmRBbGwiLCJFcnJvciIsIm1lbW9pemUiLCJoYXNoZXIiLCJjYWNoZSIsImFkZHJlc3MiLCJkZWxheSIsIndhaXQiLCJzZXRUaW1lb3V0IiwiZGVmZXIiLCJ0aHJvdHRsZSIsIm9wdGlvbnMiLCJ0aW1lb3V0IiwicHJldmlvdXMiLCJsYXRlciIsImxlYWRpbmciLCJub3ciLCJ0aHJvdHRsZWQiLCJyZW1haW5pbmciLCJjbGVhclRpbWVvdXQiLCJ0cmFpbGluZyIsImNhbmNlbCIsImRlYm91bmNlIiwiaW1tZWRpYXRlIiwiZGVib3VuY2VkIiwiY2FsbE5vdyIsIndyYXAiLCJ3cmFwcGVyIiwiY29tcG9zZSIsImFmdGVyIiwidGltZXMiLCJiZWZvcmUiLCJvbmNlIiwiaGFzRW51bUJ1ZyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwibm9uRW51bWVyYWJsZVByb3BzIiwiY29sbGVjdE5vbkVudW1Qcm9wcyIsIm5vbkVudW1JZHgiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicHJvcCIsImFsbEtleXMiLCJtYXBPYmplY3QiLCJwYWlycyIsImludmVydCIsImZ1bmN0aW9ucyIsIm1ldGhvZHMiLCJuYW1lcyIsImNyZWF0ZUFzc2lnbmVyIiwia2V5c0Z1bmMiLCJkZWZhdWx0cyIsInNvdXJjZSIsImV4dGVuZCIsImV4dGVuZE93biIsImFzc2lnbiIsImVxIiwiZGVlcEVxIiwia2V5SW5PYmoiLCJwaWNrIiwib21pdCIsIlN0cmluZyIsInByb3BzIiwidGFwIiwiaW50ZXJjZXB0b3IiLCJpc01hdGNoIiwiYVN0YWNrIiwiYlN0YWNrIiwidHlwZSIsImNsYXNzTmFtZSIsInZhbHVlT2YiLCJhcmVBcnJheXMiLCJhQ3RvciIsImJDdG9yIiwicG9wIiwiaXNFcXVhbCIsImlzRW1wdHkiLCJpc0VsZW1lbnQiLCJub2RlbGlzdCIsImRvY3VtZW50IiwiY2hpbGROb2RlcyIsIkludDhBcnJheSIsImlzRmluaXRlIiwiaXNTeW1ib2wiLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJjb25zdGFudCIsIm5vb3AiLCJwcm9wZXJ0eU9mIiwibWF0Y2hlcyIsImFjY3VtIiwiRGF0ZSIsImdldFRpbWUiLCJlc2NhcGVNYXAiLCImIiwiPCIsIj4iLCJcIiIsIiciLCJgIiwidW5lc2NhcGVNYXAiLCJjcmVhdGVFc2NhcGVyIiwiZXNjYXBlciIsImpvaW4iLCJ0ZXN0UmVnZXhwIiwiUmVnRXhwIiwicmVwbGFjZVJlZ2V4cCIsInN0cmluZyIsInRlc3QiLCJyZXBsYWNlIiwiZXNjYXBlIiwidW5lc2NhcGUiLCJmYWxsYmFjayIsImlkQ291bnRlciIsInVuaXF1ZUlkIiwicHJlZml4IiwiaWQiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsIm5vTWF0Y2giLCJlc2NhcGVzIiwiXFwiLCJcciIsIlxuIiwi4oCoIiwi4oCpIiwiZXNjYXBlUmVnRXhwIiwiZXNjYXBlQ2hhciIsInRlbXBsYXRlIiwidGV4dCIsInNldHRpbmdzIiwib2xkU2V0dGluZ3MiLCJyZW5kZXIiLCJvZmZzZXQiLCJ2YXJpYWJsZSIsIkZ1bmN0aW9uIiwiZSIsImRhdGEiLCJhcmd1bWVudCIsImNoYWluIiwiaW5zdGFuY2UiLCJfY2hhaW4iLCJjaGFpblJlc3VsdCIsIm1peGluIiwidG9KU09OIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsInVuZGVyc2NvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImFydGljbGVUZW1wbGF0ZSIsInRvdGFsU2NvcmVUZW1wbGF0ZSIsInNlYXJjaCIsInNlYXJjaGtleSIsImdldEVsZW1lbnRCeUlkIiwidGV4dENvbnRlbnQiLCJyZXN1bHRzTGlzdEVsZW1lbnQiLCJ0b3RhbFNjb3JlRWxlbWVudCIsImlubmVySFRNTCIsIlByb21pc2UiLCJmZXRjaFJlc3VsdHNQYWdlIiwidGhlbiIsInJlc3BvbnNlcyIsInJlc3BvbnNlIiwianNvbiIsInJlc3BvbnNlSnNvbnMiLCJyZXNwb25zZUpzb24iLCJpdGVtcyIsImVycm9yIiwiZmxhdCIsInJhdGluZ3NUb3RhbENvdW50IiwicmF0aW5nc1RvdGFsVmFsdWUiLCJlcnJvcnMiLCJyZWFzb24iLCJzY29yZSIsInBhZ2VtYXAiLCJhZ2dyZWdhdGVyYXRpbmciLCJiZXN0cmF0aW5nIiwibm9ybWFsaXplUmF0aW5nIiwicmF0aW5ndmFsdWUiLCJyYXRpbmciLCJwYWdlUmF0aW5ncyIsIm5vcm1hbGl6ZWRSYXRpbmciLCJjdW11bGF0ZWRWYWx1ZSIsInRpdGxlIiwidXJsIiwibGluayIsImRlc2NyaXB0aW9uIiwic25pcHBldCIsInRvRml4ZWQiLCJjb2xvciIsImdldENvbG9yRm9yU2NvcmUiLCJwYWdlIiwiZmV0Y2giLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwib25jbGljayIsIm9ua2V5cHJlc3MiLCJldmVudCIsImtleUNvZGUiLCJnIiwid2luZG93Iiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIs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QixNQUFPQyxFQUFpQmpCLGFBS3BDakcsU0FBUzZFLGVBQWUsU0FBU0MsWUFBYyxrQ0FJdkQsU0FBU29DLEVBQWtCakIsR0FDdkIsT0FBSUEsRUFBUSxFQUFVLFFBQ2xCQSxFQUFRLEVBQVUsTUFDbEJBLEVBQVEsRUFBVSxVQUNsQkEsRUFBUSxJQUFZLFlBQ2pCLFdBSVgsU0FBU2QsRUFBaUJQLEVBQWtCdUMsRUFBTyxHQUMvQyxPQUFLdkMsRUFPRXdDLHVJQUF1SXhDLGtCQUFpQyxHQUFQdUMsSUFBYSxDQUNqTGpTLE9BQVEsTUFDUm1TLFFBQVEsQ0FDSkMsZUFBZ0Isc0JBVkQsS0FlM0IsU0FBU2pCLEVBQWdCRSxFQUFlSCxHQUNwQyxPQUFPRyxFQUFTSCxFQUlwQnBHLFNBQVM2RSxlQUFlLFVBQVUwQyxRQUFVNUMsRUFDNUMzRSxTQUFTNkUsZUFBZSxhQUFhMkMsV0FBY0MsSUFDekIsS0FBbEJBLEVBQU1DLFNBQ04vQyxvQkM3SFIsSUFBQWdELEVBR0FBLEVBQUEsV0FDQSxPQUFBdlksS0FEQSxHQUlBLElBRUF1WSxLQUFBLElBQUEvRCxTQUFBLGlCQUNDLE1BQUFDLEdBRUQsaUJBQUErRCxTQUFBRCxFQUFBQyxRQU9BN2EsRUFBQUQsUUFBQTZhLGlCQ25CQTVhLEVBQUFELFFBQUEsU0FBQUMsR0FvQkEsT0FuQkFBLEVBQUE4YSxrQkFDQTlhLEVBQUErYSxVQUFBLGFBQ0EvYSxFQUFBZ2IsTUFBQSxHQUVBaGIsRUFBQWliLFdBQUFqYixFQUFBaWIsU0FBQSxJQUNBdGEsT0FBQUMsZUFBQVosRUFBQSxVQUNBYSxZQUFBLEVBQ0FDLElBQUEsV0FDQSxPQUFBZCxFQUFBRSxLQUdBUyxPQUFBQyxlQUFBWixFQUFBLE1BQ0FhLFlBQUEsRUFDQUMsSUFBQSxXQUNBLE9BQUFkLEVBQUFDLEtBR0FELEVBQUE4YSxnQkFBQSxHQUVBOWEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLy8gICAgIFVuZGVyc2NvcmUuanMgMS45LjFcbi8vICAgICBodHRwOi8vdW5kZXJzY29yZWpzLm9yZ1xuLy8gICAgIChjKSAyMDA5LTIwMTggSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8gQmFzZWxpbmUgc2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCAoYHNlbGZgKSBpbiB0aGUgYnJvd3NlciwgYGdsb2JhbGBcbiAgLy8gb24gdGhlIHNlcnZlciwgb3IgYHRoaXNgIGluIHNvbWUgdmlydHVhbCBtYWNoaW5lcy4gV2UgdXNlIGBzZWxmYFxuICAvLyBpbnN0ZWFkIG9mIGB3aW5kb3dgIGZvciBgV2ViV29ya2VyYCBzdXBwb3J0LlxuICB2YXIgcm9vdCA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZiAmJiBzZWxmIHx8XG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbCAmJiBnbG9iYWwgfHxcbiAgICAgICAgICAgIHRoaXMgfHxcbiAgICAgICAgICAgIHt9O1xuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgX2AgdmFyaWFibGUuXG4gIHZhciBwcmV2aW91c1VuZGVyc2NvcmUgPSByb290Ll87XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIFN5bWJvbFByb3RvID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2wucHJvdG90eXBlIDogbnVsbDtcblxuICAvLyBDcmVhdGUgcXVpY2sgcmVmZXJlbmNlIHZhcmlhYmxlcyBmb3Igc3BlZWQgYWNjZXNzIHRvIGNvcmUgcHJvdG90eXBlcy5cbiAgdmFyIHB1c2ggPSBBcnJheVByb3RvLnB1c2gsXG4gICAgICBzbGljZSA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgICB0b1N0cmluZyA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmpQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2VcbiAgLy8gYXJlIGRlY2xhcmVkIGhlcmUuXG4gIHZhciBuYXRpdmVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIG5hdGl2ZUtleXMgPSBPYmplY3Qua2V5cyxcbiAgICAgIG5hdGl2ZUNyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cbiAgLy8gTmFrZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGZvciBzdXJyb2dhdGUtcHJvdG90eXBlLXN3YXBwaW5nLlxuICB2YXIgQ3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZWlyIG9sZCBtb2R1bGUgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QuXG4gIC8vIChgbm9kZVR5cGVgIGlzIGNoZWNrZWQgdG8gZW5zdXJlIHRoYXQgYG1vZHVsZWBcbiAgLy8gYW5kIGBleHBvcnRzYCBhcmUgbm90IEhUTUwgZWxlbWVudHMuKVxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT0gJ3VuZGVmaW5lZCcgJiYgIWV4cG9ydHMubm9kZVR5cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjkuMSc7XG5cbiAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuICAvLyBvZiB0aGUgcGFzc2VkLWluIGNhbGxiYWNrLCB0byBiZSByZXBlYXRlZGx5IGFwcGxpZWQgaW4gb3RoZXIgVW5kZXJzY29yZVxuICAvLyBmdW5jdGlvbnMuXG4gIHZhciBvcHRpbWl6ZUNiID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSByZXR1cm4gZnVuYztcbiAgICBzd2l0Y2ggKGFyZ0NvdW50ID09IG51bGwgPyAzIDogYXJnQ291bnQpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIC8vIFRoZSAyLWFyZ3VtZW50IGNhc2UgaXMgb21pdHRlZCBiZWNhdXNlIHdl4oCZcmUgbm90IHVzaW5nIGl0LlxuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGJ1aWx0aW5JdGVyYXRlZTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZCB0byBlYWNoXG4gIC8vIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgdGhlIGRlc2lyZWQgcmVzdWx0IOKAlCBlaXRoZXIgYGlkZW50aXR5YCxcbiAgLy8gYW4gYXJiaXRyYXJ5IGNhbGxiYWNrLCBhIHByb3BlcnR5IG1hdGNoZXIsIG9yIGEgcHJvcGVydHkgYWNjZXNzb3IuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmIChfLml0ZXJhdGVlICE9PSBidWlsdGluSXRlcmF0ZWUpIHJldHVybiBfLml0ZXJhdGVlKHZhbHVlLCBjb250ZXh0KTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIF8uaWRlbnRpdHk7XG4gICAgaWYgKF8uaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybiBvcHRpbWl6ZUNiKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG4gICAgaWYgKF8uaXNPYmplY3QodmFsdWUpICYmICFfLmlzQXJyYXkodmFsdWUpKSByZXR1cm4gXy5tYXRjaGVyKHZhbHVlKTtcbiAgICByZXR1cm4gXy5wcm9wZXJ0eSh2YWx1ZSk7XG4gIH07XG5cbiAgLy8gRXh0ZXJuYWwgd3JhcHBlciBmb3Igb3VyIGNhbGxiYWNrIGdlbmVyYXRvci4gVXNlcnMgbWF5IGN1c3RvbWl6ZVxuICAvLyBgXy5pdGVyYXRlZWAgaWYgdGhleSB3YW50IGFkZGl0aW9uYWwgcHJlZGljYXRlL2l0ZXJhdGVlIHNob3J0aGFuZCBzdHlsZXMuXG4gIC8vIFRoaXMgYWJzdHJhY3Rpb24gaGlkZXMgdGhlIGludGVybmFsLW9ubHkgYXJnQ291bnQgYXJndW1lbnQuXG4gIF8uaXRlcmF0ZWUgPSBidWlsdGluSXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBjYih2YWx1ZSwgY29udGV4dCwgSW5maW5pdHkpO1xuICB9O1xuXG4gIC8vIFNvbWUgZnVuY3Rpb25zIHRha2UgYSB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLCBvciBhIGZldyBleHBlY3RlZFxuICAvLyBhcmd1bWVudHMgYXQgdGhlIGJlZ2lubmluZyBhbmQgdGhlbiBhIHZhcmlhYmxlIG51bWJlciBvZiB2YWx1ZXMgdG8gb3BlcmF0ZVxuICAvLyBvbi4gVGhpcyBoZWxwZXIgYWNjdW11bGF0ZXMgYWxsIHJlbWFpbmluZyBhcmd1bWVudHMgcGFzdCB0aGUgZnVuY3Rpb27igJlzXG4gIC8vIGFyZ3VtZW50IGxlbmd0aCAob3IgYW4gZXhwbGljaXQgYHN0YXJ0SW5kZXhgKSwgaW50byBhbiBhcnJheSB0aGF0IGJlY29tZXNcbiAgLy8gdGhlIGxhc3QgYXJndW1lbnQuIFNpbWlsYXIgdG8gRVM24oCZcyBcInJlc3QgcGFyYW1ldGVyXCIuXG4gIHZhciByZXN0QXJndW1lbnRzID0gZnVuY3Rpb24oZnVuYywgc3RhcnRJbmRleCkge1xuICAgIHN0YXJ0SW5kZXggPSBzdGFydEluZGV4ID09IG51bGwgPyBmdW5jLmxlbmd0aCAtIDEgOiArc3RhcnRJbmRleDtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoYXJndW1lbnRzLmxlbmd0aCAtIHN0YXJ0SW5kZXgsIDApLFxuICAgICAgICAgIHJlc3QgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICByZXN0W2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleCArIHN0YXJ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChzdGFydEluZGV4KSB7XG4gICAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCByZXN0KTtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIGFyZ3VtZW50c1swXSwgcmVzdCk7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgcmVzdCk7XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KHN0YXJ0SW5kZXggKyAxKTtcbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHN0YXJ0SW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgYXJnc1tzdGFydEluZGV4XSA9IHJlc3Q7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIGFub3RoZXIuXG4gIHZhciBiYXNlQ3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KHByb3RvdHlwZSkpIHJldHVybiB7fTtcbiAgICBpZiAobmF0aXZlQ3JlYXRlKSByZXR1cm4gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBDdG9yO1xuICAgIEN0b3IucHJvdG90eXBlID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBzaGFsbG93UHJvcGVydHkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09IG51bGwgPyB2b2lkIDAgOiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoYXMgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHBhdGgpO1xuICB9XG5cbiAgdmFyIGRlZXBHZXQgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgICAgb2JqID0gb2JqW3BhdGhbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gbGVuZ3RoID8gb2JqIDogdm9pZCAwO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuICAvLyBzaG91bGQgYmUgaXRlcmF0ZWQgYXMgYW4gYXJyYXkgb3IgYXMgYW4gb2JqZWN0LlxuICAvLyBSZWxhdGVkOiBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuICAvLyBBdm9pZHMgYSB2ZXJ5IG5hc3R5IGlPUyA4IEpJVCBidWcgb24gQVJNLTY0LiAjMjA5NFxuICB2YXIgTUFYX0FSUkFZX0lOREVYID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgdmFyIGdldExlbmd0aCA9IHNoYWxsb3dQcm9wZXJ0eSgnbGVuZ3RoJyk7XG4gIHZhciBpc0FycmF5TGlrZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKGNvbGxlY3Rpb24pO1xuICAgIHJldHVybiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8PSBNQVhfQVJSQVlfSU5ERVg7XG4gIH07XG5cbiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbiAgLy8gSGFuZGxlcyByYXcgb2JqZWN0cyBpbiBhZGRpdGlvbiB0byBhcnJheS1saWtlcy4gVHJlYXRzIGFsbFxuICAvLyBzcGFyc2UgYXJyYXktbGlrZXMgYXMgaWYgdGhleSB3ZXJlIGRlbnNlLlxuICBfLmVhY2ggPSBfLmZvckVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIgaSwgbGVuZ3RoO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0ZWUob2JqW2ldLCBpLCBvYmopO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpba2V5c1tpXV0sIGtleXNbaV0sIG9iaik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRlZSB0byBlYWNoIGVsZW1lbnQuXG4gIF8ubWFwID0gXy5jb2xsZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoLFxuICAgICAgICByZXN1bHRzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgcmVzdWx0c1tpbmRleF0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIHJlZHVjaW5nIGZ1bmN0aW9uIGl0ZXJhdGluZyBsZWZ0IG9yIHJpZ2h0LlxuICB2YXIgY3JlYXRlUmVkdWNlID0gZnVuY3Rpb24oZGlyKSB7XG4gICAgLy8gV3JhcCBjb2RlIHRoYXQgcmVhc3NpZ25zIGFyZ3VtZW50IHZhcmlhYmxlcyBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIHRoYW5cbiAgICAvLyB0aGUgb25lIHRoYXQgYWNjZXNzZXMgYGFyZ3VtZW50cy5sZW5ndGhgIHRvIGF2b2lkIGEgcGVyZiBoaXQuICgjMTk5MSlcbiAgICB2YXIgcmVkdWNlciA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGluaXRpYWwpIHtcbiAgICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoIWluaXRpYWwpIHtcbiAgICAgICAgbWVtbyA9IG9ialtrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleF07XG4gICAgICAgIGluZGV4ICs9IGRpcjtcbiAgICAgIH1cbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdGVlKG1lbW8sIG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgICAgdmFyIGluaXRpYWwgPSBhcmd1bWVudHMubGVuZ3RoID49IDM7XG4gICAgICByZXR1cm4gcmVkdWNlcihvYmosIG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQsIDQpLCBtZW1vLCBpbml0aWFsKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbiAgLy8gb3IgYGZvbGRsYC5cbiAgXy5yZWR1Y2UgPSBfLmZvbGRsID0gXy5pbmplY3QgPSBjcmVhdGVSZWR1Y2UoMSk7XG5cbiAgLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4gIF8ucmVkdWNlUmlnaHQgPSBfLmZvbGRyID0gY3JlYXRlUmVkdWNlKC0xKTtcblxuICAvLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuIEFsaWFzZWQgYXMgYGRldGVjdGAuXG4gIF8uZmluZCA9IF8uZGV0ZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIga2V5RmluZGVyID0gaXNBcnJheUxpa2Uob2JqKSA/IF8uZmluZEluZGV4IDogXy5maW5kS2V5O1xuICAgIHZhciBrZXkgPSBrZXlGaW5kZXIob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgc2VsZWN0YC5cbiAgXy5maWx0ZXIgPSBfLnNlbGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG4gIF8ucmVqZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm5lZ2F0ZShjYihwcmVkaWNhdGUpKSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYWxsIG9mIHRoZSBlbGVtZW50cyBtYXRjaCBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbnlgLlxuICBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBhcnJheSBvciBvYmplY3QgY29udGFpbnMgYSBnaXZlbiBpdGVtICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVzYCBhbmQgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlcyA9IF8uaW5jbHVkZSA9IGZ1bmN0aW9uKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgICByZXR1cm4gXy5pbmRleE9mKG9iaiwgaXRlbSwgZnJvbUluZGV4KSA+PSAwO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24ob2JqLCBwYXRoLCBhcmdzKSB7XG4gICAgdmFyIGNvbnRleHRQYXRoLCBmdW5jO1xuICAgIGlmIChfLmlzRnVuY3Rpb24ocGF0aCkpIHtcbiAgICAgIGZ1bmMgPSBwYXRoO1xuICAgIH0gZWxzZSBpZiAoXy5pc0FycmF5KHBhdGgpKSB7XG4gICAgICBjb250ZXh0UGF0aCA9IHBhdGguc2xpY2UoMCwgLTEpO1xuICAgICAgcGF0aCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgdmFyIG1ldGhvZCA9IGZ1bmM7XG4gICAgICBpZiAoIW1ldGhvZCkge1xuICAgICAgICBpZiAoY29udGV4dFBhdGggJiYgY29udGV4dFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgY29udGV4dCA9IGRlZXBHZXQoY29udGV4dCwgY29udGV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgICAgIG1ldGhvZCA9IGNvbnRleHRbcGF0aF07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWV0aG9kID09IG51bGwgPyBtZXRob2QgOiBtZXRob2QuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYG1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuXG4gIF8ucGx1Y2sgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBfLm1hcChvYmosIF8ucHJvcGVydHkoa2V5KSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLndoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3RcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5maW5kV2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmluZChvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IC1JbmZpbml0eSwgbGFzdENvbXB1dGVkID0gLUluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgfHwgdHlwZW9mIGl0ZXJhdGVlID09ICdudW1iZXInICYmIHR5cGVvZiBvYmpbMF0gIT0gJ29iamVjdCcgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHYsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodiwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IC1JbmZpbml0eSAmJiByZXN1bHQgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHY7XG4gICAgICAgICAgbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5taW4gPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IEluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsIHx8IHR5cGVvZiBpdGVyYXRlZSA9PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqWzBdICE9ICdvYmplY3QnICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2LCBpbmRleCwgbGlzdCkge1xuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHYsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkIDwgbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSBJbmZpbml0eSAmJiByZXN1bHQgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdjtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24uXG4gIF8uc2h1ZmZsZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBfLnNhbXBsZShvYmosIEluZmluaXR5KTtcbiAgfTtcblxuICAvLyBTYW1wbGUgKipuKiogcmFuZG9tIHZhbHVlcyBmcm9tIGEgY29sbGVjdGlvbiB1c2luZyB0aGUgbW9kZXJuIHZlcnNpb24gb2YgdGhlXG4gIC8vIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXLigJNZYXRlc19zaHVmZmxlKS5cbiAgLy8gSWYgKipuKiogaXMgbm90IHNwZWNpZmllZCwgcmV0dXJucyBhIHNpbmdsZSByYW5kb20gZWxlbWVudC5cbiAgLy8gVGhlIGludGVybmFsIGBndWFyZGAgYXJndW1lbnQgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgbWFwYC5cbiAgXy5zYW1wbGUgPSBmdW5jdGlvbihvYmosIG4sIGd1YXJkKSB7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgICAgaWYgKCFpc0FycmF5TGlrZShvYmopKSBvYmogPSBfLnZhbHVlcyhvYmopO1xuICAgICAgcmV0dXJuIG9ialtfLnJhbmRvbShvYmoubGVuZ3RoIC0gMSldO1xuICAgIH1cbiAgICB2YXIgc2FtcGxlID0gaXNBcnJheUxpa2Uob2JqKSA/IF8uY2xvbmUob2JqKSA6IF8udmFsdWVzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChzYW1wbGUpO1xuICAgIG4gPSBNYXRoLm1heChNYXRoLm1pbihuLCBsZW5ndGgpLCAwKTtcbiAgICB2YXIgbGFzdCA9IGxlbmd0aCAtIDE7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG47IGluZGV4KyspIHtcbiAgICAgIHZhciByYW5kID0gXy5yYW5kb20oaW5kZXgsIGxhc3QpO1xuICAgICAgdmFyIHRlbXAgPSBzYW1wbGVbaW5kZXhdO1xuICAgICAgc2FtcGxlW2luZGV4XSA9IHNhbXBsZVtyYW5kXTtcbiAgICAgIHNhbXBsZVtyYW5kXSA9IHRlbXA7XG4gICAgfVxuICAgIHJldHVybiBzYW1wbGUuc2xpY2UoMCwgbik7XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdGVlLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHJldHVybiBfLnBsdWNrKF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpbmRleDogaW5kZXgrKyxcbiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvciwgcGFydGl0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXN1bHQgPSBwYXJ0aXRpb24gPyBbW10sIFtdXSA6IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGtleSA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICAgICAgYmVoYXZpb3IocmVzdWx0LCB2YWx1ZSwga2V5KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdyb3VwcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLiBQYXNzIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGVcbiAgLy8gdG8gZ3JvdXAgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjcml0ZXJpb24uXG4gIF8uZ3JvdXBCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChoYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTsgZWxzZSByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG4gIH0pO1xuXG4gIC8vIEluZGV4ZXMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiwgc2ltaWxhciB0byBgZ3JvdXBCeWAsIGJ1dCBmb3JcbiAgLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuICBfLmluZGV4QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICAvLyBDb3VudHMgaW5zdGFuY2VzIG9mIGFuIG9iamVjdCB0aGF0IGdyb3VwIGJ5IGEgY2VydGFpbiBjcml0ZXJpb24uIFBhc3NcbiAgLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gIC8vIGNyaXRlcmlvbi5cbiAgXy5jb3VudEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKGhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICB2YXIgcmVTdHJTeW1ib2wgPSAvW15cXHVkODAwLVxcdWRmZmZdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl18W1xcdWQ4MDAtXFx1ZGZmZl0vZztcbiAgLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbiAgXy50b0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiBbXTtcbiAgICBpZiAoXy5pc0FycmF5KG9iaikpIHJldHVybiBzbGljZS5jYWxsKG9iaik7XG4gICAgaWYgKF8uaXNTdHJpbmcob2JqKSkge1xuICAgICAgLy8gS2VlcCBzdXJyb2dhdGUgcGFpciBjaGFyYWN0ZXJzIHRvZ2V0aGVyXG4gICAgICByZXR1cm4gb2JqLm1hdGNoKHJlU3RyU3ltYm9sKTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHJldHVybiBfLm1hcChvYmosIF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBfLnZhbHVlcyhvYmopO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIG9iamVjdC5cbiAgXy5zaXplID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gMDtcbiAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqKSA/IG9iai5sZW5ndGggOiBfLmtleXMob2JqKS5sZW5ndGg7XG4gIH07XG5cbiAgLy8gU3BsaXQgYSBjb2xsZWN0aW9uIGludG8gdHdvIGFycmF5czogb25lIHdob3NlIGVsZW1lbnRzIGFsbCBzYXRpc2Z5IHRoZSBnaXZlblxuICAvLyBwcmVkaWNhdGUsIGFuZCBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIGRvIG5vdCBzYXRpc2Z5IHRoZSBwcmVkaWNhdGUuXG4gIF8ucGFydGl0aW9uID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwgcGFzcykge1xuICAgIHJlc3VsdFtwYXNzID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICB9LCB0cnVlKTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwgfHwgYXJyYXkubGVuZ3RoIDwgMSkgcmV0dXJuIG4gPT0gbnVsbCA/IHZvaWQgMCA6IFtdO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICByZXR1cm4gXy5pbml0aWFsKGFycmF5LCBhcnJheS5sZW5ndGggLSBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsIHx8IGFycmF5Lmxlbmd0aCA8IDEpIHJldHVybiBuID09IG51bGwgPyB2b2lkIDAgOiBbXTtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIF8ucmVzdChhcnJheSwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gbikpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGZpcnN0IGVudHJ5IG9mIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgdGFpbGAgYW5kIGBkcm9wYC5cbiAgLy8gRXNwZWNpYWxseSB1c2VmdWwgb24gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgYW4gKipuKiogd2lsbCByZXR1cm5cbiAgLy8gdGhlIHJlc3QgTiB2YWx1ZXMgaW4gdGhlIGFycmF5LlxuICBfLnJlc3QgPSBfLnRhaWwgPSBfLmRyb3AgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgbiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pO1xuICB9O1xuXG4gIC8vIFRyaW0gb3V0IGFsbCBmYWxzeSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAgXy5jb21wYWN0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIEJvb2xlYW4pO1xuICB9O1xuXG4gIC8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbiAgdmFyIGZsYXR0ZW4gPSBmdW5jdGlvbihpbnB1dCwgc2hhbGxvdywgc3RyaWN0LCBvdXRwdXQpIHtcbiAgICBvdXRwdXQgPSBvdXRwdXQgfHwgW107XG4gICAgdmFyIGlkeCA9IG91dHB1dC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChpbnB1dCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaW5wdXRbaV07XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmIChfLmlzQXJyYXkodmFsdWUpIHx8IF8uaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICAvLyBGbGF0dGVuIGN1cnJlbnQgbGV2ZWwgb2YgYXJyYXkgb3IgYXJndW1lbnRzIG9iamVjdC5cbiAgICAgICAgaWYgKHNoYWxsb3cpIHtcbiAgICAgICAgICB2YXIgaiA9IDAsIGxlbiA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoaiA8IGxlbikgb3V0cHV0W2lkeCsrXSA9IHZhbHVlW2orK107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgc3RyaWN0LCBvdXRwdXQpO1xuICAgICAgICAgIGlkeCA9IG91dHB1dC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCkge1xuICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgLy8gRmxhdHRlbiBvdXQgYW4gYXJyYXksIGVpdGhlciByZWN1cnNpdmVseSAoYnkgZGVmYXVsdCksIG9yIGp1c3Qgb25lIGxldmVsLlxuICBfLmZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSwgc2hhbGxvdykge1xuICAgIHJldHVybiBmbGF0dGVuKGFycmF5LCBzaGFsbG93LCBmYWxzZSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGUgYXJyYXkgdGhhdCBkb2VzIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgdmFsdWUocykuXG4gIF8ud2l0aG91dCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oYXJyYXksIG90aGVyQXJyYXlzKSB7XG4gICAgcmV0dXJuIF8uZGlmZmVyZW5jZShhcnJheSwgb3RoZXJBcnJheXMpO1xuICB9KTtcblxuICAvLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeVxuICAvLyBiZWVuIHNvcnRlZCwgeW91IGhhdmUgdGhlIG9wdGlvbiBvZiB1c2luZyBhIGZhc3RlciBhbGdvcml0aG0uXG4gIC8vIFRoZSBmYXN0ZXIgYWxnb3JpdGhtIHdpbGwgbm90IHdvcmsgd2l0aCBhbiBpdGVyYXRlZSBpZiB0aGUgaXRlcmF0ZWVcbiAgLy8gaXMgbm90IGEgb25lLXRvLW9uZSBmdW5jdGlvbiwgc28gcHJvdmlkaW5nIGFuIGl0ZXJhdGVlIHdpbGwgZGlzYWJsZVxuICAvLyB0aGUgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFfLmlzQm9vbGVhbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICAgIGl0ZXJhdGVlID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXRlcmF0ZWUgIT0gbnVsbCkgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sXG4gICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICAgIGlmIChpc1NvcnRlZCAmJiAhaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKCFpIHx8IHNlZW4gIT09IGNvbXB1dGVkKSByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKHNlZW4sIGNvbXB1dGVkKSkge1xuICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFfLmNvbnRhaW5zKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2ZcbiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8udW5pb24gPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGFycmF5cykge1xuICAgIHJldHVybiBfLnVuaXEoZmxhdHRlbihhcnJheXMsIHRydWUsIHRydWUpKTtcbiAgfSk7XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuICAvLyBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgaWYgKF8uY29udGFpbnMocmVzdWx0LCBpdGVtKSkgY29udGludWU7XG4gICAgICB2YXIgajtcbiAgICAgIGZvciAoaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGogPT09IGFyZ3NMZW5ndGgpIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbiAgXy5kaWZmZXJlbmNlID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihhcnJheSwgcmVzdCkge1xuICAgIHJlc3QgPSBmbGF0dGVuKHJlc3QsIHRydWUsIHRydWUpO1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKHJlc3QsIHZhbHVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gQ29tcGxlbWVudCBvZiBfLnppcC4gVW56aXAgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgYW5kIGdyb3Vwc1xuICAvLyBlYWNoIGFycmF5J3MgZWxlbWVudHMgb24gc2hhcmVkIGluZGljZXMuXG4gIF8udW56aXAgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSAmJiBfLm1heChhcnJheSwgZ2V0TGVuZ3RoKS5sZW5ndGggfHwgMDtcbiAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBfLnBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuICAvLyBhbiBpbmRleCBnbyB0b2dldGhlci5cbiAgXy56aXAgPSByZXN0QXJndW1lbnRzKF8udW56aXApO1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy4gUGFzc2luZyBieSBwYWlycyBpcyB0aGUgcmV2ZXJzZSBvZiBfLnBhaXJzLlxuICBfLm9iamVjdCA9IGZ1bmN0aW9uKGxpc3QsIHZhbHVlcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGxpc3QpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBmaW5kSW5kZXggYW5kIGZpbmRMYXN0SW5kZXggZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIgPSBmdW5jdGlvbihkaXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggb24gYW4gYXJyYXktbGlrZSB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0LlxuICBfLmZpbmRJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKDEpO1xuICBfLmZpbmRMYXN0SW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigtMSk7XG5cbiAgLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuICAvLyBhbiBvYmplY3Qgc2hvdWxkIGJlIGluc2VydGVkIHNvIGFzIHRvIG1haW50YWluIG9yZGVyLiBVc2VzIGJpbmFyeSBzZWFyY2guXG4gIF8uc29ydGVkSW5kZXggPSBmdW5jdGlvbihhcnJheSwgb2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdGVlKG9iaik7XG4gICAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgaW5kZXhPZiBhbmQgbGFzdEluZGV4T2YgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlSW5kZXhGaW5kZXIgPSBmdW5jdGlvbihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpZHgpIHtcbiAgICAgIHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgICAgaSA9IGlkeCA+PSAwID8gaWR4IDogTWF0aC5tYXgoaWR4ICsgbGVuZ3RoLCBpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZW5ndGggPSBpZHggPj0gMCA/IE1hdGgubWluKGlkeCArIDEsIGxlbmd0aCkgOiBpZHggKyBsZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNvcnRlZEluZGV4ICYmIGlkeCAmJiBsZW5ndGgpIHtcbiAgICAgICAgaWR4ID0gc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaWR4XSA9PT0gaXRlbSA/IGlkeCA6IC0xO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0gIT09IGl0ZW0pIHtcbiAgICAgICAgaWR4ID0gcHJlZGljYXRlRmluZChzbGljZS5jYWxsKGFycmF5LCBpLCBsZW5ndGgpLCBfLmlzTmFOKTtcbiAgICAgICAgcmV0dXJuIGlkeCA+PSAwID8gaWR4ICsgaSA6IC0xO1xuICAgICAgfVxuICAgICAgZm9yIChpZHggPSBkaXIgPiAwID8gaSA6IGxlbmd0aCAtIDE7IGlkeCA+PSAwICYmIGlkeCA8IGxlbmd0aDsgaWR4ICs9IGRpcikge1xuICAgICAgICBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIF8uZmluZEluZGV4LCBfLnNvcnRlZEluZGV4KTtcbiAgXy5sYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBfLmZpbmRMYXN0SW5kZXgpO1xuXG4gIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2ZcbiAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbiAgLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L2Z1bmN0aW9ucy5odG1sI3JhbmdlKS5cbiAgXy5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgaWYgKHN0b3AgPT0gbnVsbCkge1xuICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIGlmICghc3RlcCkge1xuICAgICAgc3RlcCA9IHN0b3AgPCBzdGFydCA/IC0xIDogMTtcbiAgICB9XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrLCBzdGFydCArPSBzdGVwKSB7XG4gICAgICByYW5nZVtpZHhdID0gc3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIENodW5rIGEgc2luZ2xlIGFycmF5IGludG8gbXVsdGlwbGUgYXJyYXlzLCBlYWNoIGNvbnRhaW5pbmcgYGNvdW50YCBvciBmZXdlclxuICAvLyBpdGVtcy5cbiAgXy5jaHVuayA9IGZ1bmN0aW9uKGFycmF5LCBjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSBudWxsIHx8IGNvdW50IDwgMSkgcmV0dXJuIFtdO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0LnB1c2goc2xpY2UuY2FsbChhcnJheSwgaSwgaSArPSBjb3VudCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBhcyBhIGNvbnN0cnVjdG9yXG4gIC8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgdmFyIGV4ZWN1dGVCb3VuZCA9IGZ1bmN0aW9uKHNvdXJjZUZ1bmMsIGJvdW5kRnVuYywgY29udGV4dCwgY2FsbGluZ0NvbnRleHQsIGFyZ3MpIHtcbiAgICBpZiAoIShjYWxsaW5nQ29udGV4dCBpbnN0YW5jZW9mIGJvdW5kRnVuYykpIHJldHVybiBzb3VyY2VGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIHZhciBzZWxmID0gYmFzZUNyZWF0ZShzb3VyY2VGdW5jLnByb3RvdHlwZSk7XG4gICAgdmFyIHJlc3VsdCA9IHNvdXJjZUZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgaWYgKF8uaXNPYmplY3QocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSBmdW5jdGlvbiBib3VuZCB0byBhIGdpdmVuIG9iamVjdCAoYXNzaWduaW5nIGB0aGlzYCwgYW5kIGFyZ3VtZW50cyxcbiAgLy8gb3B0aW9uYWxseSkuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBGdW5jdGlvbi5iaW5kYCBpZlxuICAvLyBhdmFpbGFibGUuXG4gIF8uYmluZCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJncykge1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb24nKTtcbiAgICB2YXIgYm91bmQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGNhbGxBcmdzKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChjYWxsQXJncykpO1xuICAgIH0pO1xuICAgIHJldHVybiBib3VuZDtcbiAgfSk7XG5cbiAgLy8gUGFydGlhbGx5IGFwcGx5IGEgZnVuY3Rpb24gYnkgY3JlYXRpbmcgYSB2ZXJzaW9uIHRoYXQgaGFzIGhhZCBzb21lIG9mIGl0c1xuICAvLyBhcmd1bWVudHMgcHJlLWZpbGxlZCwgd2l0aG91dCBjaGFuZ2luZyBpdHMgZHluYW1pYyBgdGhpc2AgY29udGV4dC4gXyBhY3RzXG4gIC8vIGFzIGEgcGxhY2Vob2xkZXIgYnkgZGVmYXVsdCwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZVxuICAvLyBwcmUtZmlsbGVkLiBTZXQgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgZm9yIGEgY3VzdG9tIHBsYWNlaG9sZGVyIGFyZ3VtZW50LlxuICBfLnBhcnRpYWwgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGZ1bmMsIGJvdW5kQXJncykge1xuICAgIHZhciBwbGFjZWhvbGRlciA9IF8ucGFydGlhbC5wbGFjZWhvbGRlcjtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsIGxlbmd0aCA9IGJvdW5kQXJncy5sZW5ndGg7XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBib3VuZEFyZ3NbaV0gPT09IHBsYWNlaG9sZGVyID8gYXJndW1lbnRzW3Bvc2l0aW9uKytdIDogYm91bmRBcmdzW2ldO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHBvc2l0aW9uIDwgYXJndW1lbnRzLmxlbmd0aCkgYXJncy5wdXNoKGFyZ3VtZW50c1twb3NpdGlvbisrXSk7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCB0aGlzLCB0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfSk7XG5cbiAgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyID0gXztcblxuICAvLyBCaW5kIGEgbnVtYmVyIG9mIGFuIG9iamVjdCdzIG1ldGhvZHMgdG8gdGhhdCBvYmplY3QuIFJlbWFpbmluZyBhcmd1bWVudHNcbiAgLy8gYXJlIHRoZSBtZXRob2QgbmFtZXMgdG8gYmUgYm91bmQuIFVzZWZ1bCBmb3IgZW5zdXJpbmcgdGhhdCBhbGwgY2FsbGJhY2tzXG4gIC8vIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbiAgXy5iaW5kQWxsID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIGtleXMpIHtcbiAgICBrZXlzID0gZmxhdHRlbihrZXlzLCBmYWxzZSwgZmFsc2UpO1xuICAgIHZhciBpbmRleCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChpbmRleCA8IDEpIHRocm93IG5ldyBFcnJvcignYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcycpO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICBvYmpba2V5XSA9IF8uYmluZChvYmpba2V5XSwgb2JqKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE1lbW9pemUgYW4gZXhwZW5zaXZlIGZ1bmN0aW9uIGJ5IHN0b3JpbmcgaXRzIHJlc3VsdHMuXG4gIF8ubWVtb2l6ZSA9IGZ1bmN0aW9uKGZ1bmMsIGhhc2hlcikge1xuICAgIHZhciBtZW1vaXplID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgICBpZiAoIWhhcyhjYWNoZSwgYWRkcmVzcykpIGNhY2hlW2FkZHJlc3NdID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICAgIH07XG4gICAgbWVtb2l6ZS5jYWNoZSA9IHt9O1xuICAgIHJldHVybiBtZW1vaXplO1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9LCB3YWl0KTtcbiAgfSk7XG5cbiAgLy8gRGVmZXJzIGEgZnVuY3Rpb24sIHNjaGVkdWxpbmcgaXQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzXG4gIC8vIGNsZWFyZWQuXG4gIF8uZGVmZXIgPSBfLnBhcnRpYWwoXy5kZWxheSwgXywgMSk7XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgb25seSBiZSB0cmlnZ2VyZWQgYXQgbW9zdCBvbmNlXG4gIC8vIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLiBOb3JtYWxseSwgdGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsIHJ1blxuICAvLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4gIC8vIGJ1dCBpZiB5b3UnZCBsaWtlIHRvIGRpc2FibGUgdGhlIGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlLCBwYXNzXG4gIC8vIGB7bGVhZGluZzogZmFsc2V9YC4gVG8gZGlzYWJsZSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2UsIGRpdHRvLlxuICBfLnRocm90dGxlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgIHZhciB0aW1lb3V0LCBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gICAgdmFyIHByZXZpb3VzID0gMDtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IF8ubm93KCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIHRocm90dGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vdyA9IF8ubm93KCk7XG4gICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIHRocm90dGxlZC5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHByZXZpb3VzID0gMDtcbiAgICAgIHRpbWVvdXQgPSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiB0aHJvdHRsZWQ7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIHJlc3VsdDtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKGNvbnRleHQsIGFyZ3MpIHtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgaWYgKGFyZ3MpIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfTtcblxuICAgIHZhciBkZWJvdW5jZWQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgIHZhciBjYWxsTm93ID0gIXRpbWVvdXQ7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgaWYgKGNhbGxOb3cpIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gXy5kZWxheShsYXRlciwgd2FpdCwgdGhpcywgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICBkZWJvdW5jZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIF8ucGFydGlhbCh3cmFwcGVyLCBmdW5jKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgbmVnYXRlZCB2ZXJzaW9uIG9mIHRoZSBwYXNzZWQtaW4gcHJlZGljYXRlLlxuICBfLm5lZ2F0ZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgYSBsaXN0IG9mIGZ1bmN0aW9ucywgZWFjaFxuICAvLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICBfLmNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3RhcnQgPSBhcmdzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGkgPSBzdGFydDtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHVwIHRvIChidXQgbm90IGluY2x1ZGluZykgdGhlIE50aCBjYWxsLlxuICBfLmJlZm9yZSA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgdmFyIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXMgPD0gMSkgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuICBfLm9uY2UgPSBfLnBhcnRpYWwoXy5iZWZvcmUsIDIpO1xuXG4gIF8ucmVzdEFyZ3VtZW50cyA9IHJlc3RBcmd1bWVudHM7XG5cbiAgLy8gT2JqZWN0IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gS2V5cyBpbiBJRSA8IDkgdGhhdCB3b24ndCBiZSBpdGVyYXRlZCBieSBgZm9yIGtleSBpbiAuLi5gIGFuZCB0aHVzIG1pc3NlZC5cbiAgdmFyIGhhc0VudW1CdWcgPSAhe3RvU3RyaW5nOiBudWxsfS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKTtcbiAgdmFyIG5vbkVudW1lcmFibGVQcm9wcyA9IFsndmFsdWVPZicsICdpc1Byb3RvdHlwZU9mJywgJ3RvU3RyaW5nJyxcbiAgICAncHJvcGVydHlJc0VudW1lcmFibGUnLCAnaGFzT3duUHJvcGVydHknLCAndG9Mb2NhbGVTdHJpbmcnXTtcblxuICB2YXIgY29sbGVjdE5vbkVudW1Qcm9wcyA9IGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICAgIHZhciBub25FbnVtSWR4ID0gbm9uRW51bWVyYWJsZVByb3BzLmxlbmd0aDtcbiAgICB2YXIgY29uc3RydWN0b3IgPSBvYmouY29uc3RydWN0b3I7XG4gICAgdmFyIHByb3RvID0gXy5pc0Z1bmN0aW9uKGNvbnN0cnVjdG9yKSAmJiBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgfHwgT2JqUHJvdG87XG5cbiAgICAvLyBDb25zdHJ1Y3RvciBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gICAgaWYgKGhhcyhvYmosIHByb3ApICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSBrZXlzLnB1c2gocHJvcCk7XG5cbiAgICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgICBwcm9wID0gbm9uRW51bWVyYWJsZVByb3BzW25vbkVudW1JZHhdO1xuICAgICAgaWYgKHByb3AgaW4gb2JqICYmIG9ialtwcm9wXSAhPT0gcHJvdG9bcHJvcF0gJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIHtcbiAgICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgbmFtZXMgb2YgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2AuXG4gIF8ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgaWYgKG5hdGl2ZUtleXMpIHJldHVybiBuYXRpdmVLZXlzKG9iaik7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoaGFzKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgYWxsIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBhbiBvYmplY3QuXG4gIF8uYWxsS2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0LlxuICAvLyBJbiBjb250cmFzdCB0byBfLm1hcCBpdCByZXR1cm5zIGFuIG9iamVjdC5cbiAgXy5tYXBPYmplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGgsXG4gICAgICAgIHJlc3VsdHMgPSB7fTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgcmVzdWx0c1tjdXJyZW50S2V5XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ29udmVydCBhbiBvYmplY3QgaW50byBhIGxpc3Qgb2YgYFtrZXksIHZhbHVlXWAgcGFpcnMuXG4gIC8vIFRoZSBvcHBvc2l0ZSBvZiBfLm9iamVjdC5cbiAgXy5wYWlycyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBwYWlycyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2AuXG4gIF8uZnVuY3Rpb25zID0gXy5tZXRob2RzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlQXNzaWduZXIgPSBmdW5jdGlvbihrZXlzRnVuYywgZGVmYXVsdHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmIChkZWZhdWx0cykgb2JqID0gT2JqZWN0KG9iaik7XG4gICAgICBpZiAobGVuZ3RoIDwgMiB8fCBvYmogPT0gbnVsbCkgcmV0dXJuIG9iajtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF0sXG4gICAgICAgICAgICBrZXlzID0ga2V5c0Z1bmMoc291cmNlKSxcbiAgICAgICAgICAgIGwgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoIWRlZmF1bHRzIHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcblxuICAvLyBFeHRlbmQgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgaW4gcGFzc2VkLWluIG9iamVjdChzKS5cbiAgXy5leHRlbmQgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMpO1xuXG4gIC8vIEFzc2lnbnMgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIG93biBwcm9wZXJ0aWVzIGluIHRoZSBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICAvLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbiAgXy5leHRlbmRPd24gPSBfLmFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKF8ua2V5cyk7XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3Qga2V5IG9uIGFuIG9iamVjdCB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0LlxuICBfLmZpbmRLZXkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSwga2V5O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICAgIH1cbiAgfTtcblxuICAvLyBJbnRlcm5hbCBwaWNrIGhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgYG9iamAgaGFzIGtleSBga2V5YC5cbiAgdmFyIGtleUluT2JqID0gZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7XG4gICAgcmV0dXJuIGtleSBpbiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9ubHkgY29udGFpbmluZyB0aGUgd2hpdGVsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5waWNrID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIGtleXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge30sIGl0ZXJhdGVlID0ga2V5c1swXTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA+IDEpIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwga2V5c1sxXSk7XG4gICAgICBrZXlzID0gXy5hbGxLZXlzKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0ga2V5SW5PYmo7XG4gICAgICBrZXlzID0gZmxhdHRlbihrZXlzLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgb2JqID0gT2JqZWN0KG9iaik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgaWYgKGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iaikpIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pO1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCB3aXRob3V0IHRoZSBibGFja2xpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLm9taXQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICAgIHZhciBpdGVyYXRlZSA9IGtleXNbMF0sIGNvbnRleHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHtcbiAgICAgIGl0ZXJhdGVlID0gXy5uZWdhdGUoaXRlcmF0ZWUpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID4gMSkgY29udGV4dCA9IGtleXNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleXMgPSBfLm1hcChmbGF0dGVuKGtleXMsIGZhbHNlLCBmYWxzZSksIFN0cmluZyk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKGtleXMsIGtleSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gXy5waWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9KTtcblxuICAvLyBGaWxsIGluIGEgZ2l2ZW4gb2JqZWN0IHdpdGggZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICBfLmRlZmF1bHRzID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzLCB0cnVlKTtcblxuICAvLyBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGdpdmVuIHByb3RvdHlwZSBvYmplY3QuXG4gIC8vIElmIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgdGhlbiB0aGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4gIC8vIGNyZWF0ZWQgb2JqZWN0LlxuICBfLmNyZWF0ZSA9IGZ1bmN0aW9uKHByb3RvdHlwZSwgcHJvcHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgIGlmIChwcm9wcykgXy5leHRlbmRPd24ocmVzdWx0LCBwcm9wcyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSAoc2hhbGxvdy1jbG9uZWQpIGR1cGxpY2F0ZSBvZiBhbiBvYmplY3QuXG4gIF8uY2xvbmUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgICByZXR1cm4gXy5pc0FycmF5KG9iaikgPyBvYmouc2xpY2UoKSA6IF8uZXh0ZW5kKHt9LCBvYmopO1xuICB9O1xuXG4gIC8vIEludm9rZXMgaW50ZXJjZXB0b3Igd2l0aCB0aGUgb2JqLCBhbmQgdGhlbiByZXR1cm5zIG9iai5cbiAgLy8gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4sIGluXG4gIC8vIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW4gdGhlIGNoYWluLlxuICBfLnRhcCA9IGZ1bmN0aW9uKG9iaiwgaW50ZXJjZXB0b3IpIHtcbiAgICBpbnRlcmNlcHRvcihvYmopO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2YgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uaXNNYXRjaCA9IGZ1bmN0aW9uKG9iamVjdCwgYXR0cnMpIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhhdHRycyksIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuICFsZW5ndGg7XG4gICAgdmFyIG9iaiA9IE9iamVjdChvYmplY3QpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKGF0dHJzW2tleV0gIT09IG9ialtrZXldIHx8ICEoa2V5IGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cblxuICAvLyBJbnRlcm5hbCByZWN1cnNpdmUgY29tcGFyaXNvbiBmdW5jdGlvbiBmb3IgYGlzRXF1YWxgLlxuICB2YXIgZXEsIGRlZXBFcTtcbiAgZXEgPSBmdW5jdGlvbihhLCBiLCBhU3RhY2ssIGJTdGFjaykge1xuICAgIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgICAvLyBTZWUgdGhlIFtIYXJtb255IGBlZ2FsYCBwcm9wb3NhbF0oaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTplZ2FsKS5cbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT09IDEgLyBiO1xuICAgIC8vIGBudWxsYCBvciBgdW5kZWZpbmVkYCBvbmx5IGVxdWFsIHRvIGl0c2VsZiAoc3RyaWN0IGNvbXBhcmlzb24pLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICBpZiAoYSAhPT0gYSkgcmV0dXJuIGIgIT09IGI7XG4gICAgLy8gRXhoYXVzdCBwcmltaXRpdmUgY2hlY2tzXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgYTtcbiAgICBpZiAodHlwZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBkZWVwRXEoYSwgYiwgYVN0YWNrLCBiU3RhY2spO1xuICB9O1xuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIGRlZXBFcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBfKSBhID0gYS5fd3JhcHBlZDtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIF8pIGIgPSBiLl93cmFwcGVkO1xuICAgIC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSk7XG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdG9TdHJpbmcuY2FsbChiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAvLyBTdHJpbmdzLCBudW1iZXJzLCByZWd1bGFyIGV4cHJlc3Npb25zLCBkYXRlcywgYW5kIGJvb2xlYW5zIGFyZSBjb21wYXJlZCBieSB2YWx1ZS5cbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XG4gICAgICAvLyBSZWdFeHBzIGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MgZm9yIGNvbXBhcmlzb24gKE5vdGU6ICcnICsgL2EvaSA9PT0gJy9hL2knKVxuICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxuICAgICAgICByZXR1cm4gJycgKyBhID09PSAnJyArIGI7XG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLlxuICAgICAgICAvLyBPYmplY3QoTmFOKSBpcyBlcXVpdmFsZW50IHRvIE5hTi5cbiAgICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjtcbiAgICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgICBjYXNlICdbb2JqZWN0IFN5bWJvbF0nOlxuICAgICAgICByZXR1cm4gU3ltYm9sUHJvdG8udmFsdWVPZi5jYWxsKGEpID09PSBTeW1ib2xQcm90by52YWx1ZU9mLmNhbGwoYik7XG4gICAgfVxuXG4gICAgdmFyIGFyZUFycmF5cyA9IGNsYXNzTmFtZSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICBpZiAoIWFyZUFycmF5cykge1xuICAgICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShfLmlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cblxuICAgIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAvLyBJdCdzIGRvbmUgaGVyZSBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlbSBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIGNvbXBhcmlzb24uXG4gICAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICAgIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgICAgLy8gdW5pcXVlIG5lc3RlZCBzdHJ1Y3R1cmVzLlxuICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09PSBhKSByZXR1cm4gYlN0YWNrW2xlbmd0aF0gPT09IGI7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBmaXJzdCBvYmplY3QgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wdXNoKGEpO1xuICAgIGJTdGFjay5wdXNoKGIpO1xuXG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGFyZUFycmF5cykge1xuICAgICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKGEpLCBrZXk7XG4gICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cbiAgICAgIGlmIChfLmtleXMoYikubGVuZ3RoICE9PSBsZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgICAga2V5ID0ga2V5c1tsZW5ndGhdO1xuICAgICAgICBpZiAoIShoYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopICYmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikgfHwgXy5pc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIF8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cCwgaXNFcnJvciwgaXNNYXAsIGlzV2Vha01hcCwgaXNTZXQsIGlzV2Vha1NldC5cbiAgXy5lYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnLCAnRXJyb3InLCAnU3ltYm9sJywgJ01hcCcsICdXZWFrTWFwJywgJ1NldCcsICdXZWFrU2V0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBfWydpcycgKyBuYW1lXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgJyArIG5hbWUgKyAnXSc7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSA8IDkpLCB3aGVyZVxuICAvLyB0aGVyZSBpc24ndCBhbnkgaW5zcGVjdGFibGUgXCJBcmd1bWVudHNcIiB0eXBlLlxuICBpZiAoIV8uaXNBcmd1bWVudHMoYXJndW1lbnRzKSkge1xuICAgIF8uaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBoYXMob2JqLCAnY2FsbGVlJyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSB0eXBlb2YgYnVncyBpbiBvbGQgdjgsXG4gIC8vIElFIDExICgjMTYyMSksIFNhZmFyaSA4ICgjMTkyOSksIGFuZCBQaGFudG9tSlMgKCMyMjM2KS5cbiAgdmFyIG5vZGVsaXN0ID0gcm9vdC5kb2N1bWVudCAmJiByb290LmRvY3VtZW50LmNoaWxkTm9kZXM7XG4gIGlmICh0eXBlb2YgLy4vICE9ICdmdW5jdGlvbicgJiYgdHlwZW9mIEludDhBcnJheSAhPSAnb2JqZWN0JyAmJiB0eXBlb2Ygbm9kZWxpc3QgIT0gJ2Z1bmN0aW9uJykge1xuICAgIF8uaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJyB8fCBmYWxzZTtcbiAgICB9O1xuICB9XG5cbiAgLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuICBfLmlzRmluaXRlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICFfLmlzU3ltYm9sKG9iaikgJiYgaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/XG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIGlzTmFOKG9iaik7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIGJvb2xlYW4/XG4gIF8uaXNCb29sZWFuID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgZXF1YWwgdG8gbnVsbD9cbiAgXy5pc051bGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBudWxsO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgdW5kZWZpbmVkP1xuICBfLmlzVW5kZWZpbmVkID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdm9pZCAwO1xuICB9O1xuXG4gIC8vIFNob3J0Y3V0IGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gcHJvcGVydHkgZGlyZWN0bHlcbiAgLy8gb24gaXRzZWxmIChpbiBvdGhlciB3b3Jkcywgbm90IG9uIGEgcHJvdG90eXBlKS5cbiAgXy5oYXMgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICBpZiAoIV8uaXNBcnJheShwYXRoKSkge1xuICAgICAgcmV0dXJuIGhhcyhvYmosIHBhdGgpO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHBhdGhbaV07XG4gICAgICBpZiAob2JqID09IG51bGwgfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iaiA9IG9ialtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gISFsZW5ndGg7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzXG4gIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRlZXMuXG4gIF8uaWRlbnRpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBQcmVkaWNhdGUtZ2VuZXJhdGluZyBmdW5jdGlvbnMuIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG4gIF8uY29uc3RhbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuXG4gIF8ubm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBwYXNzZWQgYW4gb2JqZWN0LCB3aWxsIHRyYXZlcnNlIHRoYXQgb2JqZWN04oCZc1xuICAvLyBwcm9wZXJ0aWVzIGRvd24gdGhlIGdpdmVuIGBwYXRoYCwgc3BlY2lmaWVkIGFzIGFuIGFycmF5IG9mIGtleXMgb3IgaW5kZXhlcy5cbiAgXy5wcm9wZXJ0eSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBpZiAoIV8uaXNBcnJheShwYXRoKSkge1xuICAgICAgcmV0dXJuIHNoYWxsb3dQcm9wZXJ0eShwYXRoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIGRlZXBHZXQob2JqLCBwYXRoKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlcyBhIGZ1bmN0aW9uIGZvciBhIGdpdmVuIG9iamVjdCB0aGF0IHJldHVybnMgYSBnaXZlbiBwcm9wZXJ0eS5cbiAgXy5wcm9wZXJ0eU9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKXt9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgcmV0dXJuICFfLmlzQXJyYXkocGF0aCkgPyBvYmpbcGF0aF0gOiBkZWVwR2V0KG9iaiwgcGF0aCk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2ZcbiAgLy8gYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlciA9IF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgYXR0cnMgPSBfLmV4dGVuZE93bih7fSwgYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmlzTWF0Y2gob2JqLCBhdHRycyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIEEgKHBvc3NpYmx5IGZhc3Rlcikgd2F5IHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAgYXMgYW4gaW50ZWdlci5cbiAgXy5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgLy8gTGlzdCBvZiBIVE1MIGVudGl0aWVzIGZvciBlc2NhcGluZy5cbiAgdmFyIGVzY2FwZU1hcCA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmI3gyNzsnLFxuICAgICdgJzogJyYjeDYwOydcbiAgfTtcbiAgdmFyIHVuZXNjYXBlTWFwID0gXy5pbnZlcnQoZXNjYXBlTWFwKTtcblxuICAvLyBGdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3MgdG8vZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG4gIHZhciBjcmVhdGVFc2NhcGVyID0gZnVuY3Rpb24obWFwKSB7XG4gICAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIG1hcFttYXRjaF07XG4gICAgfTtcbiAgICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWQuXG4gICAgdmFyIHNvdXJjZSA9ICcoPzonICsgXy5rZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICAgIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gICAgdmFyIHJlcGxhY2VSZWdleHAgPSBSZWdFeHAoc291cmNlLCAnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICAgIHJldHVybiB0ZXN0UmVnZXhwLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsIGVzY2FwZXIpIDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIF8uZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuICBfLnVuZXNjYXBlID0gY3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCk7XG5cbiAgLy8gVHJhdmVyc2VzIHRoZSBjaGlsZHJlbiBvZiBgb2JqYCBhbG9uZyBgcGF0aGAuIElmIGEgY2hpbGQgaXMgYSBmdW5jdGlvbiwgaXRcbiAgLy8gaXMgaW52b2tlZCB3aXRoIGl0cyBwYXJlbnQgYXMgY29udGV4dC4gUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGZpbmFsXG4gIC8vIGNoaWxkLCBvciBgZmFsbGJhY2tgIGlmIGFueSBjaGlsZCBpcyB1bmRlZmluZWQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqLCBwYXRoLCBmYWxsYmFjaykge1xuICAgIGlmICghXy5pc0FycmF5KHBhdGgpKSBwYXRoID0gW3BhdGhdO1xuICAgIHZhciBsZW5ndGggPSBwYXRoLmxlbmd0aDtcbiAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgcmV0dXJuIF8uaXNGdW5jdGlvbihmYWxsYmFjaykgPyBmYWxsYmFjay5jYWxsKG9iaikgOiBmYWxsYmFjaztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHByb3AgPSBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtwYXRoW2ldXTtcbiAgICAgIGlmIChwcm9wID09PSB2b2lkIDApIHtcbiAgICAgICAgcHJvcCA9IGZhbGxiYWNrO1xuICAgICAgICBpID0gbGVuZ3RoOyAvLyBFbnN1cmUgd2UgZG9uJ3QgY29udGludWUgaXRlcmF0aW5nLlxuICAgICAgfVxuICAgICAgb2JqID0gXy5pc0Z1bmN0aW9uKHByb3ApID8gcHJvcC5jYWxsKG9iaikgOiBwcm9wO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGludGVnZXIgaWQgKHVuaXF1ZSB3aXRoaW4gdGhlIGVudGlyZSBjbGllbnQgc2Vzc2lvbikuXG4gIC8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuICBfLnVuaXF1ZUlkID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcbiAgfTtcblxuICAvLyBCeSBkZWZhdWx0LCBVbmRlcnNjb3JlIHVzZXMgRVJCLXN0eWxlIHRlbXBsYXRlIGRlbGltaXRlcnMsIGNoYW5nZSB0aGVcbiAgLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgZXZhbHVhdGU6IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgaW50ZXJwb2xhdGU6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZTogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICB2YXIgZXNjYXBlUmVnRXhwID0gL1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nO1xuXG4gIHZhciBlc2NhcGVDaGFyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgZXNjYXBlc1ttYXRjaF07XG4gIH07XG5cbiAgLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbiAgLy8gVW5kZXJzY29yZSB0ZW1wbGF0aW5nIGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlcyB3aGl0ZXNwYWNlLFxuICAvLyBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgc2V0dGluZ3MsIG9sZFNldHRpbmdzKSB7XG4gICAgaWYgKCFzZXR0aW5ncyAmJiBvbGRTZXR0aW5ncykgc2V0dGluZ3MgPSBvbGRTZXR0aW5ncztcbiAgICBzZXR0aW5ncyA9IF8uZGVmYXVsdHMoe30sIHNldHRpbmdzLCBfLnRlbXBsYXRlU2V0dGluZ3MpO1xuXG4gICAgLy8gQ29tYmluZSBkZWxpbWl0ZXJzIGludG8gb25lIHJlZ3VsYXIgZXhwcmVzc2lvbiB2aWEgYWx0ZXJuYXRpb24uXG4gICAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCBlc2NhcGVDaGFyKTtcbiAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgZXNjYXBlICsgXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGludGVycG9sYXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgaW50ZXJwb2xhdGUgKyBcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChldmFsdWF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGUgKyBcIlxcbl9fcCs9J1wiO1xuICAgICAgfVxuXG4gICAgICAvLyBBZG9iZSBWTXMgbmVlZCB0aGUgbWF0Y2ggcmV0dXJuZWQgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBvZmZzZXQuXG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgIC8vIElmIGEgdmFyaWFibGUgaXMgbm90IHNwZWNpZmllZCwgcGxhY2UgZGF0YSB2YWx1ZXMgaW4gbG9jYWwgc2NvcGUuXG4gICAgaWYgKCFzZXR0aW5ncy52YXJpYWJsZSkgc291cmNlID0gJ3dpdGgob2JqfHx7fSl7XFxuJyArIHNvdXJjZSArICd9XFxuJztcblxuICAgIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICAgIFwicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIiArXG4gICAgICBzb3VyY2UgKyAncmV0dXJuIF9fcDtcXG4nO1xuXG4gICAgdmFyIHJlbmRlcjtcbiAgICB0cnkge1xuICAgICAgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHZhciBhcmd1bWVudCA9IHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonO1xuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9O1xuXG4gIC8vIEFkZCBhIFwiY2hhaW5cIiBmdW5jdGlvbi4gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGluc3RhbmNlID0gXyhvYmopO1xuICAgIGluc3RhbmNlLl9jaGFpbiA9IHRydWU7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciBjaGFpblJlc3VsdCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBvYmopIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuX2NoYWluID8gXyhvYmopLmNoYWluKCkgOiBvYmo7XG4gIH07XG5cbiAgLy8gQWRkIHlvdXIgb3duIGN1c3RvbSBmdW5jdGlvbnMgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLm1peGluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgXy5lYWNoKF8uZnVuY3Rpb25zKG9iaiksIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gX1tuYW1lXSA9IG9ialtuYW1lXTtcbiAgICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gW3RoaXMuX3dyYXBwZWRdO1xuICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIF87XG4gIH07XG5cbiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICBfLm1peGluKF8pO1xuXG4gIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PT0gJ3NoaWZ0JyB8fCBuYW1lID09PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBvYmopO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydjb25jYXQnLCAnam9pbicsICdzbGljZSddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBtZXRob2QuYXBwbHkodGhpcy5fd3JhcHBlZCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRXh0cmFjdHMgdGhlIHJlc3VsdCBmcm9tIGEgd3JhcHBlZCBhbmQgY2hhaW5lZCBvYmplY3QuXG4gIF8ucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gUHJvdmlkZSB1bndyYXBwaW5nIHByb3h5IGZvciBzb21lIG1ldGhvZHMgdXNlZCBpbiBlbmdpbmUgb3BlcmF0aW9uc1xuICAvLyBzdWNoIGFzIGFyaXRobWV0aWMgYW5kIEpTT04gc3RyaW5naWZpY2F0aW9uLlxuICBfLnByb3RvdHlwZS52YWx1ZU9mID0gXy5wcm90b3R5cGUudG9KU09OID0gXy5wcm90b3R5cGUudmFsdWU7XG5cbiAgXy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMuX3dyYXBwZWQpO1xuICB9O1xuXG4gIC8vIEFNRCByZWdpc3RyYXRpb24gaGFwcGVucyBhdCB0aGUgZW5kIGZvciBjb21wYXRpYmlsaXR5IHdpdGggQU1EIGxvYWRlcnNcbiAgLy8gdGhhdCBtYXkgbm90IGVuZm9yY2UgbmV4dC10dXJuIHNlbWFudGljcyBvbiBtb2R1bGVzLiBFdmVuIHRob3VnaCBnZW5lcmFsXG4gIC8vIHByYWN0aWNlIGZvciBBTUQgcmVnaXN0cmF0aW9uIGlzIHRvIGJlIGFub255bW91cywgdW5kZXJzY29yZSByZWdpc3RlcnNcbiAgLy8gYXMgYSBuYW1lZCBtb2R1bGUgYmVjYXVzZSwgbGlrZSBqUXVlcnksIGl0IGlzIGEgYmFzZSBsaWJyYXJ5IHRoYXQgaXNcbiAgLy8gcG9wdWxhciBlbm91Z2ggdG8gYmUgYnVuZGxlZCBpbiBhIHRoaXJkIHBhcnR5IGxpYiwgYnV0IG5vdCBiZSBwYXJ0IG9mXG4gIC8vIGFuIEFNRCBsb2FkIHJlcXVlc3QuIFRob3NlIGNhc2VzIGNvdWxkIGdlbmVyYXRlIGFuIGVycm9yIHdoZW4gYW5cbiAgLy8gYW5vbnltb3VzIGRlZmluZSgpIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgbG9hZGVyIHJlcXVlc3QuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgndW5kZXJzY29yZScsIFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG59KCkpO1xuIiwiLy9pbXBvcnQgdGVzdGRhdGEgZnJvbSAnLi90ZXN0ZGF0YSdcclxuaW1wb3J0IHsgdGVtcGxhdGUgfSBmcm9tICd1bmRlcnNjb3JlJ1xyXG5cclxuY29uc3QgYXJ0aWNsZVRlbXBsYXRlID0gdGVtcGxhdGUoXHJcbiAgICAnPGFydGljbGU+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJhcnRpY2xlLWluZm9cIj4nICtcclxuICAgICAgICAgICAgJzxoMz48YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiPCU9IHVybCAlPlwiPjwlPSB0aXRsZSAlPjwvYT48L2gzPicgK1xyXG4gICAgICAgICAgICAnPHA+PCU9IGRlc2NyaXB0aW9uICU+PC9wPicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImFydGljbGUtcmF0aW5nXCIgc3R5bGU9XCJjb2xvcjogPCU9IGNvbG9yICU+XCI+PCU9IHJhdGluZyAlPjwvZGl2PicgK1xyXG4gICAgJzwvYXJ0aWNsZT4nXHJcbilcclxuXHJcbmNvbnN0IHRvdGFsU2NvcmVUZW1wbGF0ZSA9IHRlbXBsYXRlKFxyXG4gICAgJzxzcGFuPkJhc2VkIG9uIHNjb3JlcyBmcm9tIDxiPjwlPSBjb3VudCAlPjwvYj4gc2l0ZXMgdGhlIHByb2R1Y3RcXCdzIHRvdGFsIHNjb3JlIGlzPC9zcGFuPjxzcGFuIGNsYXNzPVwidG90YWwtc2NvcmUtdmFsdWVcIiBzdHlsZT1cImNvbG9yOiA8JT0gY29sb3IgJT5cIj48JT0gc2NvcmUgJT48L3NwYW4+J1xyXG4pXHJcblxyXG5mdW5jdGlvbiBzZWFyY2goKSB7XHJcbiAgICBjb25zdCBzZWFyY2hrZXkgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaGtleScpKS52YWx1ZTtcclxuXHJcbiAgICBpZiAoc2VhcmNoa2V5ICYmIHNlYXJjaGtleS5sZW5ndGggPiA1KSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yJykudGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgICBjb25zdCByZXN1bHRzTGlzdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0cy1saXN0Jyk7XHJcbiAgICAgICAgY29uc3QgdG90YWxTY29yZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWwtc2NvcmUnKVxyXG4gICAgICAgIHJlc3VsdHNMaXN0RWxlbWVudC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB0b3RhbFNjb3JlRWxlbWVudC5pbm5lckhUTUwgPSAnU2VhcmNoaW5nLi4uJztcclxuXHJcbiAgICAgICAgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgICBmZXRjaFJlc3VsdHNQYWdlKHNlYXJjaGtleSwgMSksXHJcbiAgICAgICAgICAgIGZldGNoUmVzdWx0c1BhZ2Uoc2VhcmNoa2V5LCAyKSxcclxuICAgICAgICAgICAgZmV0Y2hSZXN1bHRzUGFnZShzZWFyY2hrZXksIDMpLFxyXG4gICAgICAgICAgICBmZXRjaFJlc3VsdHNQYWdlKHNlYXJjaGtleSwgNCksXHJcbiAgICAgICAgICAgIGZldGNoUmVzdWx0c1BhZ2Uoc2VhcmNoa2V5LCA1KSxcclxuICAgICAgICBdKS50aGVuKHJlc3BvbnNlcyA9PiBQcm9taXNlLmFsbChyZXNwb25zZXMubWFwKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkpKVxyXG4gICAgICAgIC50aGVuKChyZXNwb25zZUpzb25zOiBhbnlbXSkgPT4gcmVzcG9uc2VKc29ucy5tYXAocmVzcG9uc2VKc29uID0+IHJlc3BvbnNlSnNvbi5pdGVtcyB8fCByZXNwb25zZUpzb24uZXJyb3IpLmZsYXQoKSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbihpdGVtcykge1xyXG4gICAgICAgICAgICBsZXQgcmF0aW5nc1RvdGFsQ291bnQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgcmF0aW5nc1RvdGFsVmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uZXJyb3JzICYmIGl0ZW0uZXJyb3JzWzBdLnJlYXNvbiA9PT0gJ2RhaWx5TGltaXRFeGNlZWRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3InKS50ZXh0Q29udGVudCA9ICdNYXhpbXVtIG51bWJlciBvZiBxdWVyaWVzIGZvciB0aGUgZGF5IGhhcyBiZWVuIHJlYWNoZWQuIFRyeSBhZ2FpbiB0b21vcnJvdy4nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IHNjb3JlIDogbnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ucGFnZW1hcC5hZ2dyZWdhdGVyYXRpbmcgJiYgaXRlbS5wYWdlbWFwLmFnZ3JlZ2F0ZXJhdGluZy5sZW5ndGggJiYgaXRlbS5wYWdlbWFwLmFnZ3JlZ2F0ZXJhdGluZ1swXS5iZXN0cmF0aW5nICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29yZSA9IG5vcm1hbGl6ZVJhdGluZyhwYXJzZUZsb2F0KGl0ZW0ucGFnZW1hcC5hZ2dyZWdhdGVyYXRpbmdbMF0ucmF0aW5ndmFsdWUpLCBwYXJzZUZsb2F0KGl0ZW0ucGFnZW1hcC5hZ2dyZWdhdGVyYXRpbmdbMF0uYmVzdHJhdGluZykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihzY29yZSkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICByYXRpbmdzVG90YWxDb3VudCArKztcclxuICAgICAgICAgICAgICAgICAgICByYXRpbmdzVG90YWxWYWx1ZSArPSBzY29yZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0ucGFnZW1hcC5yYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlUmF0aW5ncyA9IGl0ZW0ucGFnZW1hcC5yYXRpbmcubWFwKChyYXRpbmcgOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFJhdGluZyA9IG5vcm1hbGl6ZVJhdGluZyhwYXJzZUZsb2F0KHJhdGluZy5yYXRpbmd2YWx1ZSksIHBhcnNlRmxvYXQocmF0aW5nLmJlc3RyYXRpbmcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKG5vcm1hbGl6ZWRSYXRpbmcpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3JtYWxpemVkUmF0aW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlID0gcGFnZVJhdGluZ3MucmVkdWNlKChjdW11bGF0ZWRWYWx1ZSA6IG51bWJlciwgdmFsdWUgOiBudW1iZXIpID0+IGN1bXVsYXRlZFZhbHVlICsgdmFsdWUsIDAgKSAvIHBhZ2VSYXRpbmdzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oc2NvcmUpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZ3NUb3RhbENvdW50ICsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZ3NUb3RhbFZhbHVlICs9IHNjb3JlO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0c0xpc3RFbGVtZW50LmlubmVySFRNTCArPSBhcnRpY2xlVGVtcGxhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogaXRlbS5saW5rLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpdGVtLnNuaXBwZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAoc2NvcmUgKiA1KS50b0ZpeGVkKDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBnZXRDb2xvckZvclNjb3JlKHNjb3JlICogNSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJhdGluZ3NUb3RhbENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSAocmF0aW5nc1RvdGFsVmFsdWUgKiA1IC8gcmF0aW5nc1RvdGFsQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgdG90YWxTY29yZUVsZW1lbnQuaW5uZXJIVE1MID0gdG90YWxTY29yZVRlbXBsYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzY29yZTogc2NvcmUudG9GaXhlZCgxKSxcclxuICAgICAgICAgICAgICAgICAgICBjb3VudDogcmF0aW5nc1RvdGFsQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGdldENvbG9yRm9yU2NvcmUoc2NvcmUpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3InKS50ZXh0Q29udGVudCA9ICdTZWFyY2ggdGVybSBtaW5pbXVtIGxlbmd0aCBpcyAnICsgNTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q29sb3JGb3JTY29yZSAoc2NvcmUgOiBudW1iZXIpIHtcclxuICAgIGlmIChzY29yZSA8IDIpIHJldHVybiAnYnJvd24nXHJcbiAgICBpZiAoc2NvcmUgPCAzKSByZXR1cm4gJ3JlZCdcclxuICAgIGlmIChzY29yZSA8IDQpIHJldHVybiAnI2YxZjEwMCdcclxuICAgIGlmIChzY29yZSA8IDQuNSkgcmV0dXJuICdsaW1lZ3JlZW4nXHJcbiAgICByZXR1cm4gJ3NlYWdyZWVuJ1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZmV0Y2hSZXN1bHRzUGFnZShzZWFyY2hrZXk6c3RyaW5nLCBwYWdlID0gMSkgOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgICBpZiAoIXNlYXJjaGtleSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgLyp2YXIgZmFrZVJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeSh0ZXN0ZGF0YVtwYWdlIC0gMV0pXSwge3R5cGUgOiAnYXBwbGljYXRpb24vanNvbid9KSk7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8UmVzcG9uc2U+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKGZha2VSZXNwb25zZSksIE1hdGgucmFuZG9tKCkgKiAyMDAwKTtcclxuICAgIH0pOyovXHJcblxyXG4gICAgcmV0dXJuIGZldGNoKGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9jdXN0b21zZWFyY2gvdjE/Y3g9MDA1MDQyMDcwNjg2MzMxMjMxNTAyOjdjcmxlbC02YWU4JmtleT1BSXphU3lDTHVfRnllclBvVVpacGNpNXEwWi1jdzNJWW1EMHJHQ3cmcT0ke3NlYXJjaGtleX0mbnVtPTEwJnN0YXJ0PSR7cGFnZSAqIDEwfWAsIHtcclxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIGhlYWRlcnM6e1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVJhdGluZyhyYXRpbmc6bnVtYmVyLCBiZXN0cmF0aW5nOm51bWJlcikgOiBudW1iZXJ7ICBcclxuICAgIHJldHVybiByYXRpbmcgLyBiZXN0cmF0aW5nO1xyXG59XHJcblxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdCcpLm9uY2xpY2sgPSBzZWFyY2g7XHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hrZXknKS5vbmtleXByZXNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICBzZWFyY2goKTtcclxuICAgIH1cclxufTsiLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9